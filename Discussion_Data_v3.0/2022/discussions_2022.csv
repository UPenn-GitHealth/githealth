title,user_id,created_at,comments
No package mactching ros-galactic-desktop available  for AWSIM-stable branch in Ubuntu 22.04,anilbommareddy,2022-12-27T04:14:09Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-12-27T04:19:06Z', 'comment_text': '@shmpwk Could you tell me the right branch we should use for Humble?'}, {'user_id': 'shmpwk', 'created_at': '2022-12-27T05:17:42Z', 'comment_text': '@anilbommareddy \r\nCurrently, the official support for AWSIM is only ROS2 Galactic, Ubuntu20.04.\r\n\r\nFor Ubuntu 22.04, try work in progress version which includes our individual repos but will be officially supported soon:\r\nAutoware: https://github.com/shmpwk/autoware/tree/humble-awsim-stable\r\nAWSIM: https://github.com/tier4/AWSIM/tree/humble\r\n\r\nTry the following command\r\n```\r\ngit clone https://github.com/shmpwk/autoware/\r\ncd autoware\r\ngit checkout humble-awsim-stable\r\n./setup-dev-env.sh  #*/enter Y and install cuda-Y.\r\nmkdir src\r\nvcs import src < autoware.repos\r\nsource /opt/ros/humble/setup.bash\r\nrosdep update\r\nrosdep install -y --from-paths src --ignore-src --rosdistro $ROS_DISTRO\r\ncolcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE=Release -DCMAKE_CXX_FLAGS=""-w""\r\nsource install/setup.bash\r\nros2 launch autoware_launch e2e_simulator.launch.xml vehicle_model:=sample_vehicle sensor_model:=awsim_sensor_kit map_path:=<your mapfile location>\r\n```\r\n\r\nNote that when launching AWSIM, you need its binary. But currently we have only Galactic version of binary.\r\nYou have to create AWSIM binary for Humble by yourself from https://github.com/tier4/AWSIM/tree/humble.'}, {'user_id': 'patelabhay-12', 'created_at': '2023-01-04T04:51:38Z', 'comment_text': 'hii @shmpwk \r\nShall we install autoware for AWSIM in ubuntu 22.04 by your above steps.'}, {'user_id': 'shmpwk', 'created_at': '2023-01-04T04:57:38Z', 'comment_text': '@patelabhay-12 \r\nStill the above step is not official but now should work correctly in Ubuntu 22.04 from the success of my several co-workers  attempts.'}, {'user_id': 'patelabhay-12', 'created_at': '2023-01-04T05:03:21Z', 'comment_text': '\r\n![Screenshot from 2023-01-04 10-30-12](https://user-images.githubusercontent.com/89857716/210487834-a489a689-053f-46bb-9f49-1f8e386ef9c9.png)\r\nokay, But I got the error when giving the below command-\r\ncolcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE=Release -DCMAKE_CXX_FLAGS=""-w""\r\n'}, {'user_id': 'shmpwk', 'created_at': '2023-01-04T05:12:27Z', 'comment_text': '@patelabhay-12 \r\nLet me check several points\r\n- Did you succeeded following without any error:  `./setup-dev-env.sh`, `vcs import src < autoware.repos`, `rosdep update`, `rosdep install -y --from-paths src --ignore-src --rosdistro $ROS_DISTRO` ?\r\n- Have you built the other Autoware branch under your `~/autoware` folder?'}, {'user_id': 'shmpwk', 'created_at': '2023-01-04T05:14:41Z', 'comment_text': 'I firstly doubted [this issue](https://github.com/autowarefoundation/autoware/issues/3119) but it seems you have different error :thinking: '}, {'user_id': 'patelabhay-12', 'created_at': '2023-01-04T05:25:02Z', 'comment_text': '> @patelabhay-12 Let me check several points\r\n> \r\n>     * Did you succeeded following without any error:  `./setup-dev-env.sh`, `vcs import src < autoware.repos`, `rosdep update`, `rosdep install -y --from-paths src --ignore-src --rosdistro $ROS_DISTRO` ?\r\n> \r\n>     * Have you built the other Autoware branch under your `~/autoware` folder?\r\n\r\nyes I succeeded in following without any error.\r\n\r\nYes, I built the other Autoware branch under our ~/autoware folder\r\n![image](https://user-images.githubusercontent.com/89857716/210490133-51c72c01-2700-4c10-871f-75c812d3afc7.png)\r\n'}, {'user_id': 'shmpwk', 'created_at': '2023-01-04T05:28:15Z', 'comment_text': '> Yes, I built the other Autoware branch under your ~/autoware folder\r\n\r\nIn that case you might mixed the previous build cache. Could you once `rm build install log  -f` under `~/autoware` ? and colcon build again?'}, {'user_id': 'patelabhay-12', 'created_at': '2023-01-04T05:37:21Z', 'comment_text': '> > Yes, I built the other Autoware branch under your ~/autoware folder\r\n> \r\n> In that case you might mixed the previous build cache. Could you once `rm build install log` under `~/autoware` ? and colcon build again?\r\n\r\nDid the same, & getting error again\r\n![Screenshot from 2023-01-04 11-06-12](https://user-images.githubusercontent.com/89857716/210491017-f1e704da-0d27-4ec3-81ea-c9142e68da13.png)\r\n'}, {'user_id': 'shmpwk', 'created_at': '2023-01-04T05:49:49Z', 'comment_text': '@patelabhay-12 \r\nAccording to [this issue](https://github.com/koide3/ndt_omp/issues/47), your PCL version is much newer than we expected? Could you share your PCL version? \r\n\r\n```\r\n$ dpkg -l |grep pcl\r\n```\r\nHave you manually installed PCL in Ubuntu22.04? (should be automatically installed with our Autoware setup) '}, {'user_id': 'patelabhay-12', 'created_at': '2023-01-04T06:49:59Z', 'comment_text': '![image](https://user-images.githubusercontent.com/89857716/210499461-71bcde79-11d5-484c-a4d4-bba0ea7db9c4.png)\r\n'}, {'user_id': 'shmpwk', 'created_at': '2023-01-04T07:01:59Z', 'comment_text': ""We don't use `pcl-tools` and `python3-pcl`. Could you remove these pakages by `sudo apt remove pcl-tools python3-pcl` ? ""}, {'user_id': 'shmpwk', 'created_at': '2023-01-04T07:04:52Z', 'comment_text': 'FYI, this is our environment. \r\n![image (4)](https://user-images.githubusercontent.com/42209144/210501342-8869bbe5-5517-4639-9d03-306a325b860e.png)\r\n\r\n(We might also need `ros-humble-perception-pcl` which should be installed by `rosdep install -y --from-paths src --ignore-src --rosdistro $ROS_DISTRO`)'}, {'user_id': 'patelabhay-12', 'created_at': '2023-01-04T07:38:45Z', 'comment_text': 'I did the same for installation of ros-humble-perception-pcl , but its not showing ??\r\n![Screenshot from 2023-01-04 13-08-06](https://user-images.githubusercontent.com/89857716/210506189-665c1a10-2dce-454e-b0d7-4a1c96a457a0.png)\r\n'}, {'user_id': 'shmpwk', 'created_at': '2023-01-04T07:45:24Z', 'comment_text': 'It seems `pcl-tools` and `python3-pcl` are succeeded to delete.\r\nAs for `ros-humble-perception-pcl `, it is not related to your error at least for now. (Perhaps it might cause the other perception pakage error later on.)\r\n\r\nCould you try this under `~/autoware/`?\r\n```\r\nrm build/ndt_omp/ install/share/ndt_omp/ install/include/ndp_omp -rf \r\n```\r\nand then colcon build again?'}, {'user_id': 'patelabhay-12', 'created_at': '2023-01-04T07:57:18Z', 'comment_text': 'did the same & also getting same errors.\r\n![Screenshot from 2023-01-04 13-26-45](https://user-images.githubusercontent.com/89857716/210509018-852643fa-7d42-4954-969b-646321751c1e.png)\r\n![Screenshot from 2023-01-04 13-25-36](https://user-images.githubusercontent.com/89857716/210509052-17e03238-3394-4a5f-aea5-8fd50603e46f.png)\r\n'}, {'user_id': 'shmpwk', 'created_at': '2023-01-04T08:26:48Z', 'comment_text': '@patelabhay-12 \r\nCould you try manually  `sudo apt install ros-humble-perception-pcl` ? (This is not good way but not harmful to your environment.)\r\n\r\n(For my memo: the status looks good https://repo.ros2.org/status_page/ros_humble_default.html)'}, {'user_id': 'patelabhay-12', 'created_at': '2023-01-04T08:52:56Z', 'comment_text': '![Screenshot from 2023-01-04 14-19-41](https://user-images.githubusercontent.com/89857716/210517727-21bf6a17-4453-47b7-b7dd-f6b8e7ed8dbf.png)\r\n![Screenshot from 2023-01-04 14-19-41](https://user-images.githubusercontent.com/89857716/210517760-e966d825-e410-4566-813f-1e7914b6c7ca.png)\r\n\r\n\r\n\r\n![Screenshot from 2023-01-04 14-21-29](https://user-images.githubusercontent.com/89857716/210518036-f8c227b6-9ee9-4a75-8d02-6b1ae8646b0e.png)\r\n\r\nros-humble-perception-pcl is installed successfully, after that i try same and getting same errors\r\n\r\n'}, {'user_id': 'patelabhay-12', 'created_at': '2023-01-04T08:54:41Z', 'comment_text': 'same error\r\n\r\n![image](https://user-images.githubusercontent.com/89857716/210518575-def76184-20eb-4690-a8bb-c9751b62a0fe.png)\r\n'}, {'user_id': 'shmpwk', 'created_at': '2023-01-04T08:58:15Z', 'comment_text': '@patelabhay-12 \r\n\r\nIn your error log, I found your build depends `/usr/local/include/pcl-1.13 ......` which is newer than we expected (we expect 1.12).\r\nSo you should remove it.  ~~Now I investigate how to remove it ....... or do you know it?~~'}, {'user_id': 'shmpwk', 'created_at': '2023-01-04T09:05:34Z', 'comment_text': '@patelabhay-12 \r\nYou can remove it directly by\r\n```\r\nsudo rm /usr/local/include/pcl-1.13/ -rf\r\n```\r\n\r\nFYI, I have experienced the similar situation and I was taught to do that before ([japanese issues](https://github.com/jsk-ros-pkg/jsk_recognition/issues/2505#issuecomment-633787027) ).\r\n\r\n\r\nAfter remove it, be sure not to exist pcl-1.13. \r\nYou can confirm it by\r\n```\r\nlocate pcl_  |grep 1.13\r\nlocate libpcl_  |grep 1.13\r\n```\r\nwithout output.'}, {'user_id': 'patelabhay-12', 'created_at': '2023-01-04T09:16:54Z', 'comment_text': 'I removed it by sudo rm /usr/local/include/pcl-1.13/ -rf\r\nthen try colcon build, now its showing that fatal error: pcl/point_types.h: No such file or directory\r\n\r\n\r\n\r\n![error1](https://user-images.githubusercontent.com/89857716/210522641-b2c2042e-3d78-486a-8fd4-aa1770646e8a.png)\r\n![error2](https://user-images.githubusercontent.com/89857716/210522679-7dfc4484-ee81-4063-8ca1-04268fc295b7.png)\r\n'}, {'user_id': 'shmpwk', 'created_at': '2023-01-04T09:20:10Z', 'comment_text': 'OK, in that situation, you have to execute `rm build install log  -rf` under `~/autoware` to remove the previous pcl build dependency.'}, {'user_id': 'patelabhay-12', 'created_at': '2023-01-04T09:22:52Z', 'comment_text': 'rm build install log  -rf \r\nafter this, Shall I give colcon build'}, {'user_id': 'shmpwk', 'created_at': '2023-01-04T09:23:21Z', 'comment_text': 'YES!'}, {'user_id': 'patelabhay-12', 'created_at': '2023-01-04T09:28:08Z', 'comment_text': '![image](https://user-images.githubusercontent.com/89857716/210524298-99930d87-348f-4275-8b92-e01c8c7f19a3.png)\r\n\r\nnow iot is showing error in Cmake list\r\n'}, {'user_id': 'shmpwk', 'created_at': '2023-01-04T09:29:34Z', 'comment_text': 'You need ` sudo rm  /usr/share/pcl-1.13/  -rf` , `rm build install log  -rf`, colcon build\r\n\r\nAfter remove it, be sure not to exist pcl-1.13.\r\nYou can confirm it by\r\n```\r\nlocate pcl_  |grep 1.13\r\nlocate libpcl_  |grep 1.13\r\n```\r\nwithout any output.'}, {'user_id': 'patelabhay-12', 'created_at': '2023-01-04T09:41:48Z', 'comment_text': 'after giving  sudo rm  /usr/share/pcl-1.13/  -rf\r\nand rm build install log  -rf\r\n\r\nand then i  locate pcl by locate libpcl_  |grep 1.13\r\nit is showing PCL 1.13 , i think these are not removed so we got errors\r\n\r\n![image](https://user-images.githubusercontent.com/89857716/210526703-d7dc1b09-163b-48fe-95c2-b8a9571f9fde.png)\r\n\r\n![image](https://user-images.githubusercontent.com/89857716/210526779-dd3cba97-9660-42f9-be5a-6be4930d8987.png)\r\n'}, {'user_id': 'shmpwk', 'created_at': '2023-01-04T09:43:54Z', 'comment_text': 'Your pcl under home directory is basically not depended and do not have to remove them.'}]"
chore(pre-commit workflows): add comments to recommend using pre-commit.ci,kenji-miyake,2022-12-22T06:15:56Z,[]
DevOps Dojo: ROS Node Documentation (Phase 1),kaspermeck-arm,2022-12-21T22:27:29Z,"[{'user_id': 'kaspermeck-arm', 'created_at': '2023-01-11T02:00:56Z', 'comment_text': 'Replaced with https://github.com/autowarefoundation/autoware.universe/issues/2630.'}]"
DevOps Dojo: ROS Node Configuration (Phase 1),kaspermeck-arm,2022-12-21T22:15:16Z,"[{'user_id': 'kaspermeck-arm', 'created_at': '2023-01-11T02:00:07Z', 'comment_text': 'Replaced with https://github.com/autowarefoundation/autoware.universe/issues/2631.'}]"
ci(pre-commit): autoupdate,pre-commit-ci[bot],2022-12-12T17:29:27Z,[]
chore(release): update galactic branch,shmpwk,2022-12-12T10:47:11Z,"[{'user_id': 'shmpwk', 'created_at': '2022-12-19T10:52:57Z', 'comment_text': 'All related PRs have been merged. \r\nAlso, I tested this with AWSIM and works as I expected.'}]"
ci: add workaround for galactic eol,wep21,2022-12-12T08:19:06Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-12-12T08:39:16Z', 'comment_text': 'Related: https://github.com/autowarefoundation/autoware/discussions/2622#discussioncomment-4375825'}, {'user_id': 'kenji-miyake', 'created_at': '2022-12-12T08:40:27Z', 'comment_text': 'In addition to `vcs-import`, there are some lines that use `rosdep update`.\r\nhttps://github.com/autowarefoundation/autoware/blob/9da9b5e25d40b5c9d4d7141ef807325de2077bcf/.github/workflows/build-main.yaml#L41'}]"
Source installation failed: ndt_omp ,cjffly,2022-12-08T19:27:51Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-12-09T01:34:03Z', 'comment_text': '@cjffly Was your Ubuntu 22.04 clean-installed? Or was upgraded from 20.04? I guess there are some issues with your environment.\r\nMy gcc version is also `gcc (Ubuntu 11.3.0-1ubuntu1~22.04) 11.3.0`, but can successfully build ndt_omp.'}, {'user_id': 'cjffly', 'created_at': '2022-12-09T18:07:25Z', 'comment_text': '> @cjffly Was your Ubuntu 22.04 clean-installed? Or was upgraded from 20.04? I guess there are some issues with your environment. My gcc version is also `gcc (Ubuntu 11.3.0-1ubuntu1~22.04) 11.3.0`, but can successfully build ndt_omp.\r\n\r\nYou are right, mine is upgraded from 20.04. Not sure if there is quick fix or I have to reinstall 22.04 from scratch.'}, {'user_id': 'kenji-miyake', 'created_at': '2022-12-10T16:27:10Z', 'comment_text': ""I guess there is some cache remaining, or your environment variable is wrong. Please check them.\r\n@cjffly If it's not a bug, can I close this issue? Or can I convert this issue to a discussion thread?""}, {'user_id': 'cjffly', 'created_at': '2022-12-10T17:17:54Z', 'comment_text': ""> I guess there is some cache remaining, or your environment variable is wrong. Please check them.\n> @cjffly If it's not a bug, can I close this issue? Or can I convert this issue to a discussion thread?\n\nMaybe concert into issue would work. I will try to fix my environment and update here later""}]"
fix(.webauto-ci): update Webauto CI for humble,mitsudome-r,2022-12-05T01:57:25Z,"[{'user_id': 'mitsudome-r', 'created_at': '2022-12-05T01:58:12Z', 'comment_text': 'I\'m testing this on TIER IV Evaluator before making it ""Ready for review"".'}, {'user_id': 'mitsudome-r', 'created_at': '2022-12-09T07:31:42Z', 'comment_text': 'I confirmed that the build is passing in evaluator so merging this PR.'}]"
fix(.webauto-ci): update Webauto CI for humble,mitsudome-r,2022-12-05T01:55:09Z,[]
ci(pre-commit-ansible): autoupdate,awf-autoware-bot[bot],2022-12-04T00:10:46Z,[]
chore: update tool versions,awf-autoware-bot[bot],2022-12-03T00:03:37Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-12-15T14:00:37Z', 'comment_text': 'This issue was resolved.\r\nhttps://github.com/autowarefoundation/autoware/pull/3099#discussion_r1038274845'}, {'user_id': 'kenji-miyake', 'created_at': '2022-12-15T14:01:40Z', 'comment_text': 'CI for just in case: https://github.com/autowarefoundation/autoware/actions/runs/3704789294\r\n-> Failed. :pleading_face: \r\n\r\nWill wait until aarch64.whl is available on https://pypi.org/project/clang-format/15.0.6/#files like https://pypi.org/project/clang-format/14.0.6/#files.\r\n-> https://pypi.org/project/clang-format/16.0.0/#files'}]"
ci(update-tool-versions): update clang-format version check,kenji-miyake,2022-12-02T03:05:31Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-12-02T03:06:00Z', 'comment_text': 'https://github.com/autowarefoundation/autoware/actions/runs/3598504381'}, {'user_id': 'kenji-miyake', 'created_at': '2022-12-02T03:07:40Z', 'comment_text': 'Worked: https://github.com/autowarefoundation/autoware/compare/fd1e4cd6a7b03cfb5a80217b247e052d246272bb..e680f691835c33115ab3e62bc37ad7052e8da92b\r\n\r\n![image](https://user-images.githubusercontent.com/31987104/205206176-8785e1da-c763-4378-a3bc-faa86559ced4.png)\r\n'}]"
ci(mirror-main-branch): add a new workflow to mirror the main branch to the main distro branch,kenji-miyake,2022-12-01T12:48:37Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-12-01T13:27:56Z', 'comment_text': ""I've tested in another repository, and it worked.\r\n![image](https://user-images.githubusercontent.com/31987104/205064751-6ad1789a-443f-42af-8fe5-f9e941eab5c6.png)\r\n""}]"
Remove tier4_ad_api_adaptor,isamu-takagi,2022-12-01T08:43:46Z,[]
ci(pre-commit): update commit message,kenji-miyake,2022-12-01T02:39:25Z,[]
docs(ansible): simplify manual installation steps,kenji-miyake,2022-11-30T17:01:58Z,[]
ci: refactor workflows to be OS/distro independent like #3087,kenji-miyake,2022-11-30T15:53:21Z,[]
ci: remove Humble CI workflows,kenji-miyake,2022-11-30T14:36:18Z,[]
ci(docker-build-and-push): fix the order of steps,kenji-miyake,2022-11-30T14:22:28Z,[]
feat(ansible): verify OS before running playbooks,kenji-miyake,2022-11-30T13:11:40Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-11-30T13:16:19Z', 'comment_text': ""Since it's a very simple implementation for now, any reviews are welcome!""}, {'user_id': 'wep21', 'created_at': '2022-11-30T14:07:43Z', 'comment_text': 'How about using ansible_distribution_xxx variables?\r\n```\r\n❯ ansible -m setup localhost | grep distribution\r\n/usr/lib/python3/dist-packages/paramiko/transport.py:236: CryptographyDeprecationWarning: Blowfish has been deprecated\r\n  ""class"": algorithms.Blowfish,\r\n[WARNING]: No inventory was parsed, only implicit localhost is available\r\n        ""ansible_distribution"": ""Ubuntu"",\r\n        ""ansible_distribution_file_parsed"": true,\r\n        ""ansible_distribution_file_path"": ""/etc/os-release"",\r\n        ""ansible_distribution_file_variety"": ""Debian"",\r\n        ""ansible_distribution_major_version"": ""22"",\r\n        ""ansible_distribution_release"": ""jammy"",\r\n        ""ansible_distribution_version"": ""22.04"",\r\n```'}, {'user_id': 'kenji-miyake', 'created_at': '2022-11-30T14:09:10Z', 'comment_text': ""Oh, it's a good idea! Thanks.""}, {'user_id': '0x126', 'created_at': '2022-11-30T14:13:20Z', 'comment_text': 'I have never used it, but  ""ansible.builtin.meta: end_play"" might fit what you want to do.\r\nhttps://docs.ansible.com/ansible/latest/collections/ansible/builtin/meta_module.html'}, {'user_id': 'kenji-miyake', 'created_at': '2022-11-30T15:35:12Z', 'comment_text': 'Since `end_play` succeeds the play (and cannot set a message), `ansible.builtin.fail` would be better?\r\n\r\nhttps://docs.ansible.com/ansible/latest/collections/ansible/builtin/fail_module.html#ansible-collections-ansible-builtin-fail-module\r\n\r\n```\r\nTASK [Verify OS] *********************************************************************************************************************************\r\n\r\nPLAY RECAP ***************************************************************************************************************************************\r\nlocalhost                  : ok=1    changed=0    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   \r\n\r\nCompleted.\r\n```'}, {'user_id': 'kenji-miyake', 'created_at': '2022-11-30T17:19:48Z', 'comment_text': ""I'll merge this tomorrow (after getting more feedback from my colleagues) and replace `20.04` with `22.04`.""}, {'user_id': 'yukkysaito', 'created_at': '2022-12-01T01:00:25Z', 'comment_text': 'LGTM'}]"
ci(docker-build-and-push): use dpkg --print-architecture,kenji-miyake,2022-11-30T12:52:57Z,[]
ci: refactor workflows,kenji-miyake,2022-11-30T12:09:26Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-11-30T12:10:32Z', 'comment_text': 'Testing:\r\n- https://github.com/autowarefoundation/autoware/actions/runs/3583297023\r\n\r\nWorked.\r\n![image](https://user-images.githubusercontent.com/31987104/204798151-d25b2727-b447-4a26-9639-505537bbabcb.png)\r\n'}]"
WIP: test Rolling,kenji-miyake,2022-11-30T11:58:38Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-11-30T14:00:33Z', 'comment_text': ""I'll replace `humble` with `rolling` after https://github.com/autowarefoundation/autoware/pull/2692 is merged.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-11-30T14:20:17Z', 'comment_text': 'Test results:\r\n- https://github.com/autowarefoundation/autoware/actions/runs/3584095820\r\n  - -> https://github.com/autowarefoundation/autoware/actions/runs/3584097375/jobs/6030331797\r\n\r\n![image](https://user-images.githubusercontent.com/31987104/204825155-3e7b329e-2fb5-440a-9e77-8526bc1937c6.png)\r\n\r\n- https://github.com/autowarefoundation/autoware/actions/runs/3584114516\r\n  - -> https://github.com/autowarefoundation/autoware/actions/runs/3584115646/jobs/6030373665\r\n\r\n![image](https://user-images.githubusercontent.com/31987104/204825230-e5ad7174-91ed-4c36-8229-4b1e9b98df99.png)\r\n\r\n- https://github.com/autowarefoundation/autoware/actions/runs/3584419664\r\n  - -> https://github.com/autowarefoundation/autoware/actions/runs/3584421257\r\n\r\n![image](https://user-images.githubusercontent.com/31987104/204831861-1f5af495-dab8-459f-8183-650605ea2e5a.png)\r\n\r\n- https://github.com/autowarefoundation/autoware/actions/runs/3584421405\r\n  - -> https://github.com/autowarefoundation/autoware/actions/runs/3584422298\r\n\r\n![image](https://user-images.githubusercontent.com/31987104/204831835-47aeae7f-19b4-4aa3-b1de-1de5d2bedd8e.png)\r\n'}]"
chore(.gitignore): ignore CodeChecker files,kenji-miyake,2022-11-30T11:04:19Z,[]
build(CUDA): upgrade CUDA versions,kenji-miyake,2022-11-30T10:59:02Z,"[{'user_id': 'kenji-miyake', 'created_at': '2023-04-07T04:38:04Z', 'comment_text': 'Docker CI:\r\n- https://github.com/autowarefoundation/autoware/actions/runs/4635477344\r\n- https://github.com/autowarefoundation/autoware/actions/runs/4635477685'}, {'user_id': 'xmfcx', 'created_at': '2023-09-05T15:32:20Z', 'comment_text': 'https://github.com/orgs/autowarefoundation/discussions/3651#discussioncomment-6897536\r\n\r\nFinally\r\n\r\n```console\r\nmfc@mfc-leo:~$ find-cuda-versions --cuda 12.0 --os ubuntu2204\r\n[cudnn x86_64]\r\n8.8.0.121-1+cuda12.0\r\n8.8.1.3-1+cuda12.0\r\n\r\n[cudnn sbsa]\r\n8.8.0.121-1+cuda12.0\r\n8.8.1.3-1+cuda12.0\r\n\r\n[nvinfer x86_64]\r\n8.6.0.12-1+cuda12.0\r\n8.6.1.6-1+cuda12.0\r\n\r\n[nvinfer sbsa]\r\n8.6.2.2-1+cuda12.0\r\n\r\n[tensorrt x86_64]\r\n8.6.0.12-1+cuda12.0\r\n8.6.1.6-1+cuda12.0\r\n\r\n[tensorrt sbsa]\r\n8.6.2.2-1+cuda12.0\r\n\r\n```'}]"
Transition to Humble,mitsudome-r,2022-11-30T08:57:08Z,"[{'user_id': 'mitsudome-r', 'created_at': '2022-11-30T10:22:40Z', 'comment_text': ""I've heard that we would like to merge https://github.com/autowarefoundation/autoware.universe/pull/2370 before branching out galactic.\r\nWe will wait until tomorrow before starting the above tasks.""}]"
Rviz2 core dumped issue,TZECHIN6,2022-11-29T04:08:47Z,[]
Create api for vehicle status,tkhmy,2022-11-28T05:16:45Z,"[{'user_id': 'isamu-takagi', 'created_at': '2023-01-27T07:14:48Z', 'comment_text': 'For `target_velocity` and `target_acceleration`, It might be better to separate these as vehicle command message.\r\nFor `geo_point`, this cannot be provided if the map only has local coordinates.'}, {'user_id': 'tkhmy', 'created_at': '2023-01-31T05:39:38Z', 'comment_text': '> For `target_velocity` and `target_acceleration`, It might be better to separate these as vehicle command message. For `geo_point`, this cannot be provided if the map only has local coordinates.\r\n\r\nSorry for late reply, I miss the message.\r\nI agree that we should move the `target_velocity` and `target_acceleration` to vehicle_command.\r\nWe should just put in the current vehicle status data\r\n\r\nFor the `geo_point` I think we might able to convert from MGRS to the global longitude and latitude '}, {'user_id': 'tkhmy', 'created_at': '2023-02-01T04:39:49Z', 'comment_text': 'I created the document for vehicle status\r\nhttps://autowarefoundation.github.io/autoware-documentation/pr-312/design/autoware-interfaces/ad-api/list/api/vehicle/'}, {'user_id': 'isamu-takagi', 'created_at': '2023-02-01T05:41:34Z', 'comment_text': '> For the geo_point I think we might able to convert from MGRS to the global longitude and latitude\r\n\r\nAccording to [the lanelet2_extension documentation](https://github.com/autowarefoundation/autoware_common/tree/main/tmp/lanelet2_extension#io), Autoware works in a local coordinate system independent of MGRS by setting `local_x` and `local_y`.'}, {'user_id': 'isamu-takagi', 'created_at': '2023-06-26T07:50:49Z', 'comment_text': 'I forgot the API to control doors. I have three suggestions.\r\n\r\n1. array command\r\n```yaml\r\nmessage:\r\n  - NONE\r\n  - CLOSE\r\n  - CLOSE\r\n  - NONE\r\n```\r\n\r\n2. index command\r\n```yaml\r\nmessage:\r\n  - { index: 1, command: CLOSE }\r\n  - { index: 2, command: CLOSE }\r\n```\r\n\r\n3. role command\r\n```yaml\r\nmessage:\r\n  - { role: GET_ON, command: CLOSE }\r\n```'}]"
feat(docker): add opencl vendor,angry-crab,2022-11-25T08:05:18Z,[]
Rviz2 drops to 1-5fps when enabling pointcloud2 topic in planning simulation tutorial,TZECHIN6,2022-11-24T11:51:04Z,"[{'user_id': 'BonoloAWF', 'created_at': '2022-11-29T16:54:59Z', 'comment_text': '@TZECHIN6 please post your question here https://github.com/orgs/autowarefoundation/discussions/categories/q-a for faster assistance'}, {'user_id': 'TZECHIN6', 'created_at': '2022-11-30T01:42:47Z', 'comment_text': '@BonoloAWF Thanks for the advice, will do it now.'}, {'user_id': 'TZECHIN6', 'created_at': '2022-12-09T18:11:24Z', 'comment_text': 'DDS Tuning fix the problem.'}]"
using of road_edge in op_local_planner,pjj707278870,2022-11-23T08:32:52Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-11-23T10:17:39Z', 'comment_text': ""Seems to be duplicated.\r\nhttps://github.com/autowarefoundation/autoware/discussions/3065\r\n\r\nPlease refrain from opening an issue if it's not a bug.""}]"
ci(pre-commit-ansible): autoupdate,awf-autoware-bot[bot],2022-11-22T00:10:22Z,[]
"revert(autoware.repos): revert ""feat: add ament_cmake fork (#370)""",kenji-miyake,2022-11-21T05:43:22Z,[]
ci(pre-commit-ansible): autoupdate,awf-autoware-bot[bot],2022-11-18T08:00:50Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-11-18T10:02:40Z', 'comment_text': ""I'm not sure why `pre-commit-ansible` is resolved, but since there is no problem now, I'll merge this.\r\nhttps://github.com/autowarefoundation/autoware/pull/3032/commits/7528bd4bc8f1a58536c659e6509b7a6a3509f074""}]"
ci(pre-commit-optional): autoupdate,awf-autoware-bot[bot],2022-11-18T08:00:46Z,[]
ci(pre-commit): add autoupdate workflow,kenji-miyake,2022-11-18T07:59:51Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-11-18T08:10:08Z', 'comment_text': 'Worked:\r\nhttps://github.com/autowarefoundation/autoware/pull/3051\r\nhttps://github.com/autowarefoundation/autoware/pull/3052'}, {'user_id': 'kenji-miyake', 'created_at': '2022-11-18T08:15:14Z', 'comment_text': ""Since these are just new CI workflows, I'll merge and test them.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-11-18T08:15:38Z', 'comment_text': 'FYI @xmfcx '}]"
chore(.clang-format): modify include order for srvs package,isamu-takagi,2022-11-16T07:18:55Z,[]
ci(.pre-commit-config-ansible.yaml): update ansible-lint version,yukke42,2022-11-15T12:37:52Z,"[{'user_id': 'yukke42', 'created_at': '2022-11-17T09:58:17Z', 'comment_text': ""<https://github.com/autowarefoundation/autoware/actions/runs/3470511085/jobs/5798798988>\r\nThere are three errors in v6.8.6:\r\n1. name[play] All plays should be named.\r\n2. name[template] Jinja templates should only be at the end of 'name'\r\n3. risky-file-permissions File permissions unset or incorrect.\r\n\r\nThe 2nd error will be fixed but not merged yet. <https://github.com/osism/issues/issues/326>\r\nSo I tried to use v6.6.1 just before this feature was merged <https://github.com/ansible/ansible-lint/releases/tag/v6.7.0>, but another error appeared related to <https://github.com/ansible/ansible-lint/issues/1780>.\r\n\r\nI decided to just update to pass [the CI error](https://github.com/autowarefoundation/autoware/actions/runs/3469781105/jobs/5797182594).""}, {'user_id': 'yukke42', 'created_at': '2022-11-17T10:31:13Z', 'comment_text': '@kenji-miyake \r\nHello. Could you check this PR?'}]"
fix(gitignore): add capture folder to gitignore,mehmetdogru,2022-11-15T12:12:13Z,"[{'user_id': 'taikitanaka3', 'created_at': '2022-11-17T07:18:45Z', 'comment_text': '@xmfcx cc: @kenji-miyake \r\nI think `log`  folder is automatically generated by ros but tier4_screen_capture_rviz_plugin intentionally generate  recorded video so I thought it would be better to generate folder explicitly.'}]"
fix(ansible/git_lfs): fix git lfs installation steps,yukke42,2022-11-15T10:36:22Z,"[{'user_id': 'yukke42', 'created_at': '2022-11-15T11:04:01Z', 'comment_text': '@kenji-miyake Can we update [.pre-commit-config-ansible.yaml](https://github.com/autowarefoundation/autoware/blob/ef48253ce76e855d6c08e70be6013733522805a3/.pre-commit-config-ansible.yaml#L3) to pass CI? \r\n\r\n[This CI error](https://github.com/autowarefoundation/autoware/actions/runs/3469781105/jobs/5797182594) is a bug and it has fixed in https://github.com/ansible/ansible-lint/pull/1859 and [v5.4.0](https://github.com/ansible/ansible-lint/releases/tag/v5.4.0)'}, {'user_id': 'yukke42', 'created_at': '2022-11-15T12:38:22Z', 'comment_text': '<https://github.com/autowarefoundation/autoware/pull/3032>'}, {'user_id': 'kenji-miyake', 'created_at': '2022-11-16T05:48:52Z', 'comment_text': ""> Can we update [.pre-commit-config-ansible.yaml](https://github.com/autowarefoundation/autoware/blob/ef48253ce76e855d6c08e70be6013733522805a3/.pre-commit-config-ansible.yaml#L3) to pass CI?\r\n\r\n@yukke42 Sure. Thank you for the PR. I'll check it later.\r\nSeeing #3032, it seems that we need to change some configurations because several new checks are added.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-11-18T07:08:58Z', 'comment_text': '@yukke42 Can I merge this? -> He said okay.'}]"
refactor(ansible/git_lfs): remove unnecessary installation steps,kenji-miyake,2022-11-15T09:21:37Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-11-15T10:54:19Z', 'comment_text': 'Move to #3029.'}]"
feat(ansible): add git-lfs role,yukke42,2022-11-15T08:17:15Z,"[{'user_id': 'xmfcx', 'created_at': '2022-11-15T09:13:20Z', 'comment_text': '@kenji-miyake @yukke42 why did you choose to not install with `sudo apt install git-lfs`?'}, {'user_id': 'kenji-miyake', 'created_at': '2022-11-15T09:20:03Z', 'comment_text': ""@xmfcx Ah, did you mean the manual installation step? I'm sorry, I haven't checked it carefully. There were some missing commands.\r\n\r\nI'll update it.\r\n\r\n```console\r\ncurl -s https://packagecloud.io/install/repositories/github/git-lfs/script.deb.sh | sudo bash\r\nsudo apt-get install git-lfs\r\ngit lfs install\r\n```\r\n""}, {'user_id': 'kenji-miyake', 'created_at': '2022-11-15T09:21:44Z', 'comment_text': 'https://github.com/autowarefoundation/autoware/pull/3028'}]"
ci(docker-build-and-push): add release tag as docker build,mitsudome-r,2022-11-15T08:04:28Z,"[{'user_id': 'mitsudome-r', 'created_at': '2022-11-15T08:09:20Z', 'comment_text': 'Not yet.'}, {'user_id': 'kenji-miyake', 'created_at': '2022-11-16T05:50:23Z', 'comment_text': 'Related: https://github.com/autowarefoundation/autoware-documentation/pull/244'}, {'user_id': 'mitsudome-r', 'created_at': '2022-11-28T06:49:02Z', 'comment_text': 'tested under my fork:\r\n* https://github.com/mitsudome-r/autoware/actions/runs/3540495760\r\n* Generated docker image: https://github.com/mitsudome-r/autoware/pkgs/container/autoware-universe/53403595?tag=galactic-2022.11-amd64'}]"
chore: add release scripts,kenji-miyake,2022-11-11T08:38:41Z,[]
build(ansible/ros2_dev_tools):  follow updated humble documentation,Shin-kyoto,2022-11-11T04:03:08Z,[]
feat(ansible): add option to install nvidia+cuda drivers with ansible,maxime-clem,2022-11-08T05:59:54Z,"[{'user_id': 'maxime-clem', 'created_at': '2022-12-07T06:45:55Z', 'comment_text': '@kenji-miyake I tested this PR on a clean Ubuntu 22.04 install and there was no issue while following only the Docker installation instructions. This is ready to be merged.'}]"
build(ansible/ros2_dev_tools): change ros2_dev_tools to follow humble documentation,Shin-kyoto,2022-11-07T12:00:46Z,[]
chore(.markdownlint.yaml): use ordered style for MD029,kenji-miyake,2022-11-07T10:25:07Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-11-07T10:27:07Z', 'comment_text': ""With this change, the following style isn't allowed.\r\n![image](https://user-images.githubusercontent.com/31987104/200287406-c96bd4e5-4f2b-4514-bd05-9815deee043d.png)\r\n\r\nWe need to fix it to the following style. If you write `2.`, it will be automatically formatted.\r\n![image](https://user-images.githubusercontent.com/31987104/200287454-52772ea7-422d-4471-a97c-77c7aec41043.png)\r\n""}, {'user_id': 'xmfcx', 'created_at': '2022-11-07T10:32:52Z', 'comment_text': 'I agree with the `ordered` style as long as it is automatically enforced, fixed.'}]"
docs(ansible/cuda): fix outdated cuda version in README,tleyden,2022-10-31T22:02:53Z,[]
chore(release): update awsim-stable branch,shmpwk,2022-10-28T12:01:20Z,[]
fix(cuda): Update cuda-keyring installation url,YoshiRi,2022-10-28T06:10:43Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-10-28T06:18:47Z', 'comment_text': '@YoshiRi Thank you for the PR, but we intentionally use `20.04` for now.\r\n\r\n>     ""msg"": ""No package matching \'cuda-cudart-dev-11-6\' is available""\r\n\r\nhttps://github.com/autowarefoundation/autoware/actions/runs/3343222203/jobs/5536214854#step:4:14071'}, {'user_id': 'YoshiRi', 'created_at': '2022-10-28T07:00:33Z', 'comment_text': 'OK, I will retrieve it'}]"
feat: move ndt_omp into universe,kminoda,2022-10-27T08:53:08Z,[]
chore(.markdown-link-check.json): ignore 127.0.0.1,kenji-miyake,2022-10-26T09:40:00Z,[]
finding out a general informantion,urbansound8K,2022-10-14T03:18:37Z,[]
chore(deps): bump styfle/cancel-workflow-action from 0.10.1 to 0.11.0,dependabot[bot],2022-10-13T11:44:15Z,[]
chore(release): freeze repos files,shmpwk,2022-10-13T07:47:06Z,[]
chore: update awsim-stable branch,shmpwk,2022-10-13T05:04:35Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-10-13T07:41:09Z', 'comment_text': ""I've manually merged this on my local machine.""}]"
chore: freeze repos files ,shmpwk,2022-10-13T04:55:23Z,"[{'user_id': 'shmpwk', 'created_at': '2022-10-13T05:07:45Z', 'comment_text': 'To resolve conflict, I want to merge https://github.com/autowarefoundation/autoware/pull/2941 first.'}]"
Running pre-commit on local machine gives error,xmfcx,2022-10-11T15:01:18Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-10-11T19:03:56Z', 'comment_text': ""@xmfcx I think it's https://github.com/pre-commit/pre-commit/issues/2336. Could you try these commands?\r\n\r\n```bash\r\nrm -rf ~/.local/share/virtualenv/ && curl -fsSL https://raw.githubusercontent.com/deadsnakes/python3.10-jammy/ubuntu/jammy/debian/patches/venv-scheme.diff | sudo patch /usr/lib/python3.10/sysconfig.py\r\n```""}, {'user_id': 'xmfcx', 'created_at': '2022-10-12T07:19:36Z', 'comment_text': '@kenji-miyake this fixed my problem, thanks!'}]"
fix(setup): fix pipx check,kenji-miyake,2022-10-07T08:49:59Z,[]
refactor(ansible/docker_engine): updated docker installation,aaryanmurgunde,2022-10-07T07:04:34Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-10-07T07:59:00Z', 'comment_text': ""@aaryanmurgunde Thanks! Could you keep the In-review/Post-review non-checked right after you create a PR, please? They will be checked later.\r\n![image](https://user-images.githubusercontent.com/31987104/194502636-18572c54-d36e-4cf8-a051-cf548cdaab49.png)\r\n\r\nAlso, I've fixed the `task/main.yaml` to be the same as your change.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-10-07T07:59:50Z', 'comment_text': ""There was an error. I'll fix it.\r\nhttps://github.com/autowarefoundation/autoware/actions/runs/3203155376/jobs/5232911541#step:4:1341""}, {'user_id': 'aaryanmurgunde', 'created_at': '2022-10-07T08:07:31Z', 'comment_text': ""@kenji-miyake I am sorry, I'm new to contributing to open source. I'll make sure that I dont do that again \r\n\r\n""}, {'user_id': 'kenji-miyake', 'created_at': '2022-10-07T08:09:21Z', 'comment_text': ""No problem! I'd appreciate it if you could read the guidelines. And if something isn't clear, please feel free to open a discussion thread.\r\nhttps://autowarefoundation.github.io/autoware-documentation/main/contributing/""}, {'user_id': 'aaryanmurgunde', 'created_at': '2022-10-07T08:53:49Z', 'comment_text': ""> There was an error. I'll fix it. https://github.com/autowarefoundation/autoware/actions/runs/3203155376/jobs/5232911541#step:4:1341\r\n\r\nThis was fixed right ? or you need me to make any changes ?""}, {'user_id': 'kenji-miyake', 'created_at': '2022-10-07T08:55:51Z', 'comment_text': ""I'm not sure yet. Please wait for a while, sorry. :bow: ""}, {'user_id': 'kenji-miyake', 'created_at': '2022-10-07T09:26:39Z', 'comment_text': ""`ansible.builtin.apt_key` didn't create a directory automatically.""}]"
docs(ansible/nvidia_docker): update to new docker tag,aaryanmurgunde,2022-10-06T14:06:14Z,[]
feat(setup): add an option to install dev packages,Sharrrrk,2022-10-06T10:16:33Z,[]
perf(docker): reduce prebuilt docker image size,Sharrrrk,2022-10-06T06:48:44Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-10-06T09:42:13Z', 'comment_text': ""@Sharrrrk Thank you so much for this improvement!\r\nWould it be possible for you to split `install_devel`-related changes into a separate PR because it's `feat`?\r\nLike `feat(setup): add an option to install dev packages`.""}, {'user_id': 'Sharrrrk', 'created_at': '2022-10-06T09:51:22Z', 'comment_text': ""> @Sharrrrk Thank you so much for this improvement! Would it be possible for you to split `install_devel`-related changes into a separate PR because it's `feat`? Like `feat(setup): add an option to install dev packages`.\r\n\r\nSure, I'll create a separate PR.""}, {'user_id': 'Sharrrrk', 'created_at': '2022-10-06T10:53:15Z', 'comment_text': '@kenji-miyake Would it be possible that you could do a test of this script before merging. Thanks.'}, {'user_id': 'kenji-miyake', 'created_at': '2022-10-06T10:54:20Z', 'comment_text': ""@Sharrrrk Yes, I'll trigger GitHub Actions.""}, {'user_id': 'doganulus', 'created_at': '2022-10-28T18:13:40Z', 'comment_text': ""Can we test this PR? What's the status?""}, {'user_id': 'kenji-miyake', 'created_at': '2022-10-29T03:45:33Z', 'comment_text': '> Can we test this PR?\r\n\r\n@doganulus What do you mean by the word ""test""?\r\nTo check the workflow, we can trigger it manually.\r\nTo try out the generated image, you can build it locally, or you can fork and try this PR.\r\n\r\n> What\'s the status?\r\n\r\nI\'m waiting for the review comments to be applied.\r\nAnd I\'m planning to check this in more detail, but it\'s difficult for me to spare time for a while. I\'m sorry for that, but please wait for a bit more.'}, {'user_id': 'doganulus', 'created_at': '2022-10-29T08:09:19Z', 'comment_text': 'By testing, I mean using the resulting image, for example, with the AWSIM simulator or the scenario simulator. I think a runtime image as in this PR would be an improvement for these use cases. Thank you for the explanation!'}, {'user_id': 'xmfcx', 'created_at': '2022-12-13T13:58:48Z', 'comment_text': '~~Following the discussion here: https://github.com/autowarefoundation/autoware-documentation/issues/270~~\r\n\r\n~~Is it possible to keep the prebuilt image as it is, and add this runtime/release image separately?~~'}, {'user_id': 'kenji-miyake', 'created_at': '2022-12-13T14:01:12Z', 'comment_text': ""> Is it possible to keep the prebuilt image as it is, and add this runtime/release image separately?\r\n\r\n@xmfcx Yes, it's possible. But could you explain some reasons/use cases for that, if possible?\r\nSince Autoware changes every day, the prebuilt artifacts cannot be reused generally.""}, {'user_id': 'xmfcx', 'created_at': '2022-12-16T13:24:46Z', 'comment_text': ""> > Is it possible to keep the prebuilt image as it is, and add this runtime/release image separately?\r\n> \r\n> @xmfcx Yes, it's possible. But could you explain some reasons/use cases for that, if possible? Since Autoware changes every day, the prebuilt artifacts cannot be reused generally.\r\n\r\nOk, since @cyn-liu agreed to adapt the training video to take this into account in https://github.com/autowarefoundation/autoware-documentation/issues/270#issuecomment-1352822850\r\n\r\nWe don't need to include build artifacts in the new prebuilt image. I take back my request.""}, {'user_id': 'liuXinGangChina', 'created_at': '2023-01-16T10:11:12Z', 'comment_text': 'Hi, @kenji-miyake .\r\nCan we merge this pr?'}, {'user_id': 'kenji-miyake', 'created_at': '2023-01-17T11:37:02Z', 'comment_text': ""@liuXinGangChina cc @Sharrrrk As we moved to Humble, there are conflicts. Could you fix them?\r\n![image](https://user-images.githubusercontent.com/31987104/212887950-cf2fa0c6-9f3a-402b-9891-72942775e57c.png)\r\n\r\nAlso, I didn't notice that there were changes after my last review. I'm sorry for that, but I'd appreciate it if you re-request a review by clicking the button.\r\n![image](https://user-images.githubusercontent.com/31987104/212888139-5d8ad0ea-42bb-489d-952e-7f2ff2014720.png)\r\n![image](https://user-images.githubusercontent.com/31987104/212888372-a69ac80c-c252-4731-979c-91e5c90d4662.png)\r\n\r\nSo, now do you mean that you've addressed my comments and it's ready to merge?\r\nIn that case, I'm sorry for my late work, but I'll manage to make time for a review this week.""}, {'user_id': 'Sharrrrk', 'created_at': '2023-02-01T08:14:30Z', 'comment_text': 'Hi, @kenji-miyake , the conflicts is about cuda_base_image, as it has been set to ubuntu:22.04 on main branch, but nvidia/cuda dit not has docker image match the cuda:11.6 + ubuntu22.04. Thank you so much if you could give some advice.\r\n\r\n<<<<<<< 2840-reduce-prebuilt-docker-image-size\r\nbase_image=ubuntu:20.04\r\ncuda_base_image=nvidia/cuda:11.6.2-runtime-ubuntu20.04\r\n=======\r\nbase_image=ubuntu:22.04\r\ncuda_base_image=ubuntu:22.04\r\n>>>>>>> main\r\ncuda_version=11.6\r\ncudnn_version=8.4.1.50-1+cuda11.6\r\ntensorrt_version=8.4.2-1+cuda11.6\r\n'}, {'user_id': 'kenji-miyake', 'created_at': '2023-02-05T16:20:18Z', 'comment_text': ""@Sharrrrk I'm sorry to be late.\r\nWe need to upgrade the CUDA version to 11.8 or 12.0 to use a CUDA image for the base image. However, since there is no arm64 (sbsa) version provided yet, we can't upgrade the version.\r\nSee also https://github.com/autowarefoundation/autoware/pull/3084#discussion_r1035826071.\r\n\r\nSo, until then, I think using `ubuntu:22.04` for the base image is okay.""}, {'user_id': 'Sharrrrk', 'created_at': '2023-02-08T02:20:39Z', 'comment_text': ""> @Sharrrrk I'm sorry to be late. We need to upgrade the CUDA version to 11.8 or 12.0 to use a CUDA image for the base image. However, since there is no arm64 (sbsa) version provided yet, we can't upgrade the version. See also [#3084 (comment)](https://github.com/autowarefoundation/autoware/pull/3084#discussion_r1035826071).\r\n> \r\n> So, until then, I think using `ubuntu:22.04` for the base image is okay.\r\n\r\nDo you mean we should set both base_image and cuda_base_image to ubuntu:22.04 for now?""}, {'user_id': 'kenji-miyake', 'created_at': '2023-02-08T03:51:50Z', 'comment_text': ""@Sharrrrk Yes, exactly. It will be resolved in https://github.com/autowarefoundation/autoware/pull/3084, but arm64 TensorRT packages aren't released yet. We have to wait for that.""}]"
feat(repos): add awsim_sensor_kit_launch,shmpwk,2022-10-03T09:44:07Z,[]
chore: update awsim-stable branch,shmpwk,2022-10-03T08:38:34Z,"[{'user_id': 'shmpwk', 'created_at': '2022-10-04T01:29:42Z', 'comment_text': 'Considering https://github.com/autowarefoundation/autoware/pull/2912, I updated this PR.'}]"
chore(deps): bump styfle/cancel-workflow-action from 0.10.0 to 0.10.1,dependabot[bot],2022-10-01T03:18:02Z,"[{'user_id': 'dependabot[bot]', 'created_at': '2022-10-01T03:18:04Z', 'comment_text': 'The following labels could not be found: `github-actions`.'}]"
[CI] `pipx install ansible` fails on the self-hosted runner.,kenji-miyake,2022-09-29T00:37:27Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-10-27T20:44:01Z', 'comment_text': 'Seeing the logs, it seems it fails if the OS version is different?\r\nhttps://github.com/autowarefoundation/autoware/actions/workflows/build-humble-self-hosted.yaml\r\nhttps://github.com/autowarefoundation/autoware/actions/workflows/build-main-self-hosted.yaml\r\n\r\nRelated: https://github.com/pypa/pipx/issues/278'}, {'user_id': 'kenji-miyake', 'created_at': '2022-10-27T20:49:54Z', 'comment_text': ""I guess it will be resolved if we move to Humble.\r\nSo, I'll stop `build-main-self-hosted` and mark this issue as not planned.""}]"
ci(backport): use generated token instead of GITHUB_TOKEN,h-ohta,2022-09-28T08:09:31Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-09-28T08:53:58Z', 'comment_text': ""@h-ohta You've previously confirmed that `GITHUB_TOKEN` works. Could you clarify what the problem is?\r\nhttps://github.com/h-ohta/autoware.universe/pull/4\r\nhttps://github.com/h-ohta/autoware.universe/commit/0249db24ea6c8e52bd5bd06fa29bc45881b84645""}, {'user_id': 'h-ohta', 'created_at': '2022-09-29T03:09:33Z', 'comment_text': '@kenji-miyake \r\nWithout same fix as this PR, I make a PR https://github.com/h-ohta/autoware/pull/3 , and make  a backport PR https://github.com/h-ohta/autoware/pull/5. Then git hub actions does not works.'}, {'user_id': 'kenji-miyake', 'created_at': '2022-09-29T03:44:05Z', 'comment_text': ""Ah, I understand\r\nIf you don't use a technique like https://github.blog/changelog/2022-09-08-github-actions-use-github_token-with-workflow_dispatch-and-repository_dispatch/, `GITHUB_TOKEN` doesn't trigger other workflows recursively.\r\nIt's the same as this issue: https://github.com/tibdex/backport/issues/55\r\n\r\nSo it's reasonable to accept this change.""}, {'user_id': 'h-ohta', 'created_at': '2022-09-29T04:42:23Z', 'comment_text': '@kenji-miyake I did not know same issue. Thank you for your information and review.'}]"
refactor(setup): use pipx for Ansible to avoid conflicts between pip and apt packages,kenji-miyake,2022-09-27T08:38:39Z,[]
docs(ansible/tensorrt): update install instructions of tensorrt,maxime-clem,2022-09-22T04:32:20Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-09-22T04:55:48Z', 'comment_text': '@maxime-clem Could you merge this if everything is okay? :bow: '}, {'user_id': 'maxime-clem', 'created_at': '2022-09-22T05:00:46Z', 'comment_text': '> @maxime-clem Could you merge this if everything is okay? bow\r\n\r\nSorry I cannot merge this PR as  I do not have `write access` to this repository.'}, {'user_id': 'kenji-miyake', 'created_at': '2022-09-22T07:04:11Z', 'comment_text': ""@maxime-clem Ah, sorry. This is `autoware`, not `autoware-documentation`. So I'll merge it.""}]"
Autoware humble doesn't compile without CUDA,xmfcx,2022-09-21T12:50:54Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-09-21T13:03:45Z', 'comment_text': '@xmfcx Could you rerun `rosdep install`? It seems new dependencies were added.'}, {'user_id': 'kenji-miyake', 'created_at': '2022-09-21T13:04:40Z', 'comment_text': 'The no-CUDA build passes in CI.\r\nhttps://github.com/autowarefoundation/autoware.universe/actions/workflows/build-and-test.yaml'}, {'user_id': 'xmfcx', 'created_at': '2022-09-21T13:10:44Z', 'comment_text': 'Hmm it installed\r\n```\r\nexecuting command [sudo -H apt-get install -y ros-humble-cudnn-cmake-module]\r\nexecuting command [sudo -H apt-get install -y ros-humble-tensorrt-cmake-module]\r\n```\r\n\r\nNow it seems to be working. Thanks for the help.'}]"
chore: update PR template for private links,shmpwk,2022-09-20T08:51:00Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-09-20T09:42:17Z', 'comment_text': ""@xmfcx We'd like to add a description for private links because TIER IV will add some private Jira ticket links for internal tracking.\r\nThe private links are just supplemental information, and the PR description should contain all necessary information.\r\nIs that okay for you?""}]"
feat: add autoware adapi messages repository,isamu-takagi,2022-09-15T10:37:17Z,[]
chore: remove grid_map from repos,wep21,2022-09-14T00:50:15Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-09-14T01:03:34Z', 'comment_text': '@wep21 Thank you so much! :smile: \r\nFor future reference, would it be possible for you to add some links to the description?'}, {'user_id': 'wep21', 'created_at': '2022-10-01T02:12:24Z', 'comment_text': '[Sync is out.](https://discourse.ros.org/t/new-packages-for-ros-2-humble-hawksbill-2022-09-30/27583)'}]"
ci: add backport action,h-ohta,2022-09-12T05:46:42Z,"[{'user_id': 'h-ohta', 'created_at': '2022-09-12T06:24:48Z', 'comment_text': ""@kenji-miyake I'm soorry to disable auto-merge due to do force push to resolve DCO...\r\nCould you merge it if there are no problems ?""}]"
"ci(build, vcs-import): add vcs export --exact",kenji-miyake,2022-09-09T01:01:25Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-09-09T01:11:51Z', 'comment_text': 'Test result:\r\n![image](https://user-images.githubusercontent.com/31987104/189251570-30b35edc-d934-4a33-b603-27d758eef2f5.png)\r\n'}]"
fix(ansible/plotjuggler): fix workaround of pyOpenSSL,kenji-miyake,2022-09-07T04:33:49Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-09-07T04:50:38Z', 'comment_text': 'https://github.com/autowarefoundation/autoware/runs/8220901917?check_suite_focus=true#step:4:10948\r\n![image](https://user-images.githubusercontent.com/31987104/188791308-9411db70-4487-4673-9da7-c341f44ceaac.png)\r\n'}, {'user_id': 'kenji-miyake', 'created_at': '2022-09-07T05:43:44Z', 'comment_text': 'It seems ROS breaks pip? :thinking: \r\nhttps://github.com/autowarefoundation/autoware/pull/2850/commits/5a7cd272faa821b8e47db7e75ba5cb03a752d943\r\n\r\n```\r\nTASK [autoware.dev_env.ros2 : tmp after] **************************************************************************************************************************************************************************\r\ntask path: /root/.ansible/collections/ansible_collections/autoware/dev_env/roles/ros2/tasks/main.yaml:49\r\n<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: root\r\n<127.0.0.1> EXEC /bin/sh -c \'echo ~root && sleep 0\'\r\n<127.0.0.1> EXEC /bin/sh -c \'( umask 77 && mkdir -p ""` echo /root/.ansible/tmp `""&& mkdir ""` echo /root/.ansible/tmp/ansible-tmp-1662529320.9488437-25055-147230121738848 `"" && echo ansible-tmp-1662529320.9488437-25055-147230121738848=""` echo /root/.ansible/tmp/ansible-tmp-1662529320.9488437-25055-147230121738848 `"" ) && sleep 0\'\r\nUsing module file /usr/local/lib/python3.8/dist-packages/ansible/modules/command.py\r\n<127.0.0.1> PUT /root/.ansible/tmp/ansible-local-45627ll1rh74/tmp38tkcga4 TO /root/.ansible/tmp/ansible-tmp-1662529320.9488437-25055-147230121738848/AnsiballZ_command.py\r\n<127.0.0.1> EXEC /bin/sh -c \'chmod u+x /root/.ansible/tmp/ansible-tmp-1662529320.9488437-25055-147230121738848/ /root/.ansible/tmp/ansible-tmp-1662529320.9488437-25055-147230121738848/AnsiballZ_command.py && sleep 0\'\r\n<127.0.0.1> EXEC /bin/sh -c \'/usr/bin/python3 /root/.ansible/tmp/ansible-tmp-1662529320.9488437-25055-147230121738848/AnsiballZ_command.py && sleep 0\'\r\n<127.0.0.1> EXEC /bin/sh -c \'rm -f -r /root/.ansible/tmp/ansible-tmp-1662529320.9488437-25055-147230121738848/ > /dev/null 2>&1 && sleep 0\'\r\nfatal: [localhost]: FAILED! => {\r\n    ""changed"": false,\r\n    ""cmd"": ""pip3 list\\n"",\r\n    ""delta"": ""0:00:00.327450"",\r\n    ""end"": ""2022-09-07 05:42:01.365631"",\r\n    ""invocation"": {\r\n        ""module_args"": {\r\n            ""_raw_params"": ""pip3 list\\n"",\r\n            ""_uses_shell"": true,\r\n            ""argv"": null,\r\n            ""chdir"": null,\r\n            ""creates"": null,\r\n            ""executable"": null,\r\n            ""removes"": null,\r\n            ""stdin"": null,\r\n            ""stdin_add_newline"": true,\r\n            ""strip_empty_ends"": true,\r\n            ""warn"": false\r\n        }\r\n    },\r\n    ""msg"": ""non-zero return code"",\r\n    ""rc"": 1,\r\n    ""start"": ""2022-09-07 05:42:01.038181"",\r\n    ""stderr"": ""Traceback (most recent call last):\\n  File \\""/usr/bin/pip3\\"", line 11, in <module>\\n    load_entry_point(\'pip==20.0.2\', \'console_scripts\', \'pip3\')()\\n  File \\""/usr/lib/python3/dist-packages/pkg_resources/__init__.py\\"", line 490, in load_entry_point\\n    return get_distribution(dist).load_entry_point(group, name)\\n  File \\""/usr/lib/python3/dist-packages/pkg_resources/__init__.py\\"", line 2854, in load_entry_point\\n    return ep.load()\\n  File \\""/usr/lib/python3/dist-packages/pkg_resources/__init__.py\\"", line 2445, in load\\n    return self.resolve()\\n  File \\""/usr/lib/python3/dist-packages/pkg_resources/__init__.py\\"", line 2451, in resolve\\n    module = __import__(self.module_name, fromlist=[\'__name__\'], level=0)\\n  File \\""/usr/lib/python3/dist-packages/pip/_internal/cli/main.py\\"", line 10, in <module>\\n    from pip._internal.cli.autocompletion import autocomplete\\n  File \\""/usr/lib/python3/dist-packages/pip/_internal/cli/autocompletion.py\\"", line 9, in <module>\\n    from pip._internal.cli.main_parser import create_main_parser\\n  File \\""/usr/lib/python3/dist-packages/pip/_internal/cli/main_parser.py\\"", line 7, in <module>\\n    from pip._internal.cli import cmdoptions\\n  File \\""/usr/lib/python3/dist-packages/pip/_internal/cli/cmdoptions.py\\"", line 24, in <module>\\n    from pip._internal.exceptions import CommandError\\n  File \\""/usr/lib/python3/dist-packages/pip/_internal/exceptions.py\\"", line 10, in <module>\\n    from pip._vendor.six import iteritems\\n  File \\""/usr/lib/python3/dist-packages/pip/_vendor/__init__.py\\"", line 65, in <module>\\n    vendored(\\""cachecontrol\\"")\\n  File \\""/usr/lib/python3/dist-packages/pip/_vendor/__init__.py\\"", line 36, in vendored\\n    __import__(modulename, globals(), locals(), level=0)\\n  File \\""<frozen importlib._bootstrap>\\"", line 991, in _find_and_load\\n  File \\""<frozen importlib._bootstrap>\\"", line 975, in _find_and_load_unlocked\\n  File \\""<frozen importlib._bootstrap>\\"", line 655, in _load_unlocked\\n  File \\""<frozen importlib._bootstrap>\\"", line 618, in _load_backward_compatible\\n  File \\""<frozen zipimport>\\"", line 259, in load_module\\n  File \\""/usr/share/python-wheels/CacheControl-0.12.6-py2.py3-none-any.whl/cachecontrol/__init__.py\\"", line 9, in <module>\\n  File \\""<frozen importlib._bootstrap>\\"", line 991, in _find_and_load\\n  File \\""<frozen importlib._bootstrap>\\"", line 975, in _find_and_load_unlocked\\n  File \\""<frozen importlib._bootstrap>\\"", line 655, in _load_unlocked\\n  File \\""<frozen importlib._bootstrap>\\"", line 618, in _load_backward_compatible\\n  File \\""<frozen zipimport>\\"", line 259, in load_module\\n  File \\""/usr/share/python-wheels/CacheControl-0.12.6-py2.py3-none-any.whl/cachecontrol/wrapper.py\\"", line 1, in <module>\\n  File \\""<frozen importlib._bootstrap>\\"", line 991, in _find_and_load\\n  File \\""<frozen importlib._bootstrap>\\"", line 975, in _find_and_load_unlocked\\n  File \\""<frozen importlib._bootstrap>\\"", line 655, in _load_unlocked\\n  File \\\r\n    ""stderr_lines"": [\r\n        ""Traceback (most recent call last):"",\r\n        ""  File \\""/usr/bin/pip3\\"", line 11, in <module>"",\r\n        ""    load_entry_point(\'pip==20.0.2\', \'console_scripts\', \'pip3\')()"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pkg_resources/__init__.py\\"", line 490, in load_entry_point"",\r\n        ""    return get_distribution(dist).load_entry_point(group, name)"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pkg_resources/__init__.py\\"", line 2854, in load_entry_point"",\r\n        ""    return ep.load()"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pkg_resources/__init__.py\\"", line 2445, in load"",\r\n        ""    return self.resolve()"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pkg_resources/__init__.py\\"", line 2451, in resolve"",\r\n        ""    module = __import__(self.module_name, fromlist=[\'__name__\'], level=0)"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pip/_internal/cli/main.py\\"", line 10, in <module>"",\r\n        ""    from pip._internal.cli.autocompletion import autocomplete"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pip/_internal/cli/autocompletion.py\\"", line 9, in <module>"",\r\n        ""    from pip._internal.cli.main_parser import create_main_parser"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pip/_internal/cli/main_parser.py\\"", line 7, in <module>"",\r\n        ""    from pip._internal.cli import cmdoptions"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pip/_internal/cli/cmdoptions.py\\"", line 24, in <module>"",\r\n        ""    from pip._internal.exceptions import CommandError"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pip/_internal/exceptions.py\\"", line 10, in <module>"",\r\n        ""    from pip._vendor.six import iteritems"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pip/_vendor/__init__.py\\"", line 65, in <module>"",\r\n        ""    vendored(\\""cachecontrol\\"")"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pip/_vendor/__init__.py\\"", line 36, in vendored"",\r\n        ""    __import__(modulename, globals(), locals(), level=0)"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 991, in _find_and_load"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 975, in _find_and_load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 655, in _load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 618, in _load_backward_compatible"",\r\n        ""  File \\""<frozen zipimport>\\"", line 259, in load_module"",\r\n        ""  File \\""/usr/share/python-wheels/CacheControl-0.12.6-py2.py3-none-any.whl/cachecontrol/__init__.py\\"", line 9, in <module>"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 991, in _find_and_load"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 975, in _find_and_load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 655, in _load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 618, in _load_backward_compatible"",\r\n        ""  File \\""<frozen zipimport>\\"", line 259, in load_module"",\r\n        ""  File \\""/usr/share/python-wheels/CacheControl-0.12.6-py2.py3-none-any.whl/cachecontrol/wrapper.py\\"", line 1, in <module>"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 991, in _find_and_load"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 975, in _find_and_load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 655, in _load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 618, in _load_backward_compatible"",\r\n        ""  File \\""<frozen zipimport>\\"", line 259, in load_module"",\r\n        ""  File \\""/usr/share/python-wheels/CacheControl-0.12.6-py2.py3-none-any.whl/cachecontrol/adapter.py\\"", line 5, in <module>"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 991, in _find_and_load"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 975, in _find_and_load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 655, in _load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 618, in _load_backward_compatible"",\r\n        ""  File \\""<frozen zipimport>\\"", line 259, in load_module"",\r\n        ""  File \\""/usr/share/python-wheels/requests-2.22.0-py2.py3-none-any.whl/requests/__init__.py\\"", line 95, in <module>"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 991, in _find_and_load"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 975, in _find_and_load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 655, in _load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 618, in _load_backward_compatible"",\r\n        ""  File \\""<frozen zipimport>\\"", line 259, in load_module"",\r\n        ""  File \\""/usr/share/python-wheels/urllib3-1.25.8-py2.py3-none-any.whl/urllib3/contrib/pyopenssl.py\\"", line 46, in <module>"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/OpenSSL/__init__.py\\"", line 8, in <module>"",\r\n        ""    from OpenSSL import crypto, SSL"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/OpenSSL/crypto.py\\"", line 1553, in <module>"",\r\n        ""    class X509StoreFlags(object):"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/OpenSSL/crypto.py\\"", line 1573, in X509StoreFlags"",\r\n        ""    CB_ISSUER_CHECK = _lib.X509_V_FLAG_CB_ISSUER_CHECK"",\r\n        ""AttributeError: module \'lib\' has no attribute \'X509_V_FLAG_CB_ISSUER_CHECK\'"",\r\n        ""Error in sys.excepthook:"",\r\n        ""Traceback (most recent call last):"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/apport_python_hook.py\\"", line 72, in apport_excepthook"",\r\n        ""    from apport.fileutils import likely_packaged, get_recent_crashes"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/apport/__init__.py\\"", line 5, in <module>"",\r\n        ""    from apport.report import Report"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/apport/report.py\\"", line 32, in <module>"",\r\n        ""    import apport.fileutils"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/apport/fileutils.py\\"", line 12, in <module>"",\r\n        ""    import os, glob, subprocess, os.path, time, pwd, sys, requests_unixsocket"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/requests_unixsocket/__init__.py\\"", line 1, in <module>"",\r\n        ""    import requests"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 991, in _find_and_load"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 975, in _find_and_load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 655, in _load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 618, in _load_backward_compatible"",\r\n        ""  File \\""<frozen zipimport>\\"", line 259, in load_module"",\r\n        ""  File \\""/usr/share/python-wheels/requests-2.22.0-py2.py3-none-any.whl/requests/__init__.py\\"", line 95, in <module>"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 991, in _find_and_load"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 975, in _find_and_load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 655, in _load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 618, in _load_backward_compatible"",\r\n        ""  File \\""<frozen zipimport>\\"", line 259, in load_module"",\r\n        ""  File \\""/usr/share/python-wheels/urllib3-1.25.8-py2.py3-none-any.whl/urllib3/contrib/pyopenssl.py\\"", line 46, in <module>"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/OpenSSL/__init__.py\\"", line 8, in <module>"",\r\n        ""    from OpenSSL import crypto, SSL"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/OpenSSL/crypto.py\\"", line 1553, in <module>"",\r\n        ""    class X509StoreFlags(object):"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/OpenSSL/crypto.py\\"", line 1573, in X509StoreFlags"",\r\n        ""    CB_ISSUER_CHECK = _lib.X509_V_FLAG_CB_ISSUER_CHECK"",\r\n        ""AttributeError: module \'lib\' has no attribute \'X509_V_FLAG_CB_ISSUER_CHECK\'"",\r\n        """",\r\n        ""Original exception was:"",\r\n        ""Traceback (most recent call last):"",\r\n        ""  File \\""/usr/bin/pip3\\"", line 11, in <module>"",\r\n        ""    load_entry_point(\'pip==20.0.2\', \'console_scripts\', \'pip3\')()"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pkg_resources/__init__.py\\"", line 490, in load_entry_point"",\r\n        ""    return get_distribution(dist).load_entry_point(group, name)"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pkg_resources/__init__.py\\"", line 2854, in load_entry_point"",\r\n        ""    return ep.load()"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pkg_resources/__init__.py\\"", line 2445, in load"",\r\n        ""    return self.resolve()"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pkg_resources/__init__.py\\"", line 2451, in resolve"",\r\n        ""    module = __import__(self.module_name, fromlist=[\'__name__\'], level=0)"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pip/_internal/cli/main.py\\"", line 10, in <module>"",\r\n        ""    from pip._internal.cli.autocompletion import autocomplete"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pip/_internal/cli/autocompletion.py\\"", line 9, in <module>"",\r\n        ""    from pip._internal.cli.main_parser import create_main_parser"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pip/_internal/cli/main_parser.py\\"", line 7, in <module>"",\r\n        ""    from pip._internal.cli import cmdoptions"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pip/_internal/cli/cmdoptions.py\\"", line 24, in <module>"",\r\n        ""    from pip._internal.exceptions import CommandError"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pip/_internal/exceptions.py\\"", line 10, in <module>"",\r\n        ""    from pip._vendor.six import iteritems"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pip/_vendor/__init__.py\\"", line 65, in <module>"",\r\n        ""    vendored(\\""cachecontrol\\"")"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/pip/_vendor/__init__.py\\"", line 36, in vendored"",\r\n        ""    __import__(modulename, globals(), locals(), level=0)"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 991, in _find_and_load"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 975, in _find_and_load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 655, in _load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 618, in _load_backward_compatible"",\r\n        ""  File \\""<frozen zipimport>\\"", line 259, in load_module"",\r\n        ""  File \\""/usr/share/python-wheels/CacheControl-0.12.6-py2.py3-none-any.whl/cachecontrol/__init__.py\\"", line 9, in <module>"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 991, in _find_and_load"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 975, in _find_and_load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 655, in _load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 618, in _load_backward_compatible"",\r\n        ""  File \\""<frozen zipimport>\\"", line 259, in load_module"",\r\n        ""  File \\""/usr/share/python-wheels/CacheControl-0.12.6-py2.py3-none-any.whl/cachecontrol/wrapper.py\\"", line 1, in <module>"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 991, in _find_and_load"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 975, in _find_and_load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 655, in _load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 618, in _load_backward_compatible"",\r\n        ""  File \\""<frozen zipimport>\\"", line 259, in load_module"",\r\n        ""  File \\""/usr/share/python-wheels/CacheControl-0.12.6-py2.py3-none-any.whl/cachecontrol/adapter.py\\"", line 5, in <module>"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 991, in _find_and_load"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 975, in _find_and_load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 655, in _load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 618, in _load_backward_compatible"",\r\n        ""  File \\""<frozen zipimport>\\"", line 259, in load_module"",\r\n        ""  File \\""/usr/share/python-wheels/requests-2.22.0-py2.py3-none-any.whl/requests/__init__.py\\"", line 95, in <module>"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 991, in _find_and_load"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 975, in _find_and_load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 655, in _load_unlocked"",\r\n        ""  File \\""<frozen importlib._bootstrap>\\"", line 618, in _load_backward_compatible"",\r\n        ""  File \\""<frozen zipimport>\\"", line 259, in load_module"",\r\n        ""  File \\""/usr/share/python-wheels/urllib3-1.25.8-py2.py3-none-any.whl/urllib3/contrib/pyopenssl.py\\"", line 46, in <module>"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/OpenSSL/__init__.py\\"", line 8, in <module>"",\r\n        ""    from OpenSSL import crypto, SSL"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/OpenSSL/crypto.py\\"", line 1553, in <module>"",\r\n        ""    class X509StoreFlags(object):"",\r\n        ""  File \\""/usr/lib/python3/dist-packages/OpenSSL/crypto.py\\"", line 1573, in X509StoreFlags"",\r\n        ""    CB_ISSUER_CHECK = _lib.X509_V_FLAG_CB_ISSUER_CHECK"",\r\n        ""AttributeError: module \'lib\' has no attribute \'X509_V_FLAG_CB_ISSUER_CHECK\'""\r\n    ],\r\n    ""stdout"": """",\r\n    ""stdout_lines"": []\r\n}\r\n\r\nPLAY RECAP ********************************************************************************************************************************************************************************************************\r\nlocalhost                  : ok=11   changed=6    unreachable=0    failed=1    skipped=1    rescued=0    ignored=0\r\n\r\nFailed.\r\n```'}, {'user_id': 'kenji-miyake', 'created_at': '2022-09-07T06:38:45Z', 'comment_text': '`pip3 install ansible` in the container (root) is probably the problem.\r\nhttps://github.com/autowarefoundation/autoware/issues/2849#issuecomment-1238964827\r\nhttps://github.com/autowarefoundation/autoware/issues/2849#issuecomment-1238966584'}, {'user_id': 'kenji-miyake', 'created_at': '2022-09-07T07:36:57Z', 'comment_text': 'Summary: https://github.com/autowarefoundation/autoware/issues/2849#issuecomment-1239001602'}]"
"[ansible/plotjuggler] ""AttributeError: module 'lib' has no attribute 'X509_V_FLAG_CB_ISSUER_CHECK'""",kenji-miyake,2022-09-07T03:23:11Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-09-07T05:17:53Z', 'comment_text': 'https://hub.docker.com/_/ubuntu\r\n\r\nOld\r\n\r\n```\r\nubuntu                                                                                20.04                                                                         53df61775e88   4 months ago    72.8MB\r\n```\r\n\r\nNew\r\n\r\n```\r\nubuntu                                                                                20.04                                                                         a0ce5a295b63   5 days ago      72.8MB\r\n```'}, {'user_id': 'kenji-miyake', 'created_at': '2022-09-07T06:31:55Z', 'comment_text': 'minimal code to reproduce this problem:\r\n\r\n```bash\r\ndocker run --rm -it ubuntu:20.04 /bin/bash\r\napt update && apt -y install python3-pip\r\npip3 install ansible\r\napt -y install python3-openssl\r\npip\r\n```'}, {'user_id': 'kenji-miyake', 'created_at': '2022-09-07T06:34:06Z', 'comment_text': 'This is okay, so some necessary files for ansible are overwritten by python3-openssl (which is installed by ROS).\r\n\r\n```\r\ndocker run --rm -it ubuntu:20.04 /bin/bash\r\napt update && apt -y install python3-pip\r\napt -y install python3-openssl\r\npip3 install ansible\r\npip\r\n```'}, {'user_id': 'kenji-miyake', 'created_at': '2022-09-07T07:16:00Z', 'comment_text': ""This was okay.\r\n\r\n```\r\ndocker run --rm -it ubuntu:20.04 /bin/bash\r\napt update && apt -y install python3-pip\r\napt -y install python3-openssl\r\npip3 install ansible\r\napt -y purge python3-openssl\r\napt autoremove\r\napt -y install python3-openssl\r\npip\r\n```\r\n\r\nConsidering the following result, the problem is:\r\n- If `python3-openssl` is installed before Ansible, Ansible won't install `cryptography`.\r\n- If `python3-openssl` isn't installed before Ansible, Ansible will install `cryptography`.\r\n  - And if we install `python3-openssl` after that, the APT version of `cryptography` is newly installed and referenced from `pip`, which causes an error.\r\n\r\n```console\r\n$ docker run --rm -it ubuntu:20.04 /bin/bash\r\n$ apt update && apt -y install python3-pip\r\n$ apt -y install python3-openssl\r\n$ pip3 install ansible\r\n$ apt -y purge python3-openssl\r\n$ apt autoremove\r\n$ pip3 install ansible\r\nRequirement already satisfied: ansible in /usr/local/lib/python3.8/dist-packages (6.3.0)\r\nRequirement already satisfied: ansible-core~=2.13.3 in /usr/local/lib/python3.8/dist-packages (from ansible) (2.13.3)\r\nRequirement already satisfied: jinja2>=3.0.0 in /usr/local/lib/python3.8/dist-packages (from ansible-core~=2.13.3->ansible) (3.1.2)\r\nCollecting cryptography\r\n  Downloading cryptography-38.0.0-cp36-abi3-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.1 MB)\r\n     |████████████████████████████████| 4.1 MB 17.7 MB/s\r\nRequirement already satisfied: PyYAML>=5.1 in /usr/local/lib/python3.8/dist-packages (from ansible-core~=2.13.3->ansible) (6.0)\r\nRequirement already satisfied: resolvelib<0.9.0,>=0.5.3 in /usr/local/lib/python3.8/dist-packages (from ansible-core~=2.13.3->ansible) (0.8.1)\r\nRequirement already satisfied: packaging in /usr/local/lib/python3.8/dist-packages (from ansible-core~=2.13.3->ansible) (21.3)\r\nRequirement already satisfied: MarkupSafe>=2.0 in /usr/local/lib/python3.8/dist-packages (from jinja2>=3.0.0->ansible-core~=2.13.3->ansible) (2.1.1)\r\nCollecting cffi>=1.12\r\n  Downloading cffi-1.15.1-cp38-cp38-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (442 kB)\r\n     |████████████████████████████████| 442 kB 141.7 MB/s\r\nRequirement already satisfied: pyparsing!=3.0.5,>=2.0.2 in /usr/local/lib/python3.8/dist-packages (from packaging->ansible-core~=2.13.3->ansible) (3.0.9)\r\nCollecting pycparser\r\n  Downloading pycparser-2.21-py2.py3-none-any.whl (118 kB)\r\n     |████████████████████████████████| 118 kB 141.8 MB/s\r\nInstalling collected packages: pycparser, cffi, cryptography\r\nSuccessfully installed cffi-1.15.1 cryptography-38.0.0 pycparser-2.21\r\n```""}]"
chore: update tool versions,awf-autoware-bot[bot],2022-09-07T00:04:03Z,[]
Reduce docker image size for runtime usages,Sharrrrk,2022-09-05T03:12:47Z,"[{'user_id': 'Sharrrrk', 'created_at': '2022-09-10T01:56:28Z', 'comment_text': 'With docker image built from nvidia/cuda:11.4.0-runtime-ubuntu20.04, and runtime dependencies installed for autoware, the disk usage of `/usr/local/cuda-11.4` folder could be reduced by 2.2GB.\r\n\r\nOriginal:   `4.0G    /usr/local/cuda-11.4`\r\nNew:        `1.8G    /usr/local/cuda-11.4`\r\n\r\nDNN related runtime dependencies:\r\n- `libcudnn8`\r\n- `libnvinfer8`\r\n- `libnvinfer-plugin8`\r\n- `libnvonnxparsers8`\r\n- `libnvparsers8`'}, {'user_id': 'Sharrrrk', 'created_at': '2022-09-10T10:06:47Z', 'comment_text': ""Currently I'm thinking of two approaches of this work:\r\n\r\n- Reduce size of `prebuilt` image\r\n  Considering the prebuilt images is for users to try out Autoware quickly, dev environment could be remove from it. \r\n\r\n- Keep current `prebuilt` image and build another `runtime` image\r\n  This allows users to rebuild partial of Autoware, not the whole project using prebuilt image, then runtime image may be provided just for execution. \r\n\r\nThe main concept of size reducing:\r\n- Only use runtime libraries for CUDA/TensorRT (This could save ~2.2GB)\r\n- Only copy the `install` folder or maybe also keep `src` folder (This could save up to ~3.3GB)\r\n\r\n@kenji-miyake, what's your opinion about it ?""}, {'user_id': 'kenji-miyake', 'created_at': '2022-09-10T10:22:40Z', 'comment_text': ""@Sharrrrk Thank you for investigating this issue!\r\nI totally agree with you, and either option seems okay. The first option would be better as a first step because it's simpler.""}, {'user_id': 'kaspermeck-arm', 'created_at': '2022-09-11T21:32:03Z', 'comment_text': ""@Sharrrrk thanks for taking this on!\r\n\r\nFor inspiration, you could take a look at the images layers which ROS and NVIDIA have used to create their Docker images. See\r\n* https://github.com/osrf/docker_images/blob/3f4fbca923d80f834f3a89b5960bad5582652519/ros/galactic/ubuntu/focal/ros-core/Dockerfile\r\n* https://hub.docker.com/layers/nvidia/cuda/11.4.2-runtime-ubuntu18.04/images/sha256-9fd4770341bd8f2cd754b70d552dfd0cc5e6e3ed1406449f00b1c5bb944133b0?context=explore\r\n\r\nI'd recommend building up a new container and not removing from an existing one.""}, {'user_id': 'Sharrrrk', 'created_at': '2022-09-14T13:43:05Z', 'comment_text': ""Hi @kasperornmeck, I looked into the docker file of Nvidia and ROS, Nvidia used a script from outside to install all the packages, and for ROS, it's just like what have been implented in current ansible script. So I would say that use nvidia runtime docker image as base would be a good and neat approach. I will modify the ansible srcipts (add a variant that only installs runtime dependencies) and the Docker file (use mutlti stage build) of course, so that the `prebuilt` image could reduce it's size in later build. ""}, {'user_id': 'Sharrrrk', 'created_at': '2022-09-15T03:03:47Z', 'comment_text': ""Hi @kasperornmeck, I looked into the docker file of Nvidia and ROS, Nvidia used a script from outside to install all the packages, and for ROS, it's just like what have been implented in current ansible script. So I would say that use nvidia runtime docker image as base would be a good and neat approach. I will modify the ansible srcipts (add a variant that only installs runtime dependencies) and the Docker file (use mutlti stage build) of course, so that the `prebuilt` image could reduce it's size in later build. ""}, {'user_id': 'kaspermeck-arm', 'created_at': '2022-09-19T15:09:41Z', 'comment_text': ""Hi @Sharrrrk \r\nI was installing the NVIDIA driver using the runfile (local) method. You might already be aware of this but you can install only the driver, or any of the other software by selecting/deselecting, e.g., all the runtime dependencies.\r\n\r\n```\r\nlqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqk\r\nx CUDA Installer                                                               x\r\nx - [X] Driver                                                                 x\r\nx      [X] 515.65.01                                                           x\r\nx - [ ] CUDA Toolkit 11.7                                                      x\r\nx    - [ ] CUDA Libraries 11.7                                                 x\r\nx       + [ ] CUDA Development 11.7                                            x\r\nx       - [ ] CUDA Runtime 11.7                                                x\r\nx            [ ] cuda-cudart                                                   x\r\nx            [ ] cuda-nvrtc                                                    x\r\nx            [ ] libcublas11                                                   x\r\nx            [ ] libcufft                                                      x\r\nx            [ ] libcurand                                                     x\r\nx            [ ] libcusolver                                                   x\r\nx            [ ] libcusparse                                                   x\r\nx            [ ] libnpp                                                        x\r\nx            [ ] libnvjpeg                                                     x\r\nx    - [ ] CUDA Tools 11.7                                                     x\r\nx       + [ ] CUDA Command Line Tools 11.7                                     x\r\nx       + [ ] CUDA Visual Tools 11.7                                           x\r\nx    - [ ] CUDA Compiler 11.7                                                  x\r\nx         [ ] cuda-cuobjdump                                                   x\r\nx                                                                              x\r\nx Up/Down: Move | Left/Right: Expand | 'Enter': Select | 'A': Advanced options x\r\n```\r\n""}, {'user_id': 'Sharrrrk', 'created_at': '2022-09-20T07:57:10Z', 'comment_text': 'Hi @kasperornmeck  thanks for the information, I will compare the docker size between manually install and cuda-runtime.'}, {'user_id': 'Sharrrrk', 'created_at': '2022-09-20T07:58:07Z', 'comment_text': 'Currently I have started to change Dockerfile and ansible scripts, the main ideas:\r\n-  Use cuda runtime images as base\r\n-  Only runtime packages of TensorRT are installed\r\n-  Only minimal set of ROS packages are installed\r\n-  Multistage image build, copy install folder'}, {'user_id': 'BonoloAWF', 'created_at': '2023-01-18T13:11:36Z', 'comment_text': '@Sharrrrk have you created a PR for these changes? If so, please link it to the Issue. '}, {'user_id': 'xmfcx', 'created_at': '2023-04-28T13:42:52Z', 'comment_text': ""I've created this discussion on re-layering of the dockerfile/image:\r\n\r\nhttps://github.com/orgs/autowarefoundation/discussions/3469""}, {'user_id': 'kaspermeck-arm', 'created_at': '2023-07-06T13:47:08Z', 'comment_text': 'Merge this issue with https://github.com/autowarefoundation/autoware.universe/issues/4111.'}]"
docs(ansible/pre_commit): remove adding golang repository for humble,xmfcx,2022-09-02T17:39:00Z,[]
ci: add cancel-previous-workflows.yaml,kenji-miyake,2022-09-02T00:53:28Z,[]
feat(ansible/tensorrt): add allow_change_held_packages option,kenji-miyake,2022-09-01T06:25:37Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-09-01T06:27:20Z', 'comment_text': 'My test results:\r\n\r\n[Installed version]\r\n\r\n```\r\ncuda_version=11.6\r\ncudnn_version=8.4.1.50-1+cuda11.6\r\ntensorrt_version=8.4.2-1+cuda11.6\r\n```\r\n\r\n[Installing version]\r\n\r\n```\r\ncuda_version=11.4\r\ncudnn_version=8.2.4.15-1+cuda11.4\r\ntensorrt_version=8.2.4-1+cuda11.4\r\n```\r\n\r\n[Without this PR]\r\n\r\n```\r\nTASK [autoware.dev_env.tensorrt : Install cuDNN and TensorRT] ****************************************************************************************************\r\nfatal: [localhost]: FAILED! => {""cache_update_time"": 1662012785, ""cache_updated"": true, ""changed"": false, ""msg"": ""\'/usr/bin/apt-get -y -o \\""Dpkg::Options::=--force-confdef\\"" -o \\""Dpkg::Options::=--force-confold\\""       install \'libcudnn8=8.2.4.15-1+cuda11.4\' \'libcudnn8-dev=8.2.4.15-1+cuda11.4\' \'libnvinfer8=8.2.4-1+cuda11.4\' \'libnvinfer-plugin8=8.2.4-1+cuda11.4\' \'libnvparsers8=8.2.4-1+cuda11.4\' \'libnvonnxparsers8=8.2.4-1+cuda11.4\' \'libnvinfer-dev=8.2.4-1+cuda11.4\' \'libnvinfer-plugin-dev=8.2.4-1+cuda11.4\' \'libnvparsers-dev=8.2.4-1+cuda11.4\' \'libnvonnxparsers-dev=8.2.4-1+cuda11.4\' --allow-downgrades\' failed: E: Held packages were changed and -y was used without --allow-change-held-packages.\\n"", ""rc"": 100, ""stderr"": ""E: Held packages were changed and -y was used without --allow-change-held-packages.\\n"", ""stderr_lines"": [""E: Held packages were changed and -y was used without --allow-change-held-packages.""], ""stdout"": ""Reading package lists...\\nBuilding dependency tree...\\nReading state information...\\nThe following held packages will be changed:\\n  libcudnn8 libcudnn8-dev libnvinfer-dev libnvinfer-plugin-dev\\n  libnvinfer-plugin8 libnvinfer8 libnvonnxparsers-dev libnvonnxparsers8\\n  libnvparsers-dev libnvparsers8\\nThe following packages will be DOWNGRADED:\\n  libcudnn8 libcudnn8-dev libnvinfer-dev libnvinfer-plugin-dev\\n  libnvinfer-plugin8 libnvinfer8 libnvonnxparsers-dev libnvonnxparsers8\\n  libnvparsers-dev libnvparsers8\\n0 upgraded, 0 newly installed, 10 downgraded, 0 to remove and 25 not upgraded.\\n"", ""stdout_lines"": [""Reading package lists..."", ""Building dependency tree..."", ""Reading state information..."", ""The following held packages will be changed:"", ""  libcudnn8 libcudnn8-dev libnvinfer-dev libnvinfer-plugin-dev"", ""  libnvinfer-plugin8 libnvinfer8 libnvonnxparsers-dev libnvonnxparsers8"", ""  libnvparsers-dev libnvparsers8"", ""The following packages will be DOWNGRADED:"", ""  libcudnn8 libcudnn8-dev libnvinfer-dev libnvinfer-plugin-dev"", ""  libnvinfer-plugin8 libnvinfer8 libnvonnxparsers-dev libnvonnxparsers8"", ""  libnvparsers-dev libnvparsers8"", ""0 upgraded, 0 newly installed, 10 downgraded, 0 to remove and 25 not upgraded.""]}\r\n\r\nPLAY RECAP *******************************************************************************************************************************************************\r\nlocalhost                  : ok=46   changed=0    unreachable=0    failed=1    skipped=3    rescued=0    ignored=0   \r\n\r\nFailed.\r\n```\r\n\r\n[With this PR]\r\n\r\n```\r\nTASK [autoware.dev_env.tensorrt : Install cuDNN and TensorRT] ****************************************************************************************************\r\nchanged: [localhost]\r\n\r\nTASK [autoware.dev_env.tensorrt : Prevent CUDA-related packages from upgrading] **********************************************************************************\r\nchanged: [localhost] => (item=libcudnn8)\r\nchanged: [localhost] => (item=libcudnn8-dev)\r\nchanged: [localhost] => (item=libnvinfer8)\r\nchanged: [localhost] => (item=libnvinfer-plugin8)\r\nchanged: [localhost] => (item=libnvparsers8)\r\nchanged: [localhost] => (item=libnvonnxparsers8)\r\nchanged: [localhost] => (item=libnvinfer-dev)\r\nchanged: [localhost] => (item=libnvinfer-plugin-dev)\r\nchanged: [localhost] => (item=libnvparsers-dev)\r\nchanged: [localhost] => (item=libnvonnxparsers-dev)\r\n\r\nPLAY RECAP *******************************************************************************************************************************************************\r\nlocalhost                  : ok=48   changed=2    unreachable=0    failed=0    skipped=3    rescued=0    ignored=0   \r\n\r\nCompleted.\r\n```'}]"
chore(ansible): upgrade version from 5 to 6,kenji-miyake,2022-09-01T05:26:31Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-09-01T05:27:21Z', 'comment_text': 'Build CI: https://github.com/autowarefoundation/autoware/runs/8128283921?check_suite_focus=true'}]"
chore(.clang-tidy): apply yamllint,kenji-miyake,2022-08-29T10:38:16Z,[]
chore(.clang-tidy): fix settings of readability-identifier-naming,kenji-miyake,2022-08-29T08:56:09Z,"[{'user_id': 'isamu-takagi', 'created_at': '2022-08-29T09:16:30Z', 'comment_text': ""> Use lower_case for ConstexprVariableCase.\r\n\r\nFor message type, the rosidl disallows the use of constant names other than `UPPER_CASE`. Can this pass the check? And the google guideline says to use `kConstatntName`. So is this Autoware's own rule?""}, {'user_id': 'kenji-miyake', 'created_at': '2022-08-29T10:16:04Z', 'comment_text': ""> For message type, the rosidl disallows the use of constant names other than UPPER_CASE. Can this pass the check?\r\n\r\nI've confirmed this behavior. `clang-tidy` didn't raise warnings unless we intentionally add `-system-headers` and `-header-fileter=.*`.\r\nSince it only affects to user code, I think it's acceptable.\r\n\r\n> And the google guideline says to use kConstatntName. So is this Autoware's own rule?\r\n\r\nYes. I personally think it's acceptable considering one of the rationales `consistency across languages` in ROS 2 Docs.\r\n\r\nAs you write [here](https://github.com/autowarefoundation/autoware.universe/blob/3cae6eca45b36b75c696780e67aabaee05330629/common/autoware_ad_api_specs/include/autoware_ad_api_specs/routing.hpp#L50-L53), it is natural that we use lower_case for `constexpr` variables.\r\n\r\n@isamu-takagi What do you think?""}]"
Autoware.Universe Docker Installation Procedures are wrong,Croquembouche,2022-08-28T21:39:44Z,"[{'user_id': 'maxime-clem', 'created_at': '2022-08-28T22:35:00Z', 'comment_text': 'Thank you for opening this issue.\r\nI found 2 different instruction pages about running Autoware with Docker:\r\n- Documentation repository: https://github.com/autowarefoundation/autoware-documentation/blob/main/docs/installation/autoware/docker-installation.md\r\n- Autoware repository: https://github.com/autowarefoundation/autoware/blob/main/docker/README.md\r\n\r\n~Your issue seems to be that the instructions on the Autoware repository are wrong~. Is my understanding correct ? **EDIT: both instructions page are apparently wrong**\r\n\r\nTo avoid future confusion, I propose to only maintain one page of documentation on the Documentation repository.\r\nThe one on the Autoware repository can then be deleted or modified to simply link to the page on the Documentation repository.'}, {'user_id': 'Croquembouche', 'created_at': '2022-08-29T13:23:35Z', 'comment_text': 'Hi Max,\n\nBoth of these documentations are wrong. They have the wrong option for rocker and the wrong Autoware docker image.\n\nThe part to verify that docker is installed correctly is also wrong because NVIDIA changed their wording recently.\n\nYes, I think there should only be 1 installation documentation to avoid confusion.'}, {'user_id': 'maxime-clem', 'created_at': '2022-08-31T03:10:16Z', 'comment_text': 'Can you please post more details about the issues you had and how you fixed them ?\r\n\r\nThe images were recently updated and now need to be suffixed with `-cuda` (you can find the list of images here: https://github.com/autowarefoundation/autoware/pkgs/container/autoware-universe/versions?filters%5Bversion_type%5D=tagged). Could it have been the cause of some of your issues ?\r\n\r\nOnce you share more details I will try to reproduce the issues.'}, {'user_id': 'msanchezvicom', 'created_at': '2022-09-05T10:04:25Z', 'comment_text': 'Hi @maxime-clem @Croquembouche , \r\n\r\ncould you finally find a way to correctly install Autoware?\r\n\r\nThanks'}, {'user_id': 'maxime-clem', 'created_at': '2022-09-05T10:58:18Z', 'comment_text': 'I followed the instructions from https://github.com/autowarefoundation/autoware-documentation/blob/main/docs/installation/autoware/docker-installation.md with a fresh clone. I installed the dependencies using Ansible and ran in a amd64 architecture with a NVIDIA GPU.\r\n\r\nI had no issue until building Autoware where I had the following error caused by missing dependencies:\r\n```\r\n--- stderr: tier4_pcl_extensions                                                  \r\nIn file included from /home/mclement/autoware/test_docker/src/universe/autoware.universe/sensing/tier4_pcl_extensions/src/voxel_grid_nearest_centroid.cpp:52:\r\n/home/mclement/autoware/test_docker/src/universe/autoware.universe/sensing/tier4_pcl_extensions/include/tier4_pcl_extensions/voxel_grid_nearest_centroid_impl.hpp:66:10: fatal error: range/v3/all.hpp: No such file or directory\r\n   66 | #include <range/v3/all.hpp>\r\n      |          ^~~~~~~~~~~~~~~~~~\r\n```\r\nI installed the missing dependencies using the following commands.\r\n```\r\nsudo apt update\r\nsource /opt/ros/galactic/setup.bash\r\nrosdep update\r\nrosdep install --from-paths . --ignore-src --rosdistro $ROS_DISTRO\r\n```\r\nAfter that I could build without error and could run Autoware without any problem.\r\n\r\n@Croquembouche please share more details about the issues you encountered.\r\nIt is possible that there are issues when installing dependencies without Ansible, when running without NVIDIA GPU, or when using an arm64 architecture.\r\n\r\nFor now I will open a PR to add the commands needed to install missing dependencies.'}, {'user_id': 'Croquembouche', 'created_at': '2022-09-06T23:46:20Z', 'comment_text': 'Hi,\n\nSorry for the late response. I tried the same instructions. But updating dependencies gave me ""invalid-cross device id"" when installing nvidia, cuda, and tensorrt. Manual install also resulted in this error.\n\nThe reason I discovered was that rocker\'s --cuda option is not available for 0.2.10 version.\n\nI\'ll upload the instructions that worked for me tomorrow when I get to the lab.\n\nBest,\nWilliam'}, {'user_id': 'maxime-clem', 'created_at': '2022-09-07T00:35:27Z', 'comment_text': 'You are right `rocker` does not support option `--cuda` but I am also using version `0.2.10` and I did not have issue.\r\nI cannot find any use of the option `--cuda` in the commands listed in the instructions but maybe it was recently changed.\r\nI am not sure what the `invalid-cross device id` could be. I will wait for more details.'}, {'user_id': 'Croquembouche', 'created_at': '2022-09-07T17:02:00Z', 'comment_text': ""> You are right `rocker` does not support option `--cuda` but I am also using version `0.2.10` and I did not have issue. I cannot find any use of the option `--cuda` in the commands listed in the instructions but maybe it was recently changed. I am not sure what the `invalid-cross device id` could be. I will wait for more details.\r\n\r\nHi,\r\n\r\nThe invalid cross device id comes when you update the nvidia drivers within the docker. Because rocker uses the gpu data from the host pc, and the autoware docker uses cuda 10.1 (latest cuda version is 11.7) and needs to be updated, the installer will try to update the driver on the host pc, resulting in invalid cross device id. \r\n\r\nThis issue has been solved in another issue. \r\n\r\nI'll attach the docker image that worked for me and the steps. \r\n\r\n""}, {'user_id': 'Croquembouche', 'created_at': '2022-09-07T17:06:43Z', 'comment_text': 'Steps to use Autoware.Universe in Docker(Rocker):\r\n\r\n1. Use this image ghcr.io/autowarefoundation/autoware-universe:galactic-latest-cuda. This image includes cuda 11.6, TensorRT, and CudaDNN.\r\n2. start rocker using this command, ""rocker --nvidia --x11 --user --env NVIDIA_DRIVER_CAPABILITIES="""" -- ghcr.io/autowarefoundation/autoware-universe:galactic-latest-cuda"". This will allow the host gpu to be used in the docker.\r\n3. You need at least 64GB free RAM to colcon build the project. Having less free memory might result in random CPP error. ""colcon build"" will throw error and terminate the build if the pc runs out of memory. The ""Add SWAP memory"" section in the documentation can be used to solve this issue.\r\n'}, {'user_id': 'Croquembouche', 'created_at': '2022-09-07T17:08:10Z', 'comment_text': 'I tried installing the dependencies with ANSIBLE. With the current listed docker image, I still receive an invalid cross device id when it tries to install/update cuda and the relevant nvidia drivers.'}, {'user_id': 'maxime-clem', 'created_at': '2022-09-09T09:29:52Z', 'comment_text': 'After some offline discussion, I was able to better understand the issue.\r\n- Installation of the **CUDA drivers on the host machine is missing** from the Docker installation instructions and from the Ansible playbook.\r\n\r\nCurrently, if someone starts from a fresh install of Ubuntu 20.04 and simply follows the Docker installation instruction, the CUDA drivers will be missing.\r\nThis can be solved by installing all dependencies (`./setup-dev-env.sh`) but it would be better if this was included in the Docker dependencies (`./setup-dev-env.sh docker`).'}, {'user_id': 'jfkkf123', 'created_at': '2022-10-04T15:35:44Z', 'comment_text': 'Hi,\r\nI install autoware via rocker following the instructions from [https://github.com/autowarefoundation/autoware-documentation/blob/main/docs/installation/autoware/docker-installation.md]. When I `colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE=Release` </br> I meet a problem </br> \r\n```\r\n--- stderr: trtexec_vendor\r\nCMake Error at CMakeLists.txt:15 (find_package):\r\n  By not providing ""Findcudnn_cmake_module.cmake"" in CMAKE_MODULE_PATH this\r\n  project has asked CMake to find a package configuration file provided by\r\n  ""cudnn_cmake_module"", but CMake did not find one.\r\n\r\n  Could not find a package configuration file provided by\r\n  ""cudnn_cmake_module"" with any of the following names:\r\n\r\n    cudnn_cmake_moduleConfig.cmake\r\n    cudnn_cmake_module-config.cmake\r\n```\r\nwhat should i do to fix this problem? </br>\r\nI find the cudnn and tensorrt files (.h .so) in the docker container.'}, {'user_id': 'maxime-clem', 'created_at': '2022-10-04T16:30:56Z', 'comment_text': 'If you followed the instructions I am not sure what could be the issue.\r\n- Do you run `colcon build` _inside_ the Docker container ?\r\n- Did you install the dependencies with `./setup-dev-env.sh` on the _host_ (not inside the Docker container) ?\r\n- Are you using a AMD64 architecture with a NVIDIA GPU ?'}, {'user_id': 'maxime-clem', 'created_at': '2022-10-06T04:23:32Z', 'comment_text': '> what should i do to fix this problem? I find the cudnn and tensorrt files (.h .so) in the docker container.\r\n\r\nThis error is probably caused by the following missing package: `ros-galactic-tensorrt-cmake-module`.\r\nMissing packages can be installed with the following command:\r\n```console\r\nrosdep install -y --from-paths src --ignore-src --rosdistro $ROS_DISTRO\r\n```'}, {'user_id': 'jfkkf123', 'created_at': '2022-10-07T14:26:48Z', 'comment_text': '> > what should i do to fix this problem? I find the cudnn and tensorrt files (.h .so) in the docker container.\r\n> \r\n> This error is probably caused by the following missing package: `ros-galactic-tensorrt-cmake-module`. Missing packages can be installed with the following command:\r\n> \r\n> ```\r\n> rosdep install -y --from-paths src --ignore-src --rosdistro $ROS_DISTRO\r\n> ```\r\n\r\nI update the docker image autoware-universe:latest-cuda and dependent ROS packages. Now everything is OK. Thank you.'}, {'user_id': 'maxime-clem', 'created_at': '2022-12-07T07:31:40Z', 'comment_text': 'The documentation and the ansible script have been updated.\r\nI followed the Docker installation instructions from a fresh Ubuntu 22.04 install and had no issue.'}]"
sending output via udp,urbansound8K,2022-08-26T11:22:58Z,"[{'user_id': 'mitsudome-r', 'created_at': '2022-09-15T07:45:49Z', 'comment_text': 'As mentioned in the [support guideline](https://autowarefoundation.github.io/autoware-documentation/main/support/support-guidelines/#github-issues), we are using Github issue as a place to track bugs and tasks. If you have question, GitHub Discussions is a better place. \r\nhttps://github.com/autowarefoundation/autoware/discussions/categories/q-a\r\n\r\nAs a short answer to your question, if you want to see the LiDAR data, ROS2 natively supports communication between multiple machines by setting the same [ROS_DOMAIN_ID](https://docs.ros.org/en/foxy/Concepts/About-Domain-ID.html)'}, {'user_id': 'urbansound8K', 'created_at': '2022-09-15T12:18:56Z', 'comment_text': 'I opened it the same day I posted this issue!\r\nhttps://github.com/autowarefoundation/autoware/discussions/2818\r\n\r\ncould that happned with ROS1?'}, {'user_id': 'mitsudome-r', 'created_at': '2022-09-20T16:27:57Z', 'comment_text': 'Checkout http://wiki.ros.org/ROS/Tutorials/MultipleMachines'}]"
fix: remove bin and samples to keep backward compatibility,wep21,2022-08-19T07:52:11Z,[]
ci(build): enable daily build,kenji-miyake,2022-08-18T07:03:56Z,[]
ci(setup-universe): remove --no-nvidia,kenji-miyake,2022-08-18T06:53:43Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-08-18T06:57:10Z', 'comment_text': ""I guess CI will fail because https://github.com/autowarefoundation/autoware/pull/2807 isn't merged yet. I'll wait for that.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-08-18T07:27:53Z', 'comment_text': 'Failed as expected.\r\nhttps://github.com/autowarefoundation/autoware/runs/7893336027?check_suite_focus=true#step:4:17160'}, {'user_id': 'kenji-miyake', 'created_at': '2022-08-18T07:31:29Z', 'comment_text': ""I'll merge this and test #2807.""}]"
revert: install each package of tensorrt,wep21,2022-08-18T05:00:03Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-08-18T05:46:04Z', 'comment_text': 'Memo: How to test this. cc @xmfcx \r\n\r\n## Set up CUDA\r\n\r\n```bash\r\ndocker run --rm -it ubuntu:22.04 # Please use 20.04 if you test Galactic\r\n\r\n# only humble\r\necho ""deb http://archive.ubuntu.com/ubuntu focal main restricted"" > /etc/apt/sources.list.d/focal.list\r\n\r\napt update && apt -y install curl wget\r\nwget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/cuda-keyring_1.0-1_all.deb\r\ndpkg -i cuda-keyring_1.0-1_all.deb\r\napt update\r\nDEBIAN_FRONTEND=noninteractive apt -y install cuda-11-6\r\n```\r\n\r\n## Optional steps to save the intermediate image\r\n\r\n```console\r\n$ docker ps\r\n$ docker commit 1a7d8855713d # Please use your own hash\r\nsha256:b10bc67c457927004bf200344651675aee3e2260c69ff0101ca8098495f2c13e\r\n```\r\n\r\n## Test apt install\r\n\r\n```console\r\n$ docker run --rm -it b10bc67c457927004bf200344651675aee3e2260c69ff0101ca8098495f2c13e\r\n\r\n$ apt depends tensorrt=8.4.2.4-1+cuda11.6\r\ntensorrt\r\n  Depends: libnvinfer8 (= 8.4.2-1+cuda11.6)\r\n  Depends: libnvinfer-plugin8 (= 8.4.2-1+cuda11.6)\r\n  Depends: libnvparsers8 (= 8.4.2-1+cuda11.6)\r\n  Depends: libnvonnxparsers8 (= 8.4.2-1+cuda11.6)\r\n  Depends: libnvinfer-bin (= 8.4.2-1+cuda11.6)\r\n  Depends: libnvinfer-dev (= 8.4.2-1+cuda11.6)\r\n  Depends: libnvinfer-plugin-dev (= 8.4.2-1+cuda11.6)\r\n  Depends: libnvparsers-dev (= 8.4.2-1+cuda11.6)\r\n  Depends: libnvonnxparsers-dev (= 8.4.2-1+cuda11.6)\r\n  Depends: libnvinfer-samples (= 8.4.2-1+cuda11.6)\r\n\r\n$ apt install tensorrt=8.4.2.4-1+cuda11.6                                                                                                                                                       Reading package lists... Done\r\nBuilding dependency tree... Done\r\nReading state information... Done\r\nSome packages could not be installed. This may mean that you have\r\nrequested an impossible situation or if you are using the unstable\r\ndistribution that some required packages have not yet been created\r\nor been moved out of Incoming.\r\nThe following information may help to resolve the situation:\r\n\r\nThe following packages have unmet dependencies:\r\n tensorrt : Depends: libnvinfer8 (= 8.4.2-1+cuda11.6) but 8.4.3-1+cuda11.6 is to be installed\r\n            Depends: libnvinfer-plugin8 (= 8.4.2-1+cuda11.6) but 8.4.3-1+cuda11.6 is to be installed\r\n            Depends: libnvparsers8 (= 8.4.2-1+cuda11.6) but 8.4.3-1+cuda11.6 is to be installed\r\n            Depends: libnvonnxparsers8 (= 8.4.2-1+cuda11.6) but 8.4.3-1+cuda11.6 is to be installed\r\n            Depends: libnvinfer-bin (= 8.4.2-1+cuda11.6) but 8.4.3-1+cuda11.6 is to be installed\r\n            Depends: libnvinfer-dev (= 8.4.2-1+cuda11.6) but 8.4.3-1+cuda11.6 is to be installed\r\n            Depends: libnvinfer-plugin-dev (= 8.4.2-1+cuda11.6) but 8.4.3-1+cuda11.6 is to be installed\r\n            Depends: libnvparsers-dev (= 8.4.2-1+cuda11.6) but 8.4.3-1+cuda11.6 is to be installed\r\n            Depends: libnvonnxparsers-dev (= 8.4.2-1+cuda11.6) but 8.4.3-1+cuda11.6 is to be installed\r\n            Depends: libnvinfer-samples (= 8.4.2-1+cuda11.6) but 8.4.3-1+cuda11.6 is to be installed\r\nE: Unable to correct problems, you have held broken packages.\r\n\r\n$ apt install libnvinfer8=8.4.2-1+cuda11.6 libnvinfer-plugin8=8.4.2-1+cuda11.6 libnvparsers8=8.4.2-1+cuda11.6 libnvonnxparsers8=8.4.2-1+cuda11.6 libnvinfer-bin=8.4.2-1+cuda11.6 libnvinfer-dev=8.4.2-1+cuda11.6 libnvinfer-plugin-dev=8.4.2-1+cuda11.6 libnvparsers-dev=8.4.2-1+cuda11.6 libnvonnxparsers-dev=8.4.2-1+cuda11.6 libnvinfer-samples=8.4.2-1+cuda11.6\r\nReading package lists... Done\r\nBuilding dependency tree... Done\r\nReading state information... Done\r\nThe following additional packages will be installed:\r\n  libcudnn8 libcudnn8-dev\r\nThe following NEW packages will be installed:\r\n  libcudnn8 libcudnn8-dev libnvinfer-bin libnvinfer-dev libnvinfer-plugin-dev libnvinfer-plugin8 libnvinfer-samples libnvinfer8 libnvonnxparsers-dev libnvonnxparsers8 libnvparsers-dev libnvparsers8\r\n0 upgraded, 12 newly installed, 0 to remove and 12 not upgraded.\r\nNeed to get 1525 MB of archives.\r\nAfter this operation, 3854 MB of additional disk space will be used.\r\nDo you want to continue? [Y/n]\r\n```\r\n\r\nRelated links:\r\n- https://itsfoss.com/apt-install-specific-version/\r\n- https://askubuntu.com/questions/1343938/how-to-install-a-specific-version-of-a-metapackage-and-its-dependencies\r\n- https://askubuntu.com/questions/154044/installing-particular-versions-when-repo-has-newer-versions'}]"
ci(docker-build-and-push): use tentative if-condition for scheduled events,kenji-miyake,2022-08-16T08:12:25Z,[]
Installation of ros-humble-desktop fails,kenji-miyake,2022-08-16T05:30:58Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-08-16T05:32:59Z', 'comment_text': ""I'll wait for tomorrow's sync.\r\nhttps://discourse.ros.org/t/preparing-for-humble-sync-2022-08-17/26882""}, {'user_id': 'kenji-miyake', 'created_at': '2022-08-17T01:17:20Z', 'comment_text': ""I think it's resolved now.""}]"
Docker images aren't pushed from scheduled jobs,kenji-miyake,2022-08-16T05:13:28Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-08-16T07:36:32Z', 'comment_text': '`github.event.repository.default_branch` is missing in scheduled events.\r\nhttps://github.com/kenji-miyake/test-scheduled-event/runs/7852886603?check_suite_focus=true#step:2:1\r\nhttps://github.com/kenji-miyake/test-scheduled-event/blob/24a7d885dade873eeea05bb8cc6e483e3389c0f7/.github/workflows/test.yaml#L13'}, {'user_id': 'kenji-miyake', 'created_at': '2022-08-16T07:49:47Z', 'comment_text': 'Maybe this? https://github.com/community/community/discussions/12269\r\n-> Seems resolved: https://github.blog/changelog/2022-09-27-github-actions-additional-information-available-in-github-event-payload-for-scheduled-workflow-runs/'}, {'user_id': 'kenji-miyake', 'created_at': '2022-08-16T08:08:23Z', 'comment_text': 'Tentative if-condition: https://github.com/kenji-miyake/test-scheduled-event/blob/5cb9ce073e7f781c600baa425a8bc87e6002658b/.github/workflows/test.yaml#L20\r\n\r\nTest results:\r\n- workflow_dispatch: https://github.com/kenji-miyake/test-scheduled-event/runs/7853325421?check_suite_focus=true\r\n- schedule: https://github.com/kenji-miyake/test-scheduled-event/runs/7853359987?check_suite_focus=true'}]"
chore(clang-tidy): add SharedFuture in performance-unnecessary-value-param.AllowedTypes,h-ohta,2022-08-15T09:36:57Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-08-15T09:40:58Z', 'comment_text': ""Since it's not a feature of this repository, please let me use `chore`. :bow: ""}]"
chore(.clang-tidy): set readability-inconsistent-declaration-parameter-name.IgnoreMacros to true,kenji-miyake,2022-08-02T14:41:06Z,[]
feat: update cuda version,wep21,2022-08-02T08:39:36Z,"[{'user_id': 'yukke42', 'created_at': '2022-08-03T01:25:09Z', 'comment_text': ""There aren't any concerns, but cloud you give us time to check to be sure?""}, {'user_id': 'yukke42', 'created_at': '2022-08-03T09:40:22Z', 'comment_text': 'I failed to build the docker image with cuda. Ansible task `autoware.dev_env.tensorrt` isn\'t found in [CI](https://github.com/autowarefoundation/autoware/runs/7628275557?check_suite_focus=true). \r\n\r\ncommand:\r\n```\r\n./docker/build.sh --platform linux/amd64\r\n```\r\n\r\nerror log:\r\n```\r\n#17 1324.2 TASK [autoware.dev_env.tensorrt : Install cuDNN and TensorRT] ******************\r\n#17 1328.7 fatal: [localhost]: FAILED! => {""cache_update_time"": 1659513313, ""cache_updated"": false, ""changed"": false, ""msg"": ""\'/usr/bin/apt-get -y -o \\""Dpkg::Options::=--force-confdef\\"" -o \\""Dpkg::Options::=--force-confold\\""       install \'libcudnn8=8.4.1.50-1+cuda11.6\' \'libcudnn8-dev=8.4.1.50-1+cuda11.6\' \'tensorrt=8.4.1.5-1+cuda11.6\' --allow-downgrades\' failed: E: Unable to correct problems, you have held broken packages.\\n"", ""rc"": 100, ""stderr"": ""E: Unable to correct problems, you have held broken packages.\\n"", ""stderr_lines"": [""E: Unable to correct problems, you have held broken packages.""], ""stdout"": ""Reading package lists...\\nBuilding dependency tree...\\nReading state information...\\nSome packages could not be installed. This may mean that you have\\nrequested an impossible situation or if you are using the unstable\\ndistribution that some required packages have not yet been created\\nor been moved out of Incoming.\\nThe following information may help to resolve the situation:\\n\\nThe following packages have unmet dependencies:\\n tensorrt : Depends: libnvinfer8 (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvinfer-plugin8 (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvparsers8 (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvonnxparsers8 (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvinfer-bin (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvinfer-dev (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvinfer-plugin-dev (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvparsers-dev (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvonnxparsers-dev (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvinfer-samples (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n"", ""stdout_lines"": [""Reading package lists..."", ""Building dependency tree..."", ""Reading state information..."", ""Some packages could not be installed. This may mean that you have"", ""requested an impossible situation or if you are using the unstable"", ""distribution that some required packages have not yet been created"", ""or been moved out of Incoming."", ""The following information may help to resolve the situation:"", """", ""The following packages have unmet dependencies:"", "" tensorrt : Depends: libnvinfer8 (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvinfer-plugin8 (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvparsers8 (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvonnxparsers8 (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvinfer-bin (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvinfer-dev (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvinfer-plugin-dev (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvparsers-dev (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvonnxparsers-dev (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvinfer-samples (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed""]}\r\n#17 1328.7 \r\n#17 1328.7 PLAY RECAP *********************************************************************\r\n#17 1328.7 localhost                  : ok=43   changed=26   unreachable=0    failed=1    skipped=3    rescued=0    ignored=0   \r\n#17 1328.7 \r\n#17 1328.7 Failed.\r\n#17 ERROR: executor failed running [/bin/bash -o pipefail -c ./setup-dev-env.sh -y $SETUP_ARGS universe   && pip uninstall -y ansible ansible-core   && mkdir src   && vcs import src < autoware.repos   && rosdep update   && DEBIAN_FRONTEND=noninteractive rosdep install -y --ignore-src --from-paths src --rosdistro ""$ROS_DISTRO""   && apt-get clean   && rm -rf /var/lib/apt/lists/*]: exit code: 1\r\n------\r\n > [prebuilt devel  8/14] RUN --mount=type=ssh   ./setup-dev-env.sh -y --no-cuda-drivers universe   && pip uninstall -y ansible ansible-core   && mkdir src   && vcs import src < autoware.repos   && rosdep update   && DEBIAN_FRONTEND=noninteractive rosdep install -y --ignore-src --from-paths src --rosdistro ""galactic""   && apt-get clean   && rm -rf /var/lib/apt/lists/*:\r\n#17 1324.1 TASK [autoware.dev_env.cuda : Add LD_LIBRARY_PATH to bashrc] *******************\r\n#17 1324.2 ok: [localhost]\r\n#17 1324.2 \r\n#17 1324.2 TASK [autoware.dev_env.tensorrt : Install cuDNN and TensorRT] ******************\r\n#17 1328.7 fatal: [localhost]: FAILED! => {""cache_update_time"": 1659513313, ""cache_updated"": false, ""changed"": false, ""msg"": ""\'/usr/bin/apt-get -y -o \\""Dpkg::Options::=--force-confdef\\"" -o \\""Dpkg::Options::=--force-confold\\""       install \'libcudnn8=8.4.1.50-1+cuda11.6\' \'libcudnn8-dev=8.4.1.50-1+cuda11.6\' \'tensorrt=8.4.1.5-1+cuda11.6\' --allow-downgrades\' failed: E: Unable to correct problems, you have held broken packages.\\n"", ""rc"": 100, ""stderr"": ""E: Unable to correct problems, you have held broken packages.\\n"", ""stderr_lines"": [""E: Unable to correct problems, you have held broken packages.""], ""stdout"": ""Reading package lists...\\nBuilding dependency tree...\\nReading state information...\\nSome packages could not be installed. This may mean that you have\\nrequested an impossible situation or if you are using the unstable\\ndistribution that some required packages have not yet been created\\nor been moved out of Incoming.\\nThe following information may help to resolve the situation:\\n\\nThe following packages have unmet dependencies:\\n tensorrt : Depends: libnvinfer8 (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvinfer-plugin8 (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvparsers8 (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvonnxparsers8 (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvinfer-bin (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvinfer-dev (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvinfer-plugin-dev (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvparsers-dev (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvonnxparsers-dev (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n            Depends: libnvinfer-samples (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed\\n"", ""stdout_lines"": [""Reading package lists..."", ""Building dependency tree..."", ""Reading state information..."", ""Some packages could not be installed. This may mean that you have"", ""requested an impossible situation or if you are using the unstable"", ""distribution that some required packages have not yet been created"", ""or been moved out of Incoming."", ""The following information may help to resolve the situation:"", """", ""The following packages have unmet dependencies:"", "" tensorrt : Depends: libnvinfer8 (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvinfer-plugin8 (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvparsers8 (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvonnxparsers8 (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvinfer-bin (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvinfer-dev (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvinfer-plugin-dev (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvparsers-dev (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvonnxparsers-dev (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed"", ""            Depends: libnvinfer-samples (= 8.4.1-1+cuda11.6) but 8.4.2-1+cuda11.6 is to be installed""]}\r\n#17 1328.7 \r\n#17 1328.7 PLAY RECAP *********************************************************************\r\n#17 1328.7 localhost                  : ok=43   changed=26   unreachable=0    failed=1    skipped=3    rescued=0    ignored=0   \r\n#17 1328.7 \r\n#17 1328.7 Failed.\r\n------\r\n```\r\n\r\n'}, {'user_id': 'kenji-miyake', 'created_at': '2022-08-03T09:50:17Z', 'comment_text': '@yukke42 Have you tried `apt-mark unhold`?\r\nhttps://autowarefoundation.github.io/autoware-documentation/main/support/troubleshooting/#setup-issues'}, {'user_id': 'yukke42', 'created_at': '2022-08-03T10:01:31Z', 'comment_text': '> @yukke42 Have you tried `apt-mark unhold`? https://autowarefoundation.github.io/autoware-documentation/main/support/troubleshooting/#setup-issues\r\n\r\n@kenji-miyake Does it need to build docker images? I just follow [this instruction](https://github.com/autowarefoundation/autoware/tree/update-cuda-version/docker#building-docker-images-on-your-local-machine).'}, {'user_id': 'kenji-miyake', 'created_at': '2022-08-03T10:03:00Z', 'comment_text': ""Hmm? I'm sorry I misunderstood. I'll try to reproduce the problem.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-08-03T10:04:46Z', 'comment_text': 'CI:\r\n- https://github.com/autowarefoundation/autoware/actions/runs/2788563361\r\n- https://github.com/autowarefoundation/autoware/actions/runs/2788566418\r\n'}, {'user_id': 'kenji-miyake', 'created_at': '2022-08-03T12:11:54Z', 'comment_text': 'CI (Galactic):\r\n- https://github.com/autowarefoundation/autoware/actions/runs/2789297131\r\n- https://github.com/autowarefoundation/autoware/actions/runs/2789297583\r\n\r\nCI (Humble):\r\n- https://github.com/autowarefoundation/autoware/runs/7651666402?check_suite_focus=true\r\n- https://github.com/autowarefoundation/autoware/runs/7651667565?check_suite_focus=true'}, {'user_id': 'yukke42', 'created_at': '2022-08-04T13:52:01Z', 'comment_text': 'I checked the lidar_centerpoint package runs successfully with <https://github.com/autowarefoundation/autoware.universe/pull/1472>.'}]"
chore(.clang-tidy): add readability-identifier-naming,kenji-miyake,2022-07-31T22:38:41Z,"[{'user_id': 'xmfcx', 'created_at': '2022-08-02T04:23:24Z', 'comment_text': ""Sounds good, can't wait to try it!""}]"
feat(morai_msgs): appending a message package for MORAI SIM: Drive ,SoohyeokPark-MORAI,2022-07-15T08:54:24Z,"[{'user_id': 'SoohyeokPark-MORAI', 'created_at': '2022-07-15T09:17:43Z', 'comment_text': '@mitsudome-r @WjaworskiRobotec @sglee-morai\r\nHi, Mitsudome san and Wojciech Jaworski. As discussed earlier in the simulation working group, I made a distinct issue and pull request for appending morai_msgs to autoware.repos. please review this. \r\nThanks in advance for your help.'}]"
Append morai_msgs package related to testing codes about checking simulator compatibility,Soohyeok-Park,2022-07-15T07:50:02Z,[]
fix(docker): register Vulkan GPU vendors,ambroise-arm,2022-07-14T08:58:26Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-07-20T23:36:41Z', 'comment_text': '@ambroise-arm Here are my test results. It seems to be working correctly. :+1: \r\n\r\nUp: With this PR\r\nDown: Without this PR\r\n![image](https://user-images.githubusercontent.com/31987104/180099528-152e839c-6017-4bba-9b35-508c9027860b.png)\r\n\r\nWithout this PR, `vkcube` moves extremely fast.\r\nhttps://user-images.githubusercontent.com/31987104/180100117-afcd5521-8ad9-4c20-8805-8a737cd9e6b0.mp4\r\n\r\n```dockerfile\r\nfrom ghcr.io/autowarefoundation/autoware-universe:galactic-latest-cuda\r\n\r\n## Register Vulkan GPU vendors\r\nADD ""https://gitlab.com/nvidia/container-images/vulkan/raw/dc389b0445c788901fda1d85be96fd1cb9410164/nvidia_icd.json"" /etc/vulkan/icd.d/nvidia_icd.json\r\nRUN chmod 644 /etc/vulkan/icd.d/nvidia_icd.json\r\nADD ""https://gitlab.com/nvidia/container-images/opengl/raw/ubuntu20.04/glvnd/runtime/10_nvidia.json"" /etc/glvnd/egl_vendor.d/10_nvidia.json\r\nRUN chmod 644 /etc/glvnd/egl_vendor.d/10_nvidia.json\r\n```\r\n\r\nWith this PR:\r\n```bash\r\ndocker build . -t autoware-pr-2736\r\ndocker run --rm -it --gpus all -e NVIDIA_DRIVER_CAPABILITIES=all -e DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix:rw -v $HOME/.Xauthority:$HOME/.Xauthority:rw -e XAUTHORITY=$HOME/.Xauthority --net=host autoware-pr-2736:latest\r\napt update && apt install vulkan-tools\r\nvulkaninfo | grep NVIDIA\r\nvkcube\r\n```\r\n\r\nWithout this PR:\r\n```bash\r\ndocker run --rm -it --gpus all -e NVIDIA_DRIVER_CAPABILITIES=all -e DISPLAY -v /tmp/.X11-unix:/tmp/.X11-unix:rw -v $HOME/.Xauthority:$HOME/.Xauthority:rw -e XAUTHORITY=$HOME/.Xauthority --net=host ghcr.io/autowarefoundation/autoware-universe:galactic-latest-cuda\r\napt update && apt install vulkan-tools\r\nvulkaninfo | grep NVIDIA\r\nvkcube\r\n```\r\n'}, {'user_id': 'xmfcx', 'created_at': '2022-07-24T08:17:01Z', 'comment_text': ""From original [vulkan readme](https://gitlab.com/nvidia/container-images/vulkan/-/blob/master/README.md#headless-vulkaninfo):\r\n```bash\r\ndocker run --gpus all \\\r\n   -e NVIDIA_DISABLE_REQUIRE=1 \\\r\n   -e NVIDIA_DRIVER_CAPABILITIES=all --device /dev/dri \\\r\n   -v /etc/vulkan/icd.d/nvidia_icd.json:/etc/vulkan/icd.d/nvidia_icd.json \\\r\n   -v /etc/vulkan/implicit_layer.d/nvidia_layers.json:/etc/vulkan/implicit_layer.d/nvidia_layers.json \\\r\n   -v /usr/share/glvnd/egl_vendor.d/10_nvidia.json:/usr/share/glvnd/egl_vendor.d/10_nvidia.json \\\r\n   -it nvidia/vulkan:1.3-470 \\\r\n    bash\r\n```\r\n\r\n**My answered questions:**\r\n- Should we put a copy of the `nvidia_icd.json` and the `10_nvidia.json` instead of recommended mounting recommendations?\r\n  - This was also asked by @kenji-miyake and answered by you [in here](https://github.com/autowarefoundation/autoware/pull/2736/files#discussion_r923171341).\r\n  - I am ok with your reasoning/solution.\r\n- I couldn't find where the `https://gitlab.com/nvidia/container-images/vulkan/raw/dc389b0445c788901fda1d85be96fd1cb9410164/nvidia_icd.json` file was directing to in the [vulkan repository](https://gitlab.com/nvidia/container-images/vulkan) so I was going to ask where it is from.\r\n  - You discussed this [in above here](https://github.com/autowarefoundation/autoware/pull/2736#discussion_r922863077)\r\n  - I still don't like that we are downloading these files instead of mounting them from the host, because it is not the recommended way.\r\n  - But I understand your concerns for ease of use and simplicity of the implementation. So let's make it like this as long as things work.\r\n\r\n\r\n**Small question:**\r\n- Why did we not include `nvidia_layers.json` file from [the same readme](https://gitlab.com/nvidia/container-images/vulkan/-/blob/master/README.md#headless-vulkaninfo)? (not that I know what it does🤷\u200d♂️)""}, {'user_id': 'kenji-miyake', 'created_at': '2022-07-24T21:01:33Z', 'comment_text': '@xmfcx Thank you for your review!\r\n\r\n> Why did we not include nvidia_layers.json file from [the same readme](https://gitlab.com/nvidia/container-images/vulkan/-/blob/master/README.md#headless-vulkaninfo)? (not that I know what it doesman_shrugging)\r\n\r\n@ambroise-arm Could you answer this question? :pray: '}, {'user_id': 'ambroise-arm', 'created_at': '2022-07-25T08:14:55Z', 'comment_text': ""@kenji-miyake @xmfcx Thanks for the review.\r\n\r\nFrom [nvidia documentation](https://download.nvidia.com/XFree86/Linux-aarch64/455.45.01/README/installedcomponents.html):\r\n> An additional Vulkan layer configuration file is installed as /etc/vulkan/implicit_layer.d/nvidia_layers.json. These layers add functionality to the Vulkan loader.\r\n\r\nI'm not sure what that implies, but it seems to work fine without it. And I hadn't come across that file before reading the vulkan readme, which is why it isn't part of the commit. We can add it if someone finds a usecase where it is needed.""}]"
docs: add note to use rocker without the CUDA environment error,yukke42,2022-07-13T01:37:40Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-07-13T07:13:01Z', 'comment_text': 'Resolves #2452.'}]"
fix(docker): remove all CUDA apt repositories not to cause errors during apt update,kenji-miyake,2022-07-12T02:01:57Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-07-12T02:02:13Z', 'comment_text': ""My test result:\r\n\r\n```console\r\n❯ docker run --rm -it ghcr.io/autowarefoundation/autoware-universe:humble-latest-cuda\r\nroot@8ad7017eb740:/autoware# rm -rf /etc/apt/sources.list.d/cuda*.list\r\nroot@8ad7017eb740:/autoware# apt update\r\nGet:1 http://packages.ros.org/ros2/ubuntu jammy InRelease [4670 B]\r\nGet:2 http://archive.ubuntu.com/ubuntu jammy InRelease [270 kB]\r\nGet:3 http://security.ubuntu.com/ubuntu jammy-security InRelease [110 kB]\r\nGet:4 http://packages.ros.org/ros2/ubuntu jammy/main amd64 Packages [643 kB]\r\nIgn:5 https://s3.amazonaws.com/autonomoustuff-repo jammy InRelease\r\nGet:6 https://s3.amazonaws.com/autonomoustuff-repo jammy Release [2922 B]\r\nIgn:7 https://s3.amazonaws.com/autonomoustuff-repo jammy Release.gpg\r\nGet:8 https://s3.amazonaws.com/autonomoustuff-repo jammy/main amd64 Packages [1363 B]\r\nGet:9 http://archive.ubuntu.com/ubuntu jammy-updates InRelease [114 kB]\r\nGet:10 http://archive.ubuntu.com/ubuntu jammy-backports InRelease [99.8 kB]\r\nGet:11 http://security.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [101 kB]\r\nGet:12 http://archive.ubuntu.com/ubuntu focal InRelease [265 kB]\r\nGet:13 http://archive.ubuntu.com/ubuntu jammy/main amd64 Packages [1792 kB]\r\nGet:14 http://security.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [226 kB]\r\nGet:15 http://security.ubuntu.com/ubuntu jammy-security/main amd64 Packages [248 kB]\r\nGet:16 http://archive.ubuntu.com/ubuntu jammy/restricted amd64 Packages [164 kB]\r\nGet:17 http://archive.ubuntu.com/ubuntu jammy/universe amd64 Packages [17.5 MB]\r\nGet:18 http://security.ubuntu.com/ubuntu jammy-security/multiverse amd64 Packages [4648 B]\r\nGet:19 http://archive.ubuntu.com/ubuntu jammy/multiverse amd64 Packages [266 kB]\r\nGet:20 http://archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [7804 B]\r\nGet:21 http://archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [441 kB]\r\nGet:22 http://archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [184 kB]\r\nGet:23 http://archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [292 kB]\r\nGet:24 http://archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [5798 B]\r\nGet:25 http://archive.ubuntu.com/ubuntu focal/main amd64 Packages [1275 kB]\r\nGet:26 http://archive.ubuntu.com/ubuntu focal/restricted amd64 Packages [33.4 kB]\r\nFetched 24.0 MB in 4s (6117 kB/s)\r\nReading package lists... Done\r\nBuilding dependency tree... Done\r\nReading state information... Done\r\n37 packages can be upgraded. Run 'apt list --upgradable' to see them.\r\n```\r\n\r\nFor the NVIDIA image:\r\n\r\n```console\r\n❯ docker run --rm -it nvidia/cuda:11.6.2-devel-ubuntu20.04\r\nroot@0a271e2940e9:/# apt update\r\nGet:1 https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64  InRelease [1581 B]\r\nGet:2 https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64  Packages [580 kB]\r\nErr:2 https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64  Packages\r\n  File has unexpected size (580845 != 580040). Mirror sync in progress? [IP: 152.199.39.144 443]\r\n  Hashes of expected file:\r\n   - Filesize:580040 [weak]\r\n   - SHA256:dc8abbaf470d3ee626f4f1f4d2871a98d8dc8f770bc592676f0d1f60637e0c2d\r\n   - SHA1:109bfa4e5c415731aa44b1c1caae3f19754c5406 [weak]\r\n   - MD5Sum:bf8f928cb55b1c9e4c158a69ee52b5d8 [weak]\r\n  Release file created at: Mon, 11 Jul 2022 19:01:54 +0000\r\nGet:3 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]\r\nGet:4 http://archive.ubuntu.com/ubuntu focal InRelease [265 kB]\r\nGet:5 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 Packages [27.5 kB]\r\nGet:6 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 Packages [1351 kB]\r\nGet:7 http://archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]\r\nGet:8 http://archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]\r\nGet:9 http://archive.ubuntu.com/ubuntu focal/main amd64 Packages [1275 kB]\r\nGet:10 http://security.ubuntu.com/ubuntu focal-security/universe amd64 Packages [883 kB]\r\nGet:11 http://security.ubuntu.com/ubuntu focal-security/main amd64 Packages [1990 kB]\r\nGet:12 http://archive.ubuntu.com/ubuntu focal/restricted amd64 Packages [33.4 kB]\r\nGet:13 http://archive.ubuntu.com/ubuntu focal/universe amd64 Packages [11.3 MB]\r\nGet:14 http://archive.ubuntu.com/ubuntu focal/multiverse amd64 Packages [177 kB]\r\nGet:15 http://archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [1161 kB]\r\nGet:16 http://archive.ubuntu.com/ubuntu focal-updates/restricted amd64 Packages [1483 kB]\r\nGet:17 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages [2454 kB]\r\nGet:18 http://archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 Packages [30.2 kB]\r\nGet:19 http://archive.ubuntu.com/ubuntu focal-backports/main amd64 Packages [54.2 kB]\r\nGet:20 http://archive.ubuntu.com/ubuntu focal-backports/universe amd64 Packages [27.1 kB]\r\nFetched 22.9 MB in 5s (4890 kB/s)\r\nReading package lists... Done\r\nE: Failed to fetch https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/Packages.gz  File has unexpected size (580845 != 580040). Mirror sync in progress? [IP: 152.199.39.144 443]\r\n   Hashes of expected file:\r\n    - Filesize:580040 [weak]\r\n    - SHA256:dc8abbaf470d3ee626f4f1f4d2871a98d8dc8f770bc592676f0d1f60637e0c2d\r\n    - SHA1:109bfa4e5c415731aa44b1c1caae3f19754c5406 [weak]\r\n    - MD5Sum:bf8f928cb55b1c9e4c158a69ee52b5d8 [weak]\r\n   Release file created at: Mon, 11 Jul 2022 19:01:54 +0000\r\nE: Some index files failed to download. They have been ignored, or old ones used instead.\r\n\r\nroot@6d296926d132:/# rm -rf /etc/apt/sources.list.d/cuda*.list\r\nroot@6d296926d132:/# apt update\r\nGet:1 http://archive.ubuntu.com/ubuntu focal InRelease [265 kB]\r\nGet:2 http://security.ubuntu.com/ubuntu focal-security InRelease [114 kB]\r\nGet:3 http://security.ubuntu.com/ubuntu focal-security/universe amd64 Packages [883 kB]\r\nGet:4 http://archive.ubuntu.com/ubuntu focal-updates InRelease [114 kB]\r\nGet:5 http://archive.ubuntu.com/ubuntu focal-backports InRelease [108 kB]\r\nGet:6 http://archive.ubuntu.com/ubuntu focal/restricted amd64 Packages [33.4 kB]\r\nGet:7 http://archive.ubuntu.com/ubuntu focal/universe amd64 Packages [11.3 MB]\r\nGet:8 http://security.ubuntu.com/ubuntu focal-security/main amd64 Packages [1990 kB]\r\nGet:9 http://security.ubuntu.com/ubuntu focal-security/multiverse amd64 Packages [27.5 kB]\r\nGet:10 http://security.ubuntu.com/ubuntu focal-security/restricted amd64 Packages [1351 kB]\r\nGet:11 http://archive.ubuntu.com/ubuntu focal/main amd64 Packages [1275 kB]\r\nGet:12 http://archive.ubuntu.com/ubuntu focal/multiverse amd64 Packages [177 kB]\r\nGet:13 http://archive.ubuntu.com/ubuntu focal-updates/universe amd64 Packages [1161 kB]\r\nGet:14 http://archive.ubuntu.com/ubuntu focal-updates/restricted amd64 Packages [1483 kB]\r\nGet:15 http://archive.ubuntu.com/ubuntu focal-updates/multiverse amd64 Packages [30.2 kB]\r\nGet:16 http://archive.ubuntu.com/ubuntu focal-updates/main amd64 Packages [2454 kB]\r\nGet:17 http://archive.ubuntu.com/ubuntu focal-backports/main amd64 Packages [54.2 kB]\r\nGet:18 http://archive.ubuntu.com/ubuntu focal-backports/universe amd64 Packages [27.1 kB]\r\nFetched 22.8 MB in 4s (5266 kB/s)\r\nReading package lists... Done\r\nBuilding dependency tree\r\nReading state information... Done\r\n33 packages can be upgraded. Run 'apt list --upgradable' to see them.\r\n```""}]"
ci(pre-commit): autoupdate,pre-commit-ci[bot],2022-07-11T17:00:49Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-07-12T02:23:55Z', 'comment_text': 'It seems some new features are introduced in `yamllint`.\r\nhttps://github.com/adrienverge/yamllint/commits/master\r\n![image](https://user-images.githubusercontent.com/31987104/178394868-b22b8e66-e139-4bd5-8877-96d21f8db260.png)\r\n'}]"
ci(docker-build-and-push): remove a workaround for docker/bake-action,kenji-miyake,2022-07-04T08:32:54Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-07-04T08:33:40Z', 'comment_text': 'CI (maybe it will fail): https://github.com/autowarefoundation/autoware/actions/runs/2608777798\r\n\r\nRetry on 08/19: https://github.com/autowarefoundation/autoware/actions/runs/2886298463\r\nRetry on 09/22: https://github.com/autowarefoundation/autoware/actions/runs/3103478267'}, {'user_id': 'kenji-miyake', 'created_at': '2022-09-22T07:18:46Z', 'comment_text': 'It seems fixed.\r\n\r\nBefore\r\n```\r\nBuildx version\r\n  /usr/bin/docker buildx version\r\n  github.com/docker/buildx 0.8.2+azure-1 6224def4dd2c3d347eee19db595348c50d7cb491\r\n```\r\n\r\nAfter\r\n```\r\nBuildx version\r\n  /usr/bin/docker buildx version\r\n  github.com/docker/buildx 0.9.1+azure-1 ed00243a0ce2a0aee75311b06e32d33b44729689\r\n```\r\n'}, {'user_id': 'kenji-miyake', 'created_at': '2022-09-22T07:27:09Z', 'comment_text': ""Probably it's thanks to https://github.com/actions/runner-images/releases/tag/ubuntu20%2F20220828.1.""}]"
refactor: refactor Docker build script,kenji-miyake,2022-07-04T06:46:33Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-07-04T06:51:10Z', 'comment_text': ""I've tested the following commands locally and it seems working well.\r\n\r\n```console\r\n❯ ./docker/build.sh\r\n+ docker buildx bake --load --progress=plain -f /home/kenji/autoware/docker/autoware-universe/docker-bake.hcl --set '*.context=/home/kenji/autoware/docker/../' --set '*.ssh=default' --set '*.platform=linux/amd64' --set '*.args.ROS_DISTRO=galactic' --set '*.args.BASE_IMAGE=ubuntu:20.04' --set '*.args.SETUP_ARGS=--no-cuda-drivers' --set devel.tags=ghcr.io/autowarefoundation/autoware-universe:galactic-latest-cuda --set prebuilt.tags=ghcr.io/autowarefoundation/autoware-universe:galactic-latest-prebuilt-cuda\r\n```\r\n\r\n```console\r\n❯ ./docker/build.sh --no-cuda\r\n+ docker buildx bake --load --progress=plain -f /home/kenji/autoware/docker/autoware-universe/docker-bake.hcl --set '*.context=/home/kenji/autoware/docker/../' --set '*.ssh=default' --set '*.platform=linux/amd64' --set '*.args.ROS_DISTRO=galactic' --set '*.args.BASE_IMAGE=ubuntu:20.04' --set '*.args.SETUP_ARGS=--no-nvidia' --set devel.tags=ghcr.io/autowarefoundation/autoware-universe:galactic-latest --set prebuilt.tags=ghcr.io/autowarefoundation/autoware-universe:galactic-latest-prebuilt\r\n```\r\n\r\n```console\r\n❯ ./docker/build.sh --platform linux/amd64\r\n+ docker buildx bake --load --progress=plain -f /home/kenji/autoware/docker/autoware-universe/docker-bake.hcl --set '*.context=/home/kenji/autoware/docker/../' --set '*.ssh=default' --set '*.platform=linux/amd64' --set '*.args.ROS_DISTRO=galactic' --set '*.args.BASE_IMAGE=ubuntu:20.04' --set '*.args.SETUP_ARGS=--no-cuda-drivers' --set devel.tags=ghcr.io/autowarefoundation/autoware-universe:galactic-latest-cuda --set prebuilt.tags=ghcr.io/autowarefoundation/autoware-universe:galactic-latest-prebuilt-cuda\r\n```\r\n\r\n```console\r\n❯ ./docker/build.sh --platform linux/arm64\r\n+ docker buildx bake --load --progress=plain -f /home/kenji/autoware/docker/autoware-universe/docker-bake.hcl --set '*.context=/home/kenji/autoware/docker/../' --set '*.ssh=default' --set '*.platform=linux/arm64' --set '*.args.ROS_DISTRO=galactic' --set '*.args.BASE_IMAGE=ubuntu:20.04' --set '*.args.SETUP_ARGS=--no-cuda-drivers' --set devel.tags=ghcr.io/autowarefoundation/autoware-universe:galactic-latest-cuda --set prebuilt.tags=ghcr.io/autowarefoundation/autoware-universe:galactic-latest-prebuilt-cuda\r\n```\r\n\r\n```console\r\n❯ ./docker/build.sh --platform linux/arm64 --no-cuda\r\n+ docker buildx bake --load --progress=plain -f /home/kenji/autoware/docker/autoware-universe/docker-bake.hcl --set '*.context=/home/kenji/autoware/docker/../' --set '*.ssh=default' --set '*.platform=linux/arm64' --set '*.args.ROS_DISTRO=galactic' --set '*.args.BASE_IMAGE=ubuntu:20.04' --set '*.args.SETUP_ARGS=--no-nvidia' --set devel.tags=ghcr.io/autowarefoundation/autoware-universe:galactic-latest --set prebuilt.tags=ghcr.io/autowarefoundation/autoware-universe:galactic-latest-prebuilt\r\n```""}]"
feat(docker_image): add cuda_base_image,kenji-miyake,2022-07-04T05:31:28Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-07-04T05:33:46Z', 'comment_text': 'CI:\r\n- https://github.com/autowarefoundation/autoware/actions/runs/2607914613\r\n- https://github.com/autowarefoundation/autoware/actions/runs/2607914888\r\n- https://github.com/autowarefoundation/autoware/actions/runs/2607915195\r\n- https://github.com/autowarefoundation/autoware/actions/runs/2607915456'}]"
refactor: refactor scripts,kenji-miyake,2022-07-04T03:03:02Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-07-04T03:06:25Z', 'comment_text': 'CI:\r\n- https://github.com/autowarefoundation/autoware/actions/runs/2607417259\r\n- https://github.com/autowarefoundation/autoware/actions/runs/2607417552\r\n- https://github.com/autowarefoundation/autoware/actions/runs/2607417650\r\n- https://github.com/autowarefoundation/autoware/actions/runs/2607417961'}]"
build(ROS distribution)!: transition to ROS 2 Humble,kenji-miyake,2022-06-28T04:42:57Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-11-30T15:39:27Z', 'comment_text': 'If https://github.com/autowarefoundation/autoware/pull/3089 is merged to `main`, the version `20.04`should be replaced by `22.04`.'}, {'user_id': 'kenji-miyake', 'created_at': '2022-11-30T17:06:16Z', 'comment_text': ""@xmfcx Regarding build, we should manually trigger workflows because it's not triggered by the `pull_request` event due to the execution costs. So I'll check it tomorrow.\r\n\r\nBut before that, can I merge https://github.com/autowarefoundation/autoware/pull/3092 and https://github.com/autowarefoundation/autoware/pull/3093? They can reduce the diff of this PR.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-11-30T17:35:08Z', 'comment_text': 'CI:\r\n- https://github.com/autowarefoundation/autoware/actions/runs/3585679053\r\n- https://github.com/autowarefoundation/autoware/actions/runs/3585680170\r\n- https://github.com/autowarefoundation/autoware/actions/runs/3585680750\r\n- https://github.com/autowarefoundation/autoware/actions/runs/3585681610'}]"
ci(pre-commit): autoupdate,pre-commit-ci[bot],2022-06-27T16:53:36Z,[]
chore: update tool versions,awf-autoware-bot[bot],2022-06-26T00:04:43Z,[]
docs: fix links to autoware.ai wiki,mitsudome-r,2022-06-24T06:03:07Z,[]
docs(README): add guide for Autoware.AI users,mitsudome-r,2022-06-24T05:26:54Z,[]
Create separate containers for testing Open AD Kit,xmfcx,2022-06-21T13:22:55Z,"[{'user_id': 'xmfcx', 'created_at': '2022-06-21T14:55:53Z', 'comment_text': 'Created branch https://github.com/autowarefoundation/autoware/tree/openadkit-containers to work on this, will create a PR when I start making changes.'}, {'user_id': 'ghost', 'created_at': '2022-06-22T06:23:22Z', 'comment_text': 'The original issues created for this work are below:\r\n- https://github.com/autowarefoundation/autoware.ai/issues/2447\r\n- https://github.com/autowarefoundation/autoware-documentation/issues/101\r\n- https://github.com/autowarefoundation/autoware-projects/issues/36\r\n- https://github.com/autowarefoundation/autoware-projects/issues/37\r\n\r\nThe top two issues relate to creating some kind of automated build process for Autoware as a microservices architecture, and then the bottom two issues are for the initial microservices PoC work, that assumed that we would be splitting Perception into its own container.'}, {'user_id': 'ghost', 'created_at': '2022-07-06T06:36:05Z', 'comment_text': '@xmfcx Once the containers have been created, I am happy to help out with the testing part of this issue.'}, {'user_id': 'xmfcx', 'created_at': '2022-07-06T22:15:29Z', 'comment_text': ""# Required nodes\r\n\r\nIn order to list the required nodes for the containers, I am trying to use @kenji-miyake -san's tool from https://github.com/orgs/autowarefoundation/discussions/2581\r\n\r\nThe tool is private for now but I'm working in cooperation with him to resolve some [issues](https://github.com/kenji-miyake/ros_component_diagram_generator/issues/6) on the package.\r\n\r\nWith the tool, I will hopefully have a list of all the nodes that are launched with the main launch files.\r\n\r\n# Building the docker image manually\r\n\r\nRight now I am trying to use this [build.sh](https://github.com/autowarefoundation/autoware/blob/main/docker/build.sh) to build the docker image but every time I tried, I got some connectivity issues and every time I restarted, it failed at some point and takes a very long time to retry. I will investigate this further.\r\n\r\nI will try to build the container without buildx thingy, maybe add more layers to the image, also will consult to @kenji-miyake on this.""}, {'user_id': 'ghost', 'created_at': '2022-07-19T22:21:00Z', 'comment_text': '@xmfcx Hi Fatih. Would it be possible to update this issue with your current progress please? 😄 '}, {'user_id': 'ghost', 'created_at': '2022-08-03T13:16:43Z', 'comment_text': '@xmfcx Hi Fatih. Based on the conversation last week, it seems as if this issue is no longer considered to beneficial towards developing a microservices architecture for Autoware and the CI/CD infrastructure changes that would need to be made to support that architecture. If so, could you please add a short summary note and close the issue please.  '}, {'user_id': 'xmfcx', 'created_at': '2022-08-04T17:16:10Z', 'comment_text': ""Hello @LalithVipulananthan,\r\n\r\nYeah, like you've said, this issue wouldn't achieve much. What we really need is to have a solid package release process based on [bloom](https://docs.ros.org/en/galactic/How-To-Guides/Releasing/Releasing-a-Package.html).""}, {'user_id': 'doganulus', 'created_at': '2022-08-04T21:32:12Z', 'comment_text': 'I wonder what prevents to build containers as specified in this discussion.\r\n\r\nHonestly speaking, it is hard to argue that ROS tooling is modern by current standards. I am afraid of relying more on that would bring more headache. Containers seemed like a good solution to me. What went wrong exactly?'}, {'user_id': 'xmfcx', 'created_at': '2022-08-04T22:03:58Z', 'comment_text': ""@doganulus Autoware Universe currently provides several docker containers in https://github.com/autowarefoundation/autoware/pkgs/container/autoware-universe and you can follow the [instructions from the documentation](https://autowarefoundation.github.io/autoware-documentation/main/installation/autoware/docker-installation/) to run Autoware using them.\r\n\r\nThese containers are built as artifacts of the [Autoware CI workflows](https://github.com/autowarefoundation/autoware/tree/main/.github/workflows),   [twice in a month](https://github.com/autowarefoundation/autoware/blob/main/.github/workflows/docker-build-and-push-humble-self-hosted.yaml#L8).\r\n\r\nAlso the plan is create our own debian repository for Autoware ROS packages' releases. This way if we want to create containers from select few packages, we can install them into the container using `apt`. Any other ROS package is released/installed that way, including many dependencies of the Autoware.""}]"
add manual triggering for workflows,mitsudome-r,2022-06-13T15:53:23Z,[]
CUDA environment is broken when I run a docker container with rocker,yukke42,2022-06-08T00:54:27Z,"[{'user_id': 'LevieSun', 'created_at': '2022-06-20T03:29:06Z', 'comment_text': 'I get the same problem'}, {'user_id': 'kenji-miyake', 'created_at': '2022-06-20T03:37:40Z', 'comment_text': ""I think this will be resolved after we change the base image to [11.7.0-devel-ubuntu22.04](https://hub.docker.com/layers/cuda/nvidia/cuda/11.7.0-devel-ubuntu22.04/images/sha256-16c790bc3349d70a0416cf8bf1eef9b40433ee907018b5ea32bdbddf75433a9d?context=explore).\r\n\r\nBut to do that, the network installation packages of cuDNN and TensorRT should be released.\r\nhttps://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/\r\n\r\nI'm waiting for that.\r\nOr if there is another better approach, I can try it out.""}, {'user_id': 'LevieSun', 'created_at': '2022-06-20T03:54:40Z', 'comment_text': ""> I think this will be resolved after we change the base image to [11.7.0-devel-ubuntu22.04](https://hub.docker.com/layers/cuda/nvidia/cuda/11.7.0-devel-ubuntu22.04/images/sha256-16c790bc3349d70a0416cf8bf1eef9b40433ee907018b5ea32bdbddf75433a9d?context=explore).\r\n> \r\n> But to do that, the network installation packages of cuDNN and TensorRT should be released. https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/\r\n> \r\n> I'm waiting for that. Or if there is another better approach, I can try it out.\r\n\r\nDo you have any other method to solve this problem? ""}, {'user_id': 'kenji-miyake', 'created_at': '2022-06-20T04:47:31Z', 'comment_text': ""Regarding `nvidia-smi`, I guess it's fixed by installing `nvidia-utils`.\r\n\r\n```sh-session\r\n$ apt-file search $(which nvidia-smi)\r\nnvidia-340: /usr/bin/nvidia-smi\r\nnvidia-utils-390: /usr/bin/nvidia-smi\r\nnvidia-utils-418-server: /usr/bin/nvidia-smi\r\nnvidia-utils-435: /usr/bin/nvidia-smi\r\nnvidia-utils-440: /usr/bin/nvidia-smi\r\nnvidia-utils-450-server: /usr/bin/nvidia-smi\r\nnvidia-utils-460-server: /usr/bin/nvidia-smi\r\nnvidia-utils-470: /usr/bin/nvidia-smi\r\nnvidia-utils-470-server: /usr/bin/nvidia-smi\r\nnvidia-utils-510: /usr/bin/nvidia-smi\r\nnvidia-utils-510-server: /usr/bin/nvidia-smi\r\n```\r\n\r\nRegarding `cudaErrorInsufficientDriver`, I'm sorry but I'm not sure. :pleading_face: \r\nI need to investigate the issue to catch up.""}, {'user_id': 'may012345', 'created_at': '2022-06-20T06:10:50Z', 'comment_text': '> Regarding `nvidia-smi`, I guess it\'s fixed by installing `nvidia-utils`.\r\n> \r\n> ```\r\n> $ apt-file search $(which nvidia-smi)\r\n> nvidia-340: /usr/bin/nvidia-smi\r\n> nvidia-utils-390: /usr/bin/nvidia-smi\r\n> nvidia-utils-418-server: /usr/bin/nvidia-smi\r\n> nvidia-utils-435: /usr/bin/nvidia-smi\r\n> nvidia-utils-440: /usr/bin/nvidia-smi\r\n> nvidia-utils-450-server: /usr/bin/nvidia-smi\r\n> nvidia-utils-460-server: /usr/bin/nvidia-smi\r\n> nvidia-utils-470: /usr/bin/nvidia-smi\r\n> nvidia-utils-470-server: /usr/bin/nvidia-smi\r\n> nvidia-utils-510: /usr/bin/nvidia-smi\r\n> nvidia-utils-510-server: /usr/bin/nvidia-smi\r\n> ```\r\n> \r\n> Regarding `cudaErrorInsufficientDriver`, I\'m sorry but I\'m not sure. 🥺 I need to investigate the issue to catch up.\r\n\r\nI also encontered the similar problem. When I run ""colcon build --symlink-install --cmake-args -DCMAKE_BUILD_TYPE=Release"" in the container of ""ghcr.io/autowarefoundation/autoware-universe:latest"" image , I found ""CUDA_TOOLKIT_ROOT_DIR not found or specified\r\nCUDA NOT FOUND\r\nTensorRT is NOT Available\r\nCUDNN is NOT Available"" error. It seems the container could not find CUDA. How do I fix this problem? Do I need to install autoware from the source instead of the docker?'}, {'user_id': 'kenji-miyake', 'created_at': '2022-06-20T06:16:54Z', 'comment_text': ""@may012345 Seeing @yukke42 -san's comment, I guess you can run Autoware using pure `Docker`, not `rocker`.""}, {'user_id': 'yukke42', 'created_at': '2022-06-20T06:25:11Z', 'comment_text': 'Yes. I could run autoware with a`docker run` command and a image built locally following the official tutorial.\r\n\r\n```\r\ndocker run --rm -it --gpus all -e DISPLAY -e TERM -e QT_X11_NO_MITSHM=1 -v /tmp/.X11-unix:/tmp/.X11-unix -v /etc/localtime:/etc/localtime:ro ghcr.io/autowarefoundation/autoware-universe:humble-latest\r\n```'}, {'user_id': 'may012345', 'created_at': '2022-06-20T06:26:33Z', 'comment_text': '> @may012345 Seeing @yukke42 -san\'s comment, I guess you can run Autoware using pure `Docker`, not `rocker`.\r\n\r\nI run with ""rocker --nvidia --x11 --user --volume $HOME/autoware -- ghcr.io/autowarefoundation/autoware-universe:latest"" and met the problem.'}, {'user_id': 'angry-crab', 'created_at': '2022-06-28T06:57:57Z', 'comment_text': ""I've also met the same problem. I'm using `rocker --nvidia --x11 --user --volume $HOME/autoware -- ghcr.io/autowarefoundation/autoware-universe:latest`. ""}, {'user_id': 'VRichardJP', 'created_at': '2022-06-28T07:38:19Z', 'comment_text': 'I have the problem with `rocker --nvidia --x11 --user --volume $HOME/autoware -- ghcr.io/autowarefoundation/autoware-universe:galactic-latest` but not with `rocker --nvidia --x11 --user --volume $HOME/autoware -- ghcr.io/autowarefoundation/autoware-universe:latest`'}, {'user_id': 'kenji-miyake', 'created_at': '2022-06-28T08:29:22Z', 'comment_text': '> but not with rocker --nvidia --x11 --user --volume $HOME/autoware -- ghcr.io/autowarefoundation/autoware-universe:latest\r\n\r\n@VRichardJP Could you tell me the hash of your images like this? I guess one is old (and based on CUDA image).\r\n\r\n```sh-session\r\n$ docker images | grep autoware-universe | grep "" latest ""\r\nghcr.io/autowarefoundation/autoware-universe                                          latest                                                                       5fdadcabfe9c   5 weeks ago     5.73GB\r\n```'}, {'user_id': 'VRichardJP', 'created_at': '2022-06-29T02:21:44Z', 'comment_text': 'Yes indeed, my `latest` is older than `galactic-latest`:\r\n```\r\nghcr.io/autowarefoundation/autoware-universe               galactic-latest                                                          ea6b0e03f964   5 weeks ago     5.74GB\r\nghcr.io/autowarefoundation/autoware-universe               latest                                                                   35694ec40e8f   8 weeks ago     16.2GB\r\n```'}, {'user_id': 'angry-crab', 'created_at': '2022-06-29T05:42:43Z', 'comment_text': '`docker run --rm -it --gpus all -e DISPLAY -e TERM -e QT_X11_NO_MITSHM=1 -v /tmp/.X11-unix:/tmp/.X11-unix -v /etc/localtime:/etc/localtime:ro -v $HOME/adehome:/home/adehome [ghcr.io/autowarefoundation/autoware-universe:humble-latest](http://ghcr.io/autowarefoundation/autoware-universe:humble-latest)`\r\nUsing `docker` instead of `rocker` does not solve the problem. CUDA, TensorRT, and cuDNN could not be found. '}, {'user_id': 'kenji-miyake', 'created_at': '2022-06-29T09:29:23Z', 'comment_text': ""@angry-crab `humble-latest` doesn't contain CUDA now. Please use `humble-latest-cuda` instead.\r\nhttps://github.com/autowarefoundation/autoware/pkgs/container/autoware-universe/26944787?tag=humble-latest-cuda""}, {'user_id': 'kenji-miyake', 'created_at': '2022-07-04T09:23:50Z', 'comment_text': 'I found the problem is because of the env `NVIDIA_DRIVER_CAPABILITIES`.\r\n\r\nTo confirm that, run the following command.\r\n\r\n```bash\r\nrocker --nvidia --x11 --user --env NVIDIA_DRIVER_CAPABILITIES="""" -- ghcr.io/autowarefoundation/autoware-universe:humble-latest-cuda\r\n\r\n# Or\r\nrocker --nvidia --x11 --user --env NVIDIA_DRIVER_CAPABILITIES=compute,utility,graphics -- ghcr.io/autowarefoundation/autoware-universe:humble-latest-cuda\r\n```\r\n\r\nI\'ll investigate this behavior more in detail and fix it.'}, {'user_id': 'kenji-miyake', 'created_at': '2022-07-04T11:05:33Z', 'comment_text': ""Sent a PR: https://github.com/osrf/rocker/pull/182\r\n\r\nIf it's not accepted, I'll add the following block in the Dockerfile.\r\n\r\n```dockerfile\r\n\r\n## Set env for nvidia-container-runtime\r\nENV NVIDIA_VISIBLE_DEVICES all\r\nENV NVIDIA_DRIVER_CAPABILITIES compute,utility\r\n```""}, {'user_id': 'kenji-miyake', 'created_at': '2022-07-08T02:10:38Z', 'comment_text': '@yukke42 My PR to `rocker` is merged. Do you think we can close this issue?\r\nWe can set `NVIDIA_DRIVER_CAPABILITIES` manually until the new `rocker` is released.'}, {'user_id': 'yukke42', 'created_at': '2022-07-12T01:29:58Z', 'comment_text': ""@kenji-miyake \r\nI'm sorry for the late replay. AND thank you for identifying the cause of this issue!\r\nI will close this issue after creating a PR to add your suggestion into the document.\r\n ""}, {'user_id': 'yukke42', 'created_at': '2022-07-12T08:02:55Z', 'comment_text': ""> @.kenji-miyake I'm sorry for the late replay. AND thank you for identifying the cause of this issue! I will close this issue after creating a PR to add your suggestion into the document.\r\n\r\nI will do after [this related issue](https://github.com/autowarefoundation/autoware.universe/issues/1311) is closed.\r\n""}, {'user_id': 'kenji-miyake', 'created_at': '2022-07-13T07:39:09Z', 'comment_text': 'Resolved by #2732 '}]"
Add configuration file for TIER IV CI/CD Pipeline,vios-fish,2022-06-06T07:44:06Z,[]
Move external repositories to src/external in the .repos file,esteve,2022-05-27T13:05:29Z,[]
Add announcements for EOL and fix some of the broken links,mitsudome-r,2022-05-27T07:05:11Z,"[{'user_id': 'yukkysaito', 'created_at': '2022-05-27T09:53:04Z', 'comment_text': '@mitsudome-r can you change from slack to discord in the readme?'}, {'user_id': 'mitsudome-r', 'created_at': '2022-05-31T14:46:34Z', 'comment_text': 'CI is failing, but it is mainly due to old GPG key which is irrelevant from the change in this PR. The error should be fixed in another PR.'}]"
Analyze the execution time of the function nodes,plane-li,2022-05-27T05:58:00Z,"[{'user_id': 'JianKangEgon', 'created_at': '2022-06-01T07:05:46Z', 'comment_text': 'For the control module, I focus on two controllers (MPC for lateral and PID for longitudinal). These data were collected under two different status. See following for details:\r\n\r\n![statistics_tracing_control](https://user-images.githubusercontent.com/87111711/171346894-625b7c1a-36f4-40d9-b43e-3433572e00dd.png)\r\n\r\n![still](https://user-images.githubusercontent.com/87111711/171346919-d183c145-6a37-42b2-92a4-4340d09b4de0.png)\r\n\r\n'}, {'user_id': 'cyn-liu', 'created_at': '2022-06-17T09:17:25Z', 'comment_text': '\r\nFor the localization module, we analyzed the running time of multiple nodes and container such as pose_initializer, ndt_scan_matche, ekf_localizer, etc., and specific results are as follows:\r\n![image](https://user-images.githubusercontent.com/104069308/174268153-0c352075-d4fc-4716-9dc1-6697ddec14c5.png)\r\n'}, {'user_id': 'beginningfan', 'created_at': '2022-06-17T10:02:59Z', 'comment_text': 'perspection:\r\nmode=lidar\r\n![110](https://user-images.githubusercontent.com/103237402/174276527-5900dd2e-d641-4a13-9140-ae80f01783b3.png)\r\n\r\n\r\nmode=camera_lidar_fusion\r\n![111](https://user-images.githubusercontent.com/103237402/174276554-cbe2203d-820d-42bd-9f9c-e8d5f1c0fbac.png)\r\n\r\n\r\n'}, {'user_id': 'Sharrrrk', 'created_at': '2022-07-18T01:28:11Z', 'comment_text': 'Refer to [Analysis of execution delay of Autoware Nodes](https://github.com/autowarefoundation/autoware/files/9128996/Analysis.of.execution.delay.of.Autoware.Nodes.pdf)'}]"
[Humble] arm64 build fails,kenji-miyake,2022-05-24T10:21:16Z,"[{'user_id': 'xmfcx', 'created_at': '2022-05-24T11:16:13Z', 'comment_text': ""I've reproduced this and now working on it.""}, {'user_id': 'xmfcx', 'created_at': '2022-05-24T11:48:01Z', 'comment_text': ""I've applied change from https://gitlab.com/autowarefoundation/autoware.auto/AutowareAuto/-/merge_requests/1357/diffs#76174e89c5600d934d9dd62a01ca0159e7e0d42a_35_38 and it compiled fine.\r\n\r\ncreated pr in the package: https://github.com/tier4/grid_map/pull/2""}, {'user_id': 'xmfcx', 'created_at': '2022-05-24T11:48:58Z', 'comment_text': 'Once the PR is merged, we can close this issue.'}, {'user_id': 'kenji-miyake', 'created_at': '2022-05-24T12:00:31Z', 'comment_text': ""https://github.com/tier4/grid_map/pull/2#pullrequestreview-983084399\r\n> @xmfcx Thank you!\r\nCould you submit a PR to https://github.com/ANYbotics/grid_map/tree/ros2 as well?\r\nWe're temporarily using TIER IV's fork.""}, {'user_id': 'xmfcx', 'created_at': '2022-05-24T12:22:40Z', 'comment_text': 'Created https://github.com/ANYbotics/grid_map/pull/349'}, {'user_id': 'kenji-miyake', 'created_at': '2022-05-24T12:34:02Z', 'comment_text': ""I've confirmed it's resolved. Thanks!""}]"
Use a common base image for CUDA libraries,kenji-miyake,2022-05-24T06:18:16Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-07-04T06:00:34Z', 'comment_text': 'For Galactic, it will be resolved by https://github.com/autowarefoundation/autoware/pull/2703.'}]"
resolve libzmqpp-dev package in Ubuntu 22.04,hakuturu583,2022-05-24T05:03:18Z,"[{'user_id': 'wep21', 'created_at': '2022-06-22T17:33:45Z', 'comment_text': 'I think we can close this issue now that autowarefoundation/autoware#350 is closed.'}]"
Make the Docker image size smaller,kenji-miyake,2022-05-23T16:54:07Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-05-23T17:25:21Z', 'comment_text': 'Related:\r\n- https://docs.nvidia.com/cuda/eula/index.html#attachment-a\r\n- https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#package-manager-metas\r\n- https://github.com/Autoware-AI/docker/blob/0d808605034faf5470b00e9a1db73307c400111b/generic/Dockerfile.cuda.melodic\r\n- https://github.com/NVIDIA/TensorRT/blob/main/docker/ubuntu-20.04.Dockerfile\r\n- https://gitlab.com/nvidia/container-images/cuda/-/blob/master/dist/11.6.2/ubuntu2004/devel/Dockerfile\r\n\r\nThank you for your support @wep21!'}, {'user_id': 'kenji-miyake', 'created_at': '2022-05-24T02:40:12Z', 'comment_text': ""I'll apply https://gitlab.com/nvidia/container-images/cuda/-/blob/master/dist/11.6.2/ubuntu2004/devel/Dockerfile#L56.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-05-24T03:33:27Z', 'comment_text': ""Actually, the image size wasn't such a big problem. It's important to have a common base for CUDA libraries.\r\nI'll create another issue.""}]"
Support ROS 2 Humble,kenji-miyake,2022-05-22T16:52:51Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-07-04T17:02:49Z', 'comment_text': 'Resolved by https://github.com/autowarefoundation/autoware/pull/2692.'}]"
Add Ccache into docker image to speed up recompilation,brkay54,2022-05-21T00:56:18Z,"[{'user_id': 'brkay54', 'created_at': '2022-05-21T01:00:16Z', 'comment_text': '@kenji-miyake Should we add Ccache into docker image? What do you think?'}, {'user_id': 'kenji-miyake', 'created_at': '2022-05-21T16:59:09Z', 'comment_text': ""@brkay54 Yes, I think it's possible. Could you send a PR like plotjuggler?""}]"
build faild,mengmenghu-Alex,2022-05-09T06:07:15Z,"[{'user_id': 'shmpwk', 'created_at': '2022-05-12T10:10:25Z', 'comment_text': 'If you can describe \r\n- your version of OS , cuda version, cudnn, TensorRT and etc,\r\n- the command the error reproduced\r\nwe are very helpful since we can share the problem.'}]"
Run setup-dev-env.sh docker failed,Sharrrrk,2022-05-06T08:33:58Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-05-06T08:41:53Z', 'comment_text': ""@Sharrrrk Thank you for reporting this.\r\n- What's your Ansible version?\r\nhttps://github.com/autowarefoundation/autoware/blob/af25faddd16bf8f9a1bace814b0f82e020803f5b/setup-dev-env.sh#L98-L99\r\n- Is `$HOME/.local/bin` in your PATH?""}, {'user_id': 'Sharrrrk', 'created_at': '2022-05-06T08:48:21Z', 'comment_text': "">What's your Ansible version?\r\n\r\nansible                5.7.1\r\n\r\n>Is $HOME/.local/bin in your PATH?\r\n\r\nFor my current user, `ansible-galaxy` is available, but under root accout not. The script runs with sudo, so this error occurs.\r\n\r\n@kenji-miyake I was just updating my description, yes you are right, ansible is installed by a user account, not root account. But the version check passes.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-05-06T09:07:39Z', 'comment_text': '@Sharrrrk I see, thank you. Could you update the script to work in your environment? Or should I help something?'}, {'user_id': 'kenji-miyake', 'created_at': '2022-05-06T09:08:59Z', 'comment_text': ""By the way, I'm thinking of removing `sudo` from `pip` install. 92c356754133b8414d5a0feef04fb51227547bda\r\nIs that related to this issue?""}, {'user_id': 'Sharrrrk', 'created_at': '2022-05-06T09:12:18Z', 'comment_text': ""> \r\n\r\nI can quick fix it with `sudo pip3 install ansible`. \r\n\r\n>By the way, I'm thinking of removing sudo from pip install. \r\n\r\nThis definitely would solve this issue. Thank you.""}]"
Fail to update a workspace,shmpwk,2022-05-02T09:13:06Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-05-02T09:20:24Z', 'comment_text': ""@shmpwk Ah, yeah exactly. I'm sorry for my mistake. :bow: \r\nCould you fix send a PR to fix this? :pray: \r\n\r\n> because of .gitignore.\r\n\r\nStrictly speaking, I believe `.gitignore` isn't related. It's because `~/autoware` is a Git repository. So you can also use `vcs pull --nested` to update the workspace.""}, {'user_id': 'shmpwk', 'created_at': '2022-05-02T09:30:00Z', 'comment_text': 'Thank you, I see.\r\nWhich do you lilke `vcs pull src` or `vcs pull --nested`? '}, {'user_id': 'shmpwk', 'created_at': '2022-05-02T09:33:22Z', 'comment_text': ""I've use former.\r\nClose by https://github.com/autowarefoundation/autoware-documentation/pull/95""}, {'user_id': 'kenji-miyake', 'created_at': '2022-05-02T09:40:47Z', 'comment_text': ""Thank you for your PR!\r\nI personally prefer `vcs pull src` because I've never used the `--nested` option.""}]"
CUDA GPG causes an error,kenji-miyake,2022-04-29T02:31:47Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-04-30T07:21:19Z', 'comment_text': 'The commands users should run are:\r\n\r\n```bash\r\nsudo apt-key del 7fa2af80\r\nsudo apt-key adv --fetch-keys https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/3bf863cc.pub\r\n```\r\n\r\nhttps://developer.nvidia.com/cuda-downloads?target_os=Linux&target_arch=x86_64&Distribution=Ubuntu&target_version=20.04&target_type=deb_network\r\n\r\nOr,\r\n\r\n```bash\r\nwget https://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/cuda-keyring_1.0-1_all.deb\r\n# wget https://developer.download.nvidia.com/compute/cuda/repos/$distro/$arch/cuda-keyring_1.0-1_all.deb\r\nsudo dpkg -i cuda-keyring_1.0-1_all.deb\r\n```\r\n\r\nhttps://forums.developer.nvidia.com/t/notice-cuda-linux-repository-key-rotation/212772/1'}, {'user_id': 'kenji-miyake', 'created_at': '2022-04-30T07:41:22Z', 'comment_text': 'CI:\r\n- https://github.com/autowarefoundation/autoware/runs/6238798725?check_suite_focus=true\r\n- https://github.com/autowarefoundation/autoware/runs/6238798979?check_suite_focus=true'}]"
CUDA installation for ARM64 is broken for some reasons,kenji-miyake,2022-04-28T14:27:10Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-04-30T15:37:01Z', 'comment_text': 'Now it seems fixed.\r\nhttps://github.com/autowarefoundation/autoware/runs/6238798979?check_suite_focus=true\r\nhttps://github.com/autowarefoundation/autoware/runs/6238801834?check_suite_focus=true'}]"
Improve PlotJugger installation,kenji-miyake,2022-04-28T14:20:53Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-05-14T09:42:36Z', 'comment_text': ""I'll add an `exec_depend` after autowarefoundation/autoware#300 is merged.\r\n-> Since it's released, I'll cancel this.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-07-04T06:03:24Z', 'comment_text': 'Since PlotJuggler was released both in Galactic and Humble, there is no need to improve the installation method anymore.'}]"
Enable multi-stage builds for Autoware,kaspermeck-arm,2022-04-28T05:22:42Z,"[{'user_id': 'kaspermeck-arm', 'created_at': '2022-05-10T17:32:55Z', 'comment_text': ""@LalithVipulananthan \r\nWe would need a volunteer who could do the work for this issue, I'll be able to assist of course. From my knowledge, there's only one script which build the actual container image. The files can be found here:\r\n- /home/ubuntu/autoware/docker/build.sh\r\n- /home/ubuntu/autoware/docker/autoware-universe/Dockerfile\r\n- /home/ubuntu/autoware/docker/autoware-universe/docker-bake.hcl\r\n\r\nReplacing the _build.sh_ file would be the first step.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-05-10T19:37:59Z', 'comment_text': ""@kasperornmeck cc @LalithVipulananthan \r\nFYI, as written in https://github.com/autowarefoundation/autoware/blob/main/docker/README.md, `build.sh` is for the local build.\r\n\r\nThe actual images hosted on https://github.com/autowarefoundation/autoware/pkgs/container/autoware-universe are created by these workflows and actions.\r\n- https://github.com/autowarefoundation/autoware/blob/main/.github/workflows/build.yaml\r\n- https://github.com/autowarefoundation/autoware/blob/main/.github/workflows/build-self-hosted.yaml\r\n- https://github.com/autowarefoundation/autoware/blob/main/.github/actions/docker-build-and-push/action.yaml\r\n\r\n> Replacing the build.sh file would be the first step.\r\n\r\nRegarding this part, could you first start with creating it as another script like `build-compose.sh`?\r\nAnd after checking the behavior and reviewing it, I'd like to consider replacing it.""}, {'user_id': 'kaspermeck-arm', 'created_at': '2022-05-18T14:50:26Z', 'comment_text': ""@kenji-miyake \r\nThanks for sharing these links. I'll have to look more into these to understand the workflow in GitHub.""}, {'user_id': 'kaspermeck-arm', 'created_at': '2022-05-18T15:05:21Z', 'comment_text': '@kenji-miyake \r\nDoes this mean that the developer environment container used in the cloud on GitHub is different from the developer container which would be used locally?'}, {'user_id': 'kenji-miyake', 'created_at': '2022-05-18T15:23:40Z', 'comment_text': ""@kasperornmeck No, they are not so different. The differences are just some settings.\r\nTo build Docker images with GitHub Actions, it's better to use useful third-party actions. But they can't be used in our local, so we need to change some settings to handle the differences.""}, {'user_id': 'ghost', 'created_at': '2022-06-15T23:38:41Z', 'comment_text': 'For the Perception PoC, to build all dependent components for perception, use the following command:\n`colcon build --packages-up-to tier4_perception_launch`'}, {'user_id': 'kaspermeck-arm', 'created_at': '2023-01-20T22:56:35Z', 'comment_text': ""@BonoloAWF - I suggest we close this issue as it won't go anywhere and the issues this issue tries to solve is addressed in the DevOps Dojos.""}]"
Support ROS 2 Rolling on Ubuntu 22.04,kenji-miyake,2022-04-27T04:53:21Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-04-27T04:54:04Z', 'comment_text': ""@xmfcx @mitsudome-r @esteve I'll work on this with the help of @wep21.\r\n\r\nI'll keep the work logs in https://github.com/orgs/autowarefoundation/discussions/2566.""}, {'user_id': 'esteve', 'created_at': '2022-04-27T09:58:55Z', 'comment_text': ""@kenji-miyake let me if there's anything I can help with, I'm happy to contribute code and review PRs.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-04-28T15:12:59Z', 'comment_text': ""Since Humble is already available with `ros2-testing`, I'll test it, too.\r\nhttps://docs.ros.org/en/humble/Installation/Ubuntu-Install-Debians.html""}, {'user_id': 'kenji-miyake', 'created_at': '2022-05-22T15:41:09Z', 'comment_text': ""I'll support Humble in another branch/PR.""}]"
[CI] github-release creates multiple releases for the same branch,kenji-miyake,2022-04-27T03:41:05Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-04-27T04:11:14Z', 'comment_text': ""The `edit` command is introduced in v2.8.0 and the default version installed is v2.7.0. :pleading_face: \r\nhttps://github.com/cli/cli/releases/tag/v2.8.0\r\nhttps://github.com/kenji-miyake/autoware/runs/6187394858?check_suite_focus=true#step:8:4\r\n\r\nSeeing the release cycle, I guess it's released this week.""}]"
Permission denied errors occur when building perception packages that require trained model ONNX files to be downloaded from Google Drive,ghost,2022-04-20T11:14:49Z,"[{'user_id': 'yukkysaito', 'created_at': '2022-04-20T11:34:32Z', 'comment_text': 'Can i assign @eratostennis? :pray: '}, {'user_id': 'yukkysaito', 'created_at': '2022-04-20T11:37:02Z', 'comment_text': '**Cause:** \r\nIf there are too many downloads, Google drive will limit the downloads with gdown.\r\n\r\n**Temporary solution:**\r\n download manually the weight files from download links\r\n'}, {'user_id': 'eratostennis', 'created_at': '2022-04-26T01:12:19Z', 'comment_text': 'I will store the model on another storage this week to avoid the limitation of google drive.'}, {'user_id': 'eratostennis', 'created_at': '2022-05-27T09:08:00Z', 'comment_text': ""@LalithVipulananthan \r\n\r\nIn this pull request I moved ml models to another storage.\r\nI don't think the same problem will occur.\r\n\r\nIf it's good for you, please close this issue.""}]"
Autoware.universe install fail on Jetson Xavier platform,esteve,2022-04-19T09:09:48Z,"[{'user_id': 'esteve', 'created_at': '2022-04-19T14:29:03Z', 'comment_text': ""According to https://forums.developer.nvidia.com/t/mounting-of-img-file/128257/8 it should be possible to mount the Jetson image as a loopback device, but so far I haven't succeeded. `fdisk` reports an offset of `1187840`, but neither `losetup` or `mount` seem to like it:\r\n\r\n```\r\nsudo mount -o loop,offset=$((512 * 1187840)) sd-blob-b01.img /home/esteve/Downloads/jetson/mnt/\r\nmount: /home/esteve/Downloads/jetson/mnt/: failed to setup loop device for sd-blob-b01.img.\r\n```\r\n\r\nI'll see if I can extract the image via `dd` and mount it without offset.""}, {'user_id': 'esteve', 'created_at': '2022-04-21T11:21:00Z', 'comment_text': ""More progress, I managed to use `kpartx` to mount the first partition in the image and `chroot`ed in to inspect the `/` filesystem. However, running Docker from inside the `chroot` is not as easy, but I'll continue trying.""}, {'user_id': 'esteve', 'created_at': '2022-05-02T13:27:33Z', 'comment_text': 'According to https://github.com/orgs/autowarefoundation/discussions/255#discussioncomment-2664151 upgrading to Jetpack 5.0 fixes any CUDA-related issues. @jason914 could you try upgrading to Jetpack 5.0 and see if you can run Autoware? Thanks.'}, {'user_id': 'Sharrrrk', 'created_at': '2022-05-09T04:54:17Z', 'comment_text': '@esteve I just tested using Jetson AGX Xavier with JetPack 5.0 (Ubuntu 20.04) and latest arm64 docker image, after a minor fix [869](https://github.com/autowarefoundation/autoware.universe/pull/869), build success without errors.\r\n`Summary: 195 packages finished [1h 54min 26s]Summary: 195 packages finished [1h 54min 26s]`\r\n\r\nCUDA and OS version as below:\r\n```\r\nnv@xavier-5:~$ uname -a\r\nLinux xavier-5 5.10.65-tegra #1 SMP PREEMPT Wed Apr 6 11:45:49 PDT 2022 aarch64 aarch64 aarch64 GNU/Linux\r\nnv@xavier-5:~$ nvcc --version\r\nnvcc: NVIDIA (R) Cuda compiler driver\r\nCopyright (c) 2005-2021 NVIDIA Corporation\r\nBuilt on Thu_Nov_11_23:44:05_PST_2021\r\nCuda compilation tools, release 11.4, V11.4.166\r\nBuild cuda_11.4.r11.4/compiler.30645359_0\r\n```'}, {'user_id': 'Sharrrrk', 'created_at': '2022-05-09T07:54:05Z', 'comment_text': '>There is an error when use following command.\r\nrocker --nvidia --x11 --user --volume $HOME/autoware -- ghcr.io/autowarefoundation/autoware-universe:latest-arm64\r\nFollowing is error log.\r\n\r\nHaving the same behavior for Q2'}, {'user_id': 'mitsudome-r', 'created_at': '2022-09-15T07:58:05Z', 'comment_text': ""Since it is resolved in JetPack 5.0, I'm closing this issue""}]"
Apply Autoware to the diff-drive robot,shmpwk,2022-04-13T07:54:35Z,[]
add allow-change-held-packages option after ansible 2.13 will be released,wep21,2022-04-07T05:25:50Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-04-27T04:41:59Z', 'comment_text': '> 2022-05-23 Release\r\n\r\nhttps://docs.ansible.com/ansible/devel/roadmap/ROADMAP_2_13.html\r\n\r\n> 2022-06-21 Ansible-6.0.0 release.\r\n\r\nhttps://docs.ansible.com/ansible/devel/roadmap/COLLECTIONS_6.html\r\n\r\n> allow_change_held_packages \r\nboolean\r\nadded in 2.13 of ansible.builtin\r\n\r\nhttps://docs.ansible.com/ansible/latest/collections/ansible/builtin/apt_module.html'}]"
The obstacle avoidance marker is busy by default,yukkysaito,2022-04-04T12:55:11Z,"[{'user_id': 'yukkysaito', 'created_at': '2022-04-04T12:56:32Z', 'comment_text': 'Sorry, I mistaked to post'}]"
Upgrade CUDA to 11.6 Update 2?,kenji-miyake,2022-03-31T08:10:38Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-03-31T08:12:08Z', 'comment_text': '@mitsudome-r @xmfcx @yukkysaito @esteve What do you think about this?'}, {'user_id': 'kenji-miyake', 'created_at': '2022-03-31T08:14:25Z', 'comment_text': 'It seems there is no `11.6` for `libnvinfer` yet.\r\nhttps://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/\r\n![image](https://user-images.githubusercontent.com/31987104/161009115-272fd47c-558f-48bf-96c9-6a30a1672d69.png)\r\n'}, {'user_id': 'esteve', 'created_at': '2022-03-31T08:51:50Z', 'comment_text': ""@kenji-miyake is it possible to mix the rest of CUDA 11.6 with `libnvinfer-plugin` 11.4? If not, I'd wait until the new version is released.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-03-31T08:55:07Z', 'comment_text': ""> is it possible to mix the rest of CUDA 11.6 with libnvinfer-plugin 11.4? If not, I'd wait until the new version is released.\r\n\r\nActually, I believe it's impossible. We have to wait for the release in any case.\r\n\r\nAlso, I'm concerned about the dependencies in https://github.com/autowarefoundation/autoware.universe.\r\n@yukkysaito knows well about this.""}, {'user_id': 'yukkysaito', 'created_at': '2022-04-05T17:58:30Z', 'comment_text': 'To be sure, I am currently checking tit works properly with cuda 11.4.\r\nAfter that, I will check it works with cuda11.6.'}, {'user_id': 'kenji-miyake', 'created_at': '2022-04-15T00:49:47Z', 'comment_text': 'The new version should be available in both `x86_64(amd64)` and `sbsa(arm64)`.\r\nhttps://github.com/autowarefoundation/autoware/pull/154#issuecomment-1099745019\r\n\r\nhttps://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/x86_64/\r\nhttps://developer.download.nvidia.com/compute/cuda/repos/ubuntu2004/sbsa/'}, {'user_id': 'kenji-miyake', 'created_at': '2022-04-24T12:42:31Z', 'comment_text': ""I've created a helper tool to find CUDA versions.\r\nhttps://github.com/kenji-miyake/find-cuda-versions\r\n\r\nNow we can find if there are any corresponding versions to a certain CUDA version.\r\n\r\n```sh-session\r\n$ pip install git+https://github.com/kenji-miyake/find-cuda-versions.git\r\n$ find-cuda-versions --cuda 11.6\r\n[cudnn x86_64]\r\n8.4.0.27-1+cuda11.6\r\n\r\n[cudnn sbsa]\r\n8.4.0.27-1+cuda11.6\r\n\r\n[tensorrt x86_64]\r\n\r\n[tensorrt sbsa]\r\n```""}, {'user_id': 'stale[bot]', 'created_at': '2022-06-26T05:46:43Z', 'comment_text': 'This pull request has been automatically marked as stale because it has not had recent activity.\n'}, {'user_id': 'kenji-miyake', 'created_at': '2022-06-26T07:05:03Z', 'comment_text': ""Updated to 11.6 in the `humble` branch.\r\nhttps://github.com/autowarefoundation/autoware.ai/blob/d2feaef806f93ceb60ae50d49ae98d904fef3e09/amd64.env#L5\r\n\r\nBut we should also consider updating to 11.7 because 11.6 isn't released to ubuntu 22.04 repo.\r\nhttps://developer.download.nvidia.com/compute/cuda/repos/ubuntu2204/x86_64/\r\n\r\nCurrently, we use 20.04 repo with ubuntu 22.04 because 11.7 doesn't have corresponding cuDNN and TensorRT yet.""}]"
Vulkan driver fails to detect GPU,angry-crab,2022-03-29T07:21:55Z,"[{'user_id': 'IshitaTakeshi', 'created_at': '2022-04-01T06:14:01Z', 'comment_text': ""1. What task are you trying to do? Because usually I don't explicitly use Vulcan in rosbag simulation\r\n2. What is the output of `nvidia-smi` on the host environment?""}, {'user_id': 'angry-crab', 'created_at': '2022-04-01T06:42:14Z', 'comment_text': ""> 1. What task are you trying to do? Because usually I don't explicitly use Vulcan in rosbag simulation\r\n> 2. What is the output of `nvidia-smi` on the host environment?\r\n\r\nI'm trying to start `svl` simulator. This Vulcan driver is a cross-platform GPU API released by nvidia. It was mainly used for graphics and simulation development. Most modern simulator depends on this API, such as `carla` and `svl`. \r\nDetailed information: [vulkan](https://developer.nvidia.com/vulkan)\r\n\r\n`nvidia-smi` outputs the correct information about GPU.""}, {'user_id': 'IshitaTakeshi', 'created_at': '2022-04-01T06:45:23Z', 'comment_text': ""So are you working on the main branch? Usually I'm working on tier4/proposal so there might be misunderstanding sorry""}, {'user_id': 'angry-crab', 'created_at': '2022-04-01T08:05:20Z', 'comment_text': ""> So are you working on the main branch? Usually I'm working on tier4/proposal so there might be misunderstanding sorry\r\n\r\nYes, I'm working with main branch. Does `tier4/proposal` branch use the same docker image? ""}, {'user_id': 'IshitaTakeshi', 'created_at': '2022-04-01T09:42:43Z', 'comment_text': 'Dockerfile seems the same but it copies files from the host so the Autoware code included in the docker container will be different'}, {'user_id': 'IshitaTakeshi', 'created_at': '2022-04-01T09:48:40Z', 'comment_text': 'But the container environment will be the same and in my environment CUDA seems to work correctly so something is wrong'}, {'user_id': 'ambroise-arm', 'created_at': '2022-06-08T08:58:50Z', 'comment_text': 'The nvidia vulkan library needs to be registered for it to be discovered when running a vulkan program.\r\nIn Autoware.Auto we were adding the necessary file to the docker environment here: https://gitlab.com/autowarefoundation/autoware.auto/AutowareAuto/-/blob/e3e26be1ab4b822996df60f261d031d7924f20ac/tools/ade_image/Dockerfile#L100\r\n\r\nReplicating this in the .universe environment (changing /etc/vulkan/ to /usr/share/vulkan/ to match were the other icd files are in this case)\r\n```sh\r\nwget https://gitlab.com/nvidia/container-images/vulkan/raw/master/nvidia_icd.json\r\nsudo mv nvidia_icd.json /usr/share/vulkan/icd.d/\r\n```\r\nthe vulkaninfo output changes to an error, but the actual vulkan capability works in the program I was testing.\r\nA fast way to get vulkaninfo to work correctly is to use the ""--privileged"" flag when launching rocker/docker (and still getting the icd file), but I\'m not sure if it would have an impact on actual programs using vulkan.'}, {'user_id': 'ambroise-arm', 'created_at': '2022-08-17T10:32:06Z', 'comment_text': 'vulkaninfo and vkcube work in :latest by following https://github.com/autowarefoundation/autoware/pull/2736#discussion_r924280351'}]"
The lidar_centerpoint package can not download model automatically due to LIB_TORCH NOT FOUND,xczhanjun,2022-03-18T05:52:34Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-03-18T06:08:41Z', 'comment_text': 'Thank you for reporting this, but please wait for https://github.com/autowarefoundation/autoware.universe/pull/480 to be merged.'}, {'user_id': 'yukke42', 'created_at': '2022-04-07T00:44:46Z', 'comment_text': ""@xczhanjun https://github.com/autowarefoundation/autoware.universe/pull/480 is merged, but the detected objects of lidar_centerpoint isn't published because of other problem.\r\nPlease try [the link](https://github.com/autowarefoundation/autoware.universe/issues/643#issuecomment-1090090877), to use lidar_centerpoint.""}]"
Add NOTICE files to each repository,kenji-miyake,2022-03-12T04:39:23Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-03-12T06:08:43Z', 'comment_text': 'Seeing https://github.com/Autoware-AI/autoware.ai, it seems it was in `2017` that TIER IV started to commit as ""TIER IV"".\r\n\r\nSo, I\'ll use `2017` for the TIER IV\'s copyright notation in `autoware.universe`.\r\n\r\n```\r\n❯ ag Copyright | ag Tier\r\nsrc/drivers/awf_drivers/autoware_driveworks_interface/nodes/tensorrt_interface/tensorrt_interface_node.cpp:2: *  Copyright (c) 2017, TierIV Inc.\r\nsrc/drivers/awf_drivers/autoware_driveworks_interface/include/tensorrt_interface.hpp:2: *  Copyright (c) 2018, TierIV Inc.\r\nsrc/drivers/awf_drivers/autoware_driveworks_interface/nodes/gmsl_interface/gmsl_interface_node.cpp:2: *  Copyright (c) 2017, TierIV Inc.\r\nsrc/drivers/awf_drivers/autoware_driveworks_interface/include/gmsl_interface.hpp:2: *  Copyright (c) 2018, TierIV Inc.\r\nsrc/autoware/core_perception/points_preprocessor/nodes/compare_map_filter/compare_map_filter.cpp:2: *  Copyright (c) 2018, TierIV, Inc\r\nsrc/autoware/core_planning/twist_gate/src/twist_gate.cpp:2: *  Copyright (c) 2017, Tier IV, Inc.\r\nsrc/autoware/common/map_file/nodes/points_map_filter/points_map_filter.cpp:2: *  Copyright (c) 2018, TierIV, Inc\r\nsrc/autoware/common/map_file/include/map_file/points_map_filter.h:2: *  Copyright (c) 2018, TierIV, Inc\r\nsrc/autoware/common/map_file/nodes/points_map_filter/points_map_filter_node.cpp:2: *  Copyright (c) 2018, TierIV, Inc\r\nsrc/autoware/utilities/mqtt_socket/nodes/mqtt_sender/mqtt_sender.cpp:2: *  Copyright (c) 2017, Tier IV, Inc.\r\nsrc/autoware/utilities/mqtt_socket/nodes/mqtt_receiver/mqtt_receiver.cpp:2: *  Copyright (c) 2017, Tier IV, Inc.\r\nsrc/autoware/utilities/vehicle_engage_panel/src/vehicle_engage_panel.h:2: * Copyright (c) 2018, TierIV Inc.\r\nsrc/autoware/utilities/vehicle_engage_panel/src/vehicle_engage_panel.cpp:2: * Copyright (c) 2018, TierIV Inc.\r\nsrc/autoware/visualization/state_panel/src/sim_object/flag.h:2: * Copyright (c) 2017, TierIV, Inc.\r\nsrc/autoware/visualization/state_panel/src/sim_object/autoware_flag_tool.h:2: * Copyright (c) 2017, TierIV, Inc.\r\nsrc/autoware/visualization/state_panel/src/sim_object/autoware_flag_tool.cpp:2: * Copyright (c) 2017, TierIV, Inc.\r\nsrc/autoware/visualization/decision_maker_panel/src/decision_maker_panel.cpp:2: * Copyright (c) 2018, TierIV Inc.\r\n```'}, {'user_id': 'kenji-miyake', 'created_at': '2022-03-12T06:29:44Z', 'comment_text': ""For other repositories,\r\n- autoware.core:\r\n    - I won't add TIER IV's copyright yet because there is no code.\r\n- autoware-documentation/autoware_individual_params:\r\n    - I won't add TIER IV's copyright because there is no code.\r\n- autoware_launch/sample_vehicle_launch/sample_sensor_kit_launch:\r\n    - Use `2020`. (It is the timing we've published [our proposal](https://github.com/tier4/AutowareArchitectureProposal.proj/commit/aab8e6c01d7fcc9722c60abc76be1172e52a8759) and most code was modified from the proposal.)\r\n- autoware-github-actions/autoware_common:\r\n    - Use `2021` because I started implementing them in `2021`.\r\n\r\nFor the AWF's copyright notation, I'll use `2021` because we proposed Core/Universe in `2021`.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-03-12T06:39:33Z', 'comment_text': '@xmfcx cc @mitsudome-r Could you confirm this?\r\nWe can wait for autowarefoundation/autoware.ai#2420 and https://github.com/autowarefoundation/autoware-documentation/pull/44 before merging `NOTICE` files.'}, {'user_id': 'kenji-miyake', 'created_at': '2022-03-13T05:44:47Z', 'comment_text': '@xmfcx Thank you so much!'}, {'user_id': 'kenji-miyake', 'created_at': '2022-06-21T03:06:25Z', 'comment_text': ""Memo: The reference format we've used in https://github.com/autowarefoundation/autoware/pull/29#discussion_r792561655 was https://github.com/apache/solr/blob/0ba432371064586a900ae1e66b483f0685d4ef7f/NOTICE.txt.""}]"
The location of autoware_auto_msgs,wep21,2022-03-09T13:35:37Z,"[{'user_id': 'wep21', 'created_at': '2022-03-09T13:36:30Z', 'comment_text': '@xmfcx @mitsudome-r @kenji-miyake Thoughts?'}, {'user_id': 'xmfcx', 'created_at': '2022-03-09T13:39:07Z', 'comment_text': ""@wep21 Let's keep them there for now. We will discuss the final messages structure as we finalize the design. And recreate the repository in `autowarefoundation` group with the updated messages.\r\n\r\nAnd we will switch to using them instead in the universe repository.""}, {'user_id': 'xmfcx', 'created_at': '2022-03-09T13:43:47Z', 'comment_text': ""The messages won't be `autoware_auto_msgs` anymore, I think we should name them `autoware_msgs` and update https://index.ros.org/p/autoware_msgs/github-autoware-ai-messages/ for our use case, what do you think?\r\n\r\nSince we will only update the `galactic` and later, old messages could stay the way they are.\r\n\r\n`noetic` and older would belong to `autoware.ai` and `galactic` and later would belong to `autoware`\r\n\r\n@JWhitleyWork any thoughts?""}, {'user_id': 'kenji-miyake', 'created_at': '2022-03-09T14:33:42Z', 'comment_text': ""I think so, too.\r\nhttps://github.com/autowarefoundation/autoware.universe/issues/142\r\nhttps://github.com/autowarefoundation/autoware/blob/47f8d0e15f9c327c1c45c9b726f9970e5edf2430/autoware.repos#L5\r\n\r\nBut I'll leave this issue to Fatih-san and Mitsudome-san.""}, {'user_id': 'stale[bot]', 'created_at': '2022-06-18T16:05:08Z', 'comment_text': 'This pull request has been automatically marked as stale because it has not had recent activity.\n'}, {'user_id': 'kenji-miyake', 'created_at': '2022-06-19T01:24:01Z', 'comment_text': 'Move to https://github.com/autowarefoundation/autoware_msgs/issues/2.'}]"
Docker instructions for multiple terminal usage,angry-crab,2022-03-04T05:50:57Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-03-04T06:09:10Z', 'comment_text': '@angry-crab I think you can do it by this.\r\n\r\n```sh\r\n# Terminal 1\r\nrocker --name autoware ghcr.io/autowarefoundation/autoware-universe:latest\r\n\r\n# Terminal 2\r\ndocker exec -it autoware /bin/bash\r\n```\r\n\r\n![image](https://user-images.githubusercontent.com/31987104/156709267-c9d625c0-c81e-4d36-9583-a88d515565b2.png)\r\n'}, {'user_id': 'kenji-miyake', 'created_at': '2022-03-04T06:14:23Z', 'comment_text': 'You can send pull requests and update documents.\r\n\r\nAround here?\r\n- https://github.com/autowarefoundation/autoware/blob/main/docker/README.md\r\n- https://github.com/autowarefoundation/autoware-documentation/pull/28\r\n\r\nOr you can guide a new how-to guide page like this.\r\n- https://github.com/autowarefoundation/autoware-documentation/pull/27'}, {'user_id': 'angry-crab', 'created_at': '2022-03-07T03:01:07Z', 'comment_text': ""> You can send pull requests and update documents.\r\n> \r\n> Around here?\r\n> \r\n> * https://github.com/autowarefoundation/autoware/blob/main/docker/README.md\r\n> * [docs: add tutorials\xa0autoware-documentation#28](https://github.com/autowarefoundation/autoware-documentation/pull/28)\r\n> \r\n> Or you can guide a new how-to guide page like this.\r\n> \r\n> * [docs: add advanced usage of colcon\xa0autoware-documentation#27](https://github.com/autowarefoundation/autoware-documentation/pull/27)\r\n\r\nThanks! I'll add it to the readme.""}, {'user_id': 'angry-crab', 'created_at': '2022-03-30T06:36:09Z', 'comment_text': 'Close since it it no longer needed.'}]"
[Ansible] duplicated entries are written to nvidia-docker.list,kenji-miyake,2022-02-21T01:14:30Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-02-21T01:22:10Z', 'comment_text': 'Probably this? https://github.com/ansible/ansible/issues/25286\r\nWill try replacing `lineinfile` with `blockinfile` or `template`.\r\n\r\nhttps://docs.ansible.com/ansible/latest/collections/ansible/builtin/lineinfile_module.html#ansible-collections-ansible-builtin-lineinfile-module\r\nhttps://docs.ansible.com/ansible/latest/collections/ansible/builtin/blockinfile_module.html#ansible-collections-ansible-builtin-blockinfile-module\r\nhttps://docs.ansible.com/ansible/latest/collections/ansible/builtin/template_module.html\r\n'}]"
enable open cda workflow,xczhanjun,2022-01-31T09:41:27Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-01-31T09:43:06Z', 'comment_text': ""@xczhanjun What's `open cda`?\r\nCould you write a bit more description so that everyone can understand?""}]"
Consider how we should write copyright notices,kenji-miyake,2022-01-25T03:43:53Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-01-25T04:26:18Z', 'comment_text': ""I think we can refer to the `iceoryx`'s way as well. It looks nice.\r\nhttps://github.com/eclipse-iceoryx/iceoryx/blob/master/NOTICE.md\r\nhttps://github.com/eclipse-iceoryx/iceoryx/blob/master/CONTRIBUTING.md#header\r\n\r\nAlso, OpenSSL looks good.\r\nhttps://github.com/openssl/openssl/blob/master/CONTRIBUTING.md""}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-25T06:11:27Z', 'comment_text': ""My proposal:\r\n\r\n### For new files\r\n\r\nRule:\r\n\r\n- Prepare `NOTICE` and use `Copyright yyyy The Autoware Contributors`.\r\n\r\nRationale:\r\n\r\n- As LF says, We don't want to pay a lot of maintenance costs for updating copyright notations.\r\n\r\n### For existing files\r\n\r\nRule:\r\n\r\n- Accept the as-is style.\r\n- We can change the copyright notation to `Copyright yyyy The Autoware Contributors`. if we can agree with the original authors to do so.\r\n\r\nRationale:\r\n\r\n- Since we'll clean up the architecture for Autoware Core, we don't have to care about the existing Universe code so much.\r\n- (I guess) We can't change the copyright notations without some agreements with the original authors.\r\n\r\n### For all files\r\n\r\nRule:\r\n\r\n- Add `SPDX-License-Identifier`.\r\n- Will accept any other proposals in the future.\r\n\r\nRationale:\r\n\r\n- SPDX is useful for automatically analyzing licenses.\r\n- Since we are not legal professionals, there are a lot of things we don't know.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-25T06:16:32Z', 'comment_text': '@xmfcx @kmiya What do think about this?'}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-25T08:03:31Z', 'comment_text': '> (I guess) We can\'t change the copyright notations without some agreements with the original authors.\r\n\r\nFor this, I think it\'s a good idea to agree with people who want to write their names to `NOTICE`, that ""if you want to write your name here, you have to remove your name from each Copyright notation or agree that the maintainers will remove them."", how about this?\r\n\r\n(Seeing [here](https://github.com/llvm/llvm-project/blob/184591aeeb5a531f2315c3d7cddcd199c87ecb2c/libcxx/CREDITS.TXT), `CREDITS.TXT` might be the correct place to write contributors? :thinking: -> [This](https://infra.apache.org/licensing-howto.html#mod-notice) says `Copyright notifications which have been relocated, rather than removed, from source files must be preserved in NOTICE.` )\r\n'}, {'user_id': 'ghost', 'created_at': '2022-01-26T12:57:54Z', 'comment_text': 'From looking at the Apache examples given, they all say ""Copyright yyyy The Apache Foundation"" rather than ""The Apache Contributors"".\r\n\r\nIs there some reason why we cannot say `Copyright yyyy The Autoware Foundation` ?\r\n'}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-26T13:06:10Z', 'comment_text': '@LalithVipulananthan (Although I\'m not sure I\'m right...)\r\n\r\n> From looking at the Apache examples given, they all say ""Copyright yyyy The Apache Foundation"" rather than ""The Apache Contributors"".\r\n\r\nThe ASF uses `Licensed to the Apache Software Foundation (ASF) under one\r\nor more contributor license agreements.`.\r\nhttps://www.apache.org/legal/src-headers.html\r\n\r\nI guess why they do so is because they sign a CLA. (But I\'m not sure.)\r\n\r\n> Is there some reason why we cannot say Copyright yyyy The Autoware Foundation ?\r\n\r\nI feel if we use `The Autoware Foundation` then it seems the AWF has the copyright.\r\nBut actually, since we don\'t use CLA and only use DCO instead, I think the copyright will remain with the original author, so `The Autoware Foundation` isn\'t correct.'}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-27T05:12:10Z', 'comment_text': 'TSC members will talk about this issue.\r\nhttps://gitlab.com/autowarefoundation/autoware-foundation/-/issues/204'}, {'user_id': 'mitsudome-r', 'created_at': '2022-02-16T16:35:07Z', 'comment_text': 'We have discussed in the TSC call.\r\n@filiperinaldi will provide comments regarding the copyright notice. '}, {'user_id': 'filiperinaldi', 'created_at': '2022-03-10T16:15:22Z', 'comment_text': 'I spoke to one of our open source specialist and it seems what many projects do to be able to use the ""<Projects> and Contributors"" is to use a CONTRIBUTORS.md document where we simply add people\'s names as it goes.'}, {'user_id': 'kenji-miyake', 'created_at': '2022-03-11T01:33:53Z', 'comment_text': '@filiperinaldi Thank you for your information.\r\nDid you recommend replacing the `NOTICE` file with `CONTRIBUTORS.md`? Just showing another way?'}, {'user_id': 'kenji-miyake', 'created_at': '2022-03-11T15:27:30Z', 'comment_text': 'The PR has moved from autowarefoundation/autoware#29 to https://github.com/autowarefoundation/autoware-documentation/pull/44.'}, {'user_id': 'kenji-miyake', 'created_at': '2022-03-12T20:17:58Z', 'comment_text': ""As https://github.com/autowarefoundation/autoware-documentation/pull/44 is merged, I'll close this issue.\r\n\r\nHowever, everyone can reopen this and propose a change if necessary.""}]"
Set up scenario testing CI,kenji-miyake,2022-01-21T01:06:36Z,"[{'user_id': 'xczhanjun', 'created_at': '2022-02-03T14:56:39Z', 'comment_text': 'this is a great feature.'}, {'user_id': 'stale[bot]', 'created_at': '2022-04-04T15:15:50Z', 'comment_text': 'This pull request has been automatically marked as stale because it has not had recent activity.\n'}, {'user_id': 'stale[bot]', 'created_at': '2022-06-18T16:05:09Z', 'comment_text': 'This pull request has been automatically marked as stale because it has not had recent activity.\n'}, {'user_id': 'kenji-miyake', 'created_at': '2022-06-19T01:20:30Z', 'comment_text': 'Closed by autowarefoundation/autoware#397.'}]"
[Documentation] Commit message guidelines for cleaner commit history,IshitaTakeshi,2022-01-19T05:33:18Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-01-19T05:36:41Z', 'comment_text': '- When do you confirm the commit history?\r\n- What command do you?\r\n\r\nPlease give me a bit more concrete examples. :pray: '}, {'user_id': 'IshitaTakeshi', 'created_at': '2022-01-19T06:28:29Z', 'comment_text': ""When exploring in which commit the changes have been made to interested parts, if the commit message has many lines it makes us harder to find what we are looking for. \r\nLet's say someone made changes to the localization module, modified the NDT's optimization function, and I want to improve the functionality. \r\nIf commit message was like\r\n\r\n```\r\nImprove NDT\r\n* tmp \r\n* update\r\n* remove a for loop\r\n* ...\r\n```\r\n\r\nI can not obtain any information from there.\r\nIf every commit message was like this I cannot even find in which commit the changes I want to refer to have been made. \r\n""}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-19T06:52:12Z', 'comment_text': '@IshitaTakeshi Again, what command do you use? And please paste it with the output like this.\r\nAlso, why do you not use `--oneline`?\r\n\r\n```sh\r\n❯ git log --oneline\r\n920b874 (HEAD -> tier4/main, origin/tier4/proposal, origin/tier4/main, origin/HEAD, tier4/proposal) fix(dummy_perception): fix ns and topic (#242)\r\n6f111e0 fix(behavior_path_planner): fix/frenet coordinate 3d (#230)\r\n699b60e feat: use point cloud wraper in ring outlier filter (#780) (#241)\r\n5f09a5d feat(simple_planning_simulator): add delay model of velocity and steering (#235)\r\nf4993f3 fix(behavior_velocity_planner): fix before/after line of virtual_traffic_light (#228)\r\nb0e4852 fix: interpolation (#791) (#218)\r\naa75dac fix: library path (#225)\r\nb4eba36 fix: set control_mode false before autoware engage (#232)\r\n784f10d fix: remove warning for compile error (#198)\r\n52dc0f2 ci: update .yamllint.yaml (#229)\r\ned3253c chore: remove unnecessary depends (#227)\r\n1657681 fix: order to create callback (#220)\r\n```'}, {'user_id': 'IshitaTakeshi', 'created_at': '2022-01-19T07:08:55Z', 'comment_text': ""I used the ordinary `git log`. So then I'm going to use `git log --oneline`""}, {'user_id': 'IshitaTakeshi', 'created_at': '2022-01-19T07:10:21Z', 'comment_text': ""This is the output. Too long to paste the whole though\r\n\r\n```\r\ntier4/proposal $git log \r\ncommit 4cec60485bb376f9cc7d85448be782c2852f445a (HEAD -> tier4/proposal, origin/tier4/proposal, origin/HEAD)\r\nAuthor: Kenji Miyake <31987104+kenji-miyake@users.noreply.github.com>\r\nDate:   Tue Jan 18 16:17:52 2022 +0900\r\n\r\n    feat: add ansible setup scripts (#8)\r\n    \r\n    * ci: add build CI\r\n    \r\n    Signed-off-by: Kenji Miyake <kenji.miyake@tier4.jp>\r\n    \r\n    * feat: add files for Ansible Galaxy\r\n    \r\n    Signed-off-by: Kenji Miyake <kenji.miyake@tier4.jp>\r\n    \r\n    * feat: copy ansible files from tier4's proposal\r\n    \r\n    Remove cache_valid_time\r\n    \r\n    Signed-off-by: Kenji Miyake <kenji.miyake@tier4.jp>\r\n    \r\n    v0.4.0\r\n    \r\n    Signed-off-by: mitsudome-r <ryohsuke.mitsudome@tier4.jp>\r\n    \r\n    copy setup\r\n    \r\n    Signed-off-by: Takamasa Horibe <horibe.takamasa@gmail.com>\r\n    \r\n    add ros2 ansible roles\r\n    \r\n    Signed-off-by: Takamasa Horibe <horibe.takamasa@gmail.com>\r\n    \r\n    ansible add ubuntu20 setup\r\n    \r\n    Signed-off-by: Takamasa Horibe <horibe.takamasa@gmail.com>\r\n    \r\n    ansible fix pacmod\r\n    \r\n    Signed-off-by: Takamasa Horibe <horibe.takamasa@gmail.com>\r\n    \r\n    temp disable cuda & tensorrt\r\n    \r\n    Signed-off-by: Takamasa Horibe <horibe.takamasa@gmail.com>\r\n    \r\n    ansible fix kvaser library repo\r\n    \r\n    Signed-off-by: Takamasa Horibe <horibe.takamasa@gmail.com>\r\n    \r\n    temporally comment out for unused modules\r\n    \r\n    Signed-off-by: Takamasa Horibe <horibe.takamasa@gmail.com>\r\n    \r\n    remove unused codes\r\n    \r\n    Signed-off-by: Takamasa Horibe <horibe.takamasa@gmail.com>\r\n    \r\n    Install osqp only once (#95)\r\n    \r\n    * update readme and fix osqp_vendor tag\r\n    \r\n    * Remove ansible osqp role\r\n    \r\n    fix: ansbile role\r\n    \r\n    Closes #140\r\n    \r\n    add ansible for cuda 11.1 & tensorrt 7.2.1 & cudnn 8.0.5\r\n    \r\n    Signed-off-by: Takamasa Horibe <horibe.takamasa@gmail.com>\r\n    \r\n    add script for install livox sdk\r\n    \r\n    Signed-off-by: kosuke murakami <kosuke.murakami@tier4.jp>\r\n    \r\n```""}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-19T07:50:47Z', 'comment_text': '@IshitaTakeshi I see, thank you!\r\n\r\nThen, how about using these useful tools? It helps you to explore the commit history.\r\n- https://marketplace.visualstudio.com/items?itemName=eamodio.gitlens\r\n- https://marketplace.visualstudio.com/items?itemName=mhutchie.git-graph\r\n\r\nAlthough these are for VSCode, there might be tools for your IDE.'}, {'user_id': 'IshitaTakeshi', 'created_at': '2022-01-19T09:43:11Z', 'comment_text': ""Yeah but... It's like messing a library by ourselves and exploring a book from there. If the library is clean from the beginning we don't need to do so. And it can be realized by writing just two or three phrases when making a commit \r\nWhy making unnecessary jobs by messing our rooms by ourselves... ""}, {'user_id': 'kenji-miyake', 'created_at': '2022-02-02T13:45:04Z', 'comment_text': '@IshitaTakeshi Could you write clear acceptance criteria for this issue, please?'}, {'user_id': 'kenji-miyake', 'created_at': '2022-02-26T19:57:23Z', 'comment_text': ""I'll close this because there is no response and I think it's a problem of tool usage.\r\n\r\nWe use https://www.conventionalcommits.org/en/v1.0.0/ and `Squash merge` now. I'll write guideline documents about that and it's tracked in https://github.com/autowarefoundation/autoware-documentation/issues/6.""}]"
[Docker] Autoware.universe requires kvaser-interface,IshitaTakeshi,2022-01-18T09:37:51Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-01-18T09:54:29Z', 'comment_text': '@IshitaTakeshi Please describe for what reasons you need `kvaser-interface`.\r\nAlso, is it impossible to replace it with https://github.com/autowarefoundation/ros2_socketcan?\r\n\r\nIt seems Kvaser devices supports SocketCAN.\r\nhttps://www.kvaser.com/socketcan-support-for-kvaser-devices-updated/'}, {'user_id': 'wep21', 'created_at': '2022-01-18T10:10:40Z', 'comment_text': 'We have never used `ros2_socketcan` on autonomostuff vehicle, so we have to test it on the real vehicle before migrating to `ros2_socketcan`. '}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-18T10:20:16Z', 'comment_text': ""Okay, then I think we should test it. If it won't work we'll import the role from here.\r\nhttps://github.com/tier4/AutowareArchitectureProposal.proj/blob/474da436880f93bd59d87107bd9d83254b0cd9b3/ansible/roles/pacmod/tasks/kvaser_library.yml""}, {'user_id': 'wep21', 'created_at': '2022-01-18T10:41:46Z', 'comment_text': 'Also, we have to do a trick to use kvaser usb as socketcan interface.\r\n```\r\nsudo modprobe kvaser_usb\r\n<- unplug and plug kvaser usb here\r\nsudo ip link set can0 up type can bitrate 50000\r\n```'}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-18T10:46:29Z', 'comment_text': 'Thank you. I think it can be supported by some setup scripts for real vehicles.'}, {'user_id': 'IshitaTakeshi', 'created_at': '2022-01-19T00:26:37Z', 'comment_text': 'This is the reason to add kvaser-interface to the requirements. When launching the logging simulator it says that kvaser_interface cannot be found.\r\n\r\n```\r\nroot@87a3663a4a81:/autoware# source install/setup.bash \r\nroot@87a3663a4a81:/autoware# ros2 launch tier4_autoware_launch logging_simulator.launch.xml sensor_model:=aip_xx1 map_path:=/dataset/kashiwanoha/ vehicle_model:=lexus\r\n[INFO] [launch]: All log files can be found below /root/.ros/log/2022-01-19-09-21-13-992999-87a3663a4a81-60\r\n[INFO] [launch]: Default logging verbosity is set to INFO\r\nTask exception was never retrieved\r\nfuture: <Task finished name=\'Task-2\' coro=<LaunchService._process_one_event() done, defined at /opt/ros/galactic/lib/python3.8/site-packages/launch/launch_service.py:226> exception=PackageNotFoundError(""package \'kvaser_interface\' not found,\r\n```'}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-19T01:24:10Z', 'comment_text': 'Why do you need `kvaser-interface` for the launch file?\r\nDo you use a physical CAN in the simulation?'}, {'user_id': 'IshitaTakeshi', 'created_at': '2022-01-19T03:54:21Z', 'comment_text': ""Not sure so I grep-ed in the workspace directory and got the following\r\n\r\n```\r\n# find . -type f | xargs grep kvaser_interface\r\n./src/vehicle/lexus_launch/launch/pacmod3.launch.py:            package='kvaser_interface',\r\n./install/lexus_description/share/lexus_description/launch/pacmod3.launch.py:            package='kvaser_interface',\r\n```\r\n\r\nApparently pacmod3 requires it. ""}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-19T05:27:19Z', 'comment_text': 'I know it has the dependency, but my question is, why do you have to launch the node in the simulation?'}, {'user_id': 'IshitaTakeshi', 'created_at': '2022-01-19T06:06:46Z', 'comment_text': ""What node do you refer to?\r\n\r\nMy current task is to improve the localization accuracy and availability so basically I don't need to launch all the nodes under the logging simulator, but for me, who doesn't know that much about the Autoware architecture, it is easier to launch the logging simulator than disabling unnecessary nodes. \r\n\r\n""}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-19T06:22:28Z', 'comment_text': ""> What node do you refer to?\r\n\r\nProbably this?\r\nhttps://github.com/tier4/lexus_description.iv/blob/4a3a06e297f85a737d2b5879b508843b2998038a/launch/pacmod3_with_kvaser-node-launch.py\r\n\r\n> but for me, who doesn't know that much about the Autoware architecture,\r\n\r\nI believe it's better that you'll get familiar with Autoware and do appropriate handling!\r\nI guess, for example, we need to add an option of whether to launch `kvaser-interface`, to [this file](https://github.com/tier4/lexus_description.iv/blob/4a3a06e297f85a737d2b5879b508843b2998038a/launch/vehicle_interface.launch.xml).""}, {'user_id': 'IshitaTakeshi', 'created_at': '2022-01-19T06:42:16Z', 'comment_text': 'Okay, but at least as an OSS it should be much better the logging simulator always works fine so when merging the Dockerfile to the default branch we should disable the node depending on `kvaser-interface` (or install `kvaser-interface`), otherwise users will regard autoware as just useless. '}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-19T06:55:57Z', 'comment_text': ""@IshitaTakeshi Regarding that, I believe we should consider replacing `kvaser-interface` by `ros2_socketcan`.\r\nhttps://github.com/autowarefoundation/autoware.ai/issues/2417\r\n\r\nPlease understand that adding everything isn't always correct.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-02-02T13:48:58Z', 'comment_text': 'Acceptance Criteria:\r\n\r\n- [ ] Consider replacing `kvaser-interface` by `ros2_socketcan`.\r\nWe need to evaluate `ros2_socketcan` with Kvaser devices to do that.\r\n\r\nOr,\r\n- [ ] Consider removing `kvaser-interface` from `logging_simulator.launch.xml`.\r\nEssentially, no hardware is required for the simulation.'}, {'user_id': 'xczhanjun', 'created_at': '2022-02-03T01:55:39Z', 'comment_text': '> Acceptance Criteria:\r\n> \r\n> * [ ]  Consider replacing `kvaser-interface` by `ros2_socketcan`.\r\n>   We need to evaluate `ros2_socketcan` with Kvaser devices to do that.\r\n> \r\n> Or,\r\n> \r\n> * [ ]  Consider removing `kvaser-interface` from `logging_simulator.launch.xml`.\r\n>   Essentially, no hardware is required for the simulation.\r\nMaybe we should remove `kvaser-interface` from `logging_simulator.launch.xml` and using ros2_socketcan. We can setup a fake socket can interface when doing simulation.'}, {'user_id': 'kenji-miyake', 'created_at': '2022-02-26T19:54:04Z', 'comment_text': ""Since I've created https://github.com/autowarefoundation/sample_vehicle_launch that doesn't depend on `kvaser` or `pacmod`, I'll close this.""}]"
[Docker] lidar_centerpoint executable could not be built without LibTorch,IshitaTakeshi,2022-01-18T09:03:03Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-01-18T09:12:06Z', 'comment_text': ""It's intended. Since the `libtorch` role only supports `x86` and uses TIER IV's Google Drive, I decided not to include it in this repository.\r\nhttps://github.com/tier4/AutowareArchitectureProposal.proj/blob/474da436880f93bd59d87107bd9d83254b0cd9b3/ansible/roles/libtorch/tasks/main.yml#L5\r\n\r\nPlease install it from [TIER IV's proposal repository](https://github.com/tier4/AutowareArchitectureProposal.proj).\r\n\r\nRegarding the future plan, TIER IV will try to use `TensorRT` and remove `libtorch` dependency from `lidar_centerpoint`.""}]"
[Docker] Edit files on host and execute on a container ,IshitaTakeshi,2022-01-18T08:30:02Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-01-18T09:14:34Z', 'comment_text': '@IshitaTakeshi We prepare two images `devel` and `prebuilt`. I think using `devel` image can solve your problem. Is it okay for you?\r\n\r\nhttps://github.com/autowarefoundation/autoware/tree/add-docker/docker#development-image'}, {'user_id': 'IshitaTakeshi', 'created_at': '2022-01-18T09:39:50Z', 'comment_text': 'For the development I think that the mount procedure should be written in README or we should add a script to realize it.'}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-18T09:52:22Z', 'comment_text': ""Yes, I'll write it later. Please note that this repository is still under construction.\r\nOr it's great if you will send a PR to update README.""}, {'user_id': 'IshitaTakeshi', 'created_at': '2022-01-19T04:40:11Z', 'comment_text': 'Still there are other updates to the docker environment and I have my personal tasks so let me show my launch command this time. \r\n\r\n```\r\nrocker \\\r\n    --nvidia \\\r\n    --x11 \\\r\n    --volume $(pwd)/dataset:/dataset \\\r\n    --volume $(realpath src):/autoware \\\r\n    -- ghcr.io/autowarefoundation/autoware-universe:latest-prebuilt\r\n```'}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-21T06:03:54Z', 'comment_text': '@IshitaTakeshi I updated the document, could you review it?\r\nhttps://github.com/autowarefoundation/autoware/pull/14\r\nhttps://github.com/autowarefoundation/autoware/pull/14/commits/6958e38ff15a2cea20f205d384a47c3574f75052'}, {'user_id': 'IshitaTakeshi', 'created_at': '2022-01-21T06:17:08Z', 'comment_text': 'Commands look good. Can I overwrite the English text part?'}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-21T06:38:56Z', 'comment_text': '@IshitaTakeshi Actually please refrain from that, please propose changes instead. :pray: \r\nhttps://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/reviewing-proposed-changes-in-a-pull-request'}, {'user_id': 'kenji-miyake', 'created_at': '2022-02-02T13:45:39Z', 'comment_text': '@IshitaTakeshi Is it okay for you to close this issue?'}, {'user_id': 'IshitaTakeshi', 'created_at': '2022-02-03T03:27:42Z', 'comment_text': 'Yes. Thank you for commiting '}]"
Fix ARM build of scenario_simulator,kenji-miyake,2022-01-17T10:10:00Z,"[{'user_id': 'stale[bot]', 'created_at': '2022-04-14T11:51:00Z', 'comment_text': 'This pull request has been automatically marked as stale because it has not had recent activity.\n'}, {'user_id': 'esteve', 'created_at': '2022-05-26T09:46:22Z', 'comment_text': ""@kenji-miyake what do you think of having an `embree_vendor` package and have `scenario_simulator` depend on it? If `libembree-dev` is installed on the system, that'll be used, and if not, build it.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-05-26T12:05:59Z', 'comment_text': ""@esteve I think it's great! @hakuturu583 What do you think?""}, {'user_id': 'hakuturu583', 'created_at': '2022-05-26T15:26:34Z', 'comment_text': 'I arleady developed embree_vendor package, but it takes a lot of time.\n\nhttps://github.com/OUXT-Polaris/embree_vendor'}, {'user_id': 'hakuturu583', 'created_at': '2022-05-26T15:27:31Z', 'comment_text': 'And also, I have not tested this vendor package on arm CPU.'}, {'user_id': 'oguzkaganozt', 'created_at': '2023-09-27T10:16:52Z', 'comment_text': 'Hi, any updates on this issue ?\r\n\r\n@hakuturu583 Can we use `embree_vendor` package on arm CPU ?'}, {'user_id': 'hakuturu583', 'created_at': '2023-10-02T06:41:00Z', 'comment_text': '> @hakuturu583 Can we use embree_vendor package on arm CPU ?\r\n\r\nYes, I tested on qemu and it works.'}, {'user_id': 'oguzkaganozt', 'created_at': '2023-10-04T16:21:52Z', 'comment_text': ""Hi @hakuturu583,\r\n I've tried with Scenario Simulator **master** branch and [embree_vendor](https://github.com/OUXT-Polaris/embree_vendor). It uses embree version 4.2.0 and when I try to do:\r\n `colcon build --cmake-args -DCMAKE_BUILD_TYPE=Release --packages-up-to simple_sensor_simulator`\r\n \r\nI got following error on compilation:\r\n`error: ‘RTCIntersectContext’ has not been declared`\r\n\r\nI also checked with the original Embree version 4.0 changelog and it says:\r\n`RTCIntersectContext is renamed to RTCRayQuery context and most members moved to\r\n    new RTCIntersectArguments and RTCOccludedArguments structures.`\r\n   \r\nSo it appears that embree version 4.x is not fit for Scenario simulator. How should I proceed do you have any suggestions ? \r\n\r\nThanks in advance.""}, {'user_id': 'mitsudome-r', 'created_at': '2023-10-05T13:51:42Z', 'comment_text': 'I just checked installed embree apt package in my amd64 platform. It looks like I have version 3.12.2 installed.\r\nMay be you could try changing [this line](https://github.com/OUXT-Polaris/embree_vendor/blob/7cd96dd0a938e93a4bdc4f09089ef070f0a407ad/CMakeLists.txt#L32C13-L32C19) to `v3.12.2`.'}, {'user_id': 'oguzkaganozt', 'created_at': '2023-10-05T14:54:07Z', 'comment_text': 'I tried building with `v3.12.2` and it requires libTBB version `2021.1.1` and is incompatible with `2021.5.0` that we have on Ubuntu22/arm64. Also tried version `v3.13.5` and it failed with ` error: unrecognized command-line option ‘-msse2’` seems like the flag incompatibility with arm64.'}]"
Storage space of ARM self-hosted runner is probably small,kenji-miyake,2022-01-08T19:03:12Z,"[{'user_id': 'kenji-miyake', 'created_at': '2022-01-14T13:32:47Z', 'comment_text': ""@xmfcx Have you said that you'll change the AWS machine settings in the last meeting? I don't remember well.""}, {'user_id': 'xmfcx', 'created_at': '2022-01-14T13:40:52Z', 'comment_text': ""> @xmfcx Have you said that you'll change the AWS machine settings in the last meeting? I don't remember well.\r\n\r\nYes, I'll look into it right away!""}, {'user_id': 'xmfcx', 'created_at': '2022-01-14T18:06:28Z', 'comment_text': ""@kenji-miyake \r\nHere is the report:\r\n\r\n[autowarefoundation](https://github.com/autowarefoundation) organization has a [GitHub Actions Runner](https://docs.github.com/en/actions/hosting-your-own-runners/about-self-hosted-runners) registered with a name `AutowareFoundationGithubActionsRunner`.\r\n\r\nThis runner runs on an AWS `t4g.xlarge` instance. [Amazon EC2 T4g instances are powered by Arm-based AWS Graviton2 processors.](https://aws.amazon.com/ec2/instance-types/t4/)\r\n\r\nIt has 4 vCPUs and 16GiB RAM.\r\n\r\nThis binary was installed on it: https://github.com/actions/runner/releases/download/v2.276.1/actions-runner-linux-arm64-2.276.1.tar.gz\r\n\r\n```bash\r\nubuntu@ip-192-168-22-5:~$ df -h /\r\nFilesystem      Size  Used Avail Use% Mounted on\r\n/dev/root        29G   25G  4.4G  85% /\r\n```\r\n\r\n<details>\r\n  <summary>Having fun with ncdu inside the runner</summary>\r\n  \r\n```\r\nncdu 1.14.1 ~ Use the arrow keys to navigate, press ? for help\r\n--- / -------------------------------------------------------------------------------------------------------------------\r\n   17.4 GiB [##########] /var\r\n    4.5 GiB [##        ] /usr\r\n    2.0 GiB [#         ] /snap\r\n    1.9 GiB [#         ] /home\r\n  273.0 MiB [          ] /opt\r\n  191.8 MiB [          ] /boot\r\n   69.0 MiB [          ] /root\r\n    5.9 MiB [          ] /etc\r\n    1.0 MiB [          ] /run\r\n  600.0 KiB [          ] /tmp\r\n...\r\n```\r\n\r\n```\r\n--- /var ----------------------------------------------------------------------------------------------------------------\r\n                         /..\r\n   16.5 GiB [##########] /lib\r\n  838.5 MiB [          ] /log\r\n   91.6 MiB [          ] /cache\r\n    3.8 MiB [          ] /backups\r\n   92.0 KiB [          ] /snap\r\n   32.0 KiB [          ] /tmp\r\n   28.0 KiB [          ] /spool\r\ne   4.0 KiB [          ] /opt\r\n...\r\n```\r\n\r\n```\r\n--- /var/lib ------------------------------------------------------------------------------------------------------------\r\n                         /..\r\n   15.4 GiB [##########] /docker\r\n  929.7 MiB [          ] /snapd\r\n  122.9 MiB [          ] /apt\r\n   71.5 MiB [          ] /dpkg\r\n    2.8 MiB [          ] /command-not-found\r\n  872.0 KiB [          ] /fwupd\r\n  608.0 KiB [          ] /usbutils\r\n  532.0 KiB [          ] /systemd\r\n...\r\n```\r\n\r\n```\r\n--- /var/lib/docker/overlay2 --------------------------------------------------------------------------------------------\r\n                         /..\r\n    2.0 GiB [##########] /3f789e1ccb84eced273bbd5ec673d26bf2ba73badea2366fb5ce7c1e455deb3c\r\n    1.7 GiB [########  ] /860d068134bb56e762666ace5f4f4e8776a54d2a4bd4dadaa213903dd36e1e8a\r\n    1.6 GiB [#######   ] /961ad94a1a2d8bde97c3e7a4fd920b32dea466dee7a2e798cbd0cd9de3b9579c\r\n    1.2 GiB [######    ] /oz9h7z6ksun9pzg6s52do34bs\r\n    1.2 GiB [######    ] /igc3ivk7fko8yv0dy5f3ix6es\r\n    1.1 GiB [#####     ] /acf011033a08512ba500bb9cb491c8fe2b85800fd51f5940688dacaae258b347\r\n    1.0 GiB [####      ] /k39z3vtovy72t3rd9kul7ylts\r\n    1.0 GiB [####      ] /ocnfwy30dy9qn4iv197j3wx32\r\n  971.0 MiB [####      ] /ozlaq5qbqyl4vrp20vymjja8v\r\n  764.8 MiB [###       ] /mk3870wqhylwvxem7ortmtvfm\r\n  555.1 MiB [##        ] /75e02708a769eec5b19605086f65f8db2bad1cd2cc855134b7d7a5228e33f8ab\r\n  379.1 MiB [#         ] /b466a752974568564c50ef30c00e5aa5c481241400098aec28cb965b4367d66e\r\n  360.7 MiB [#         ] /7df0aabea828669c65dfc3d6c5fa1b2512eeb4beb2d7b985043a7fca7c5a90f9\r\n  360.6 MiB [#         ] /19f37636febdd3ad4e677c761f54a18bcc406ef569a56c915a462b492a5b00d9\r\n  170.9 MiB [          ] /8bfa3d5126374b0ff2bf1b5dbbd2b9b2c7250c85f8b0110c4e2cab8c3aee7acc\r\n  170.9 MiB [          ] /c3ca31b9a7ce3931b2f9887e59374a97f5261c794a8f3c2c5eb0d091f30ed8e3\r\n  121.5 MiB [          ] /28e5f0a7ef59844e7d1303e8207c0fe4f1d6b999e25ef0457e63d5634c2ee0d2\r\n  108.3 MiB [          ] /b3e692e697ed02bc6c1f220ef9f222e6fd31f3b703f33787ea236671249ebdbe\r\n  103.1 MiB [          ] /669a56810f2f0b641ee12f378861f98bb2e95a3feddeed03fff75a219e234ef8\r\n   71.1 MiB [          ] /2698239224b14e3b7c4b8ae829c555b9baa308379f372d0834fe61b0b723d3f6\r\n   71.1 MiB [          ] /98f54927abe28c6547dc7d3dc0796adfb3f2a8605b3c95fb9dbcf552f32cb071\r\n   71.1 MiB [          ] /df580563836e90306194f98a714a4a3fa843731b35da05fe125d55e6ea714c4e\r\n   71.1 MiB [          ] /03e58f58a62ce5c1b373555c209ad5484763751c6acad9363c85762e12d9116f\r\n   67.2 MiB [          ] /d16b246099269bcd9dc49a24bd702f8a390070c47ddf063dd0a6b722e94f62cb\r\n...\r\n```\r\n</details>\r\n\r\nThen I ran:\r\n```\r\n\r\nubuntu@ip-192-168-22-5:~$ docker images\r\nREPOSITORY                   TAG                       IMAGE ID       CREATED        SIZE\r\nros                          galactic                  775c4b4329a0   7 days ago     625MB\r\nubuntu                       20.04                     9f4877540c73   7 days ago     65.6MB\r\nautoware/model-zoo-tvm-cli   bleedingedge              2c1d92d7cf06   6 weeks ago    3.32GB\r\nautoware/model-zoo-tvm-cli   bleedingedge-arm64        2c1d92d7cf06   6 weeks ago    3.32GB\r\nautoware/model-zoo-tvm-cli   bleedingedge-cuda         051076320a77   6 weeks ago    7.1GB\r\nautoware/model-zoo-tvm-cli   bleedingedge-cuda-arm64   051076320a77   6 weeks ago    7.1GB\r\nmoby/buildkit                buildx-stable-1           cb9b18fdb708   8 weeks ago    134MB\r\nros                          <none>                    d1dc7d553def   3 months ago   624MB\r\nautoware/model-zoo-tvm-cli   <none>                    23e209b2f626   3 months ago   4GB\r\n\r\n```\r\n\r\nThese docker images are occupying a lot of space.\r\n\r\nThey are generated by the runner probably, there are nothing related to them in the .bash_history file.\r\n\r\nThen I've proceed to clean them a bit.\r\n\r\n<details>\r\n  <summary>Cleaning logs</summary>\r\n\r\n```bash\r\nubuntu@ip-192-168-22-5:~$ docker image prune\r\nWARNING! This will remove all dangling images.\r\nAre you sure you want to continue? [y/N] y\r\nDeleted Images:\r\nuntagged: autoware/model-zoo-tvm-cli@sha256:a7831a40332f75ae98fb62a04f75ad2db6a6fbf8fafc409d0f69e95abc41dcb9\r\ndeleted: sha256:23e209b2f626500be6d8854fd1010229fca6f51876db4c63d3fd4851a536b7c0\r\ndeleted: sha256:dbafe75a3ee1ece980197b9886402ce3e1524b29bfbc1963690305488f81a0d7\r\ndeleted: sha256:7619c374c847a8893d3c85d6dca6202a90beb171237b3451ee0b5181c5a59b75\r\ndeleted: sha256:77ff28323bd0da84f6229138b3307e1ecfde62ebde42918feb7a8b52b95d5122\r\ndeleted: sha256:77fee4372c0621a932345c0288736a71ea21caf9a383c29aa017d137e2e07bc5\r\ndeleted: sha256:08e85464003280159ce7fd6cf708da6b67223505ff318307928375684e4dee3c\r\ndeleted: sha256:df4dcf3f56b841655e03092b79a66b996bbb9335b4151f55e9a1a73c10f18d71\r\ndeleted: sha256:1f4e146407f3bb98c8b661348e00af043449d5ad10242ccedde70d711badabbb\r\ndeleted: sha256:35acadea3b5a2a96f4b2f4c74ed894b3ba914a3f4d5d3c7a229791494e49bedc\r\ndeleted: sha256:7b8728eb6a07380fce7ee9581ed43d58d7f0f3250c50a44c38c7982536236e28\r\ndeleted: sha256:c9115e738038f017bc9cbaea0a25b42921263d79199b1133b964633162b0d843\r\ndeleted: sha256:1093f8b99677a049c1627342e2632c7d060f4cd058fec56a22c52ac358887570\r\ndeleted: sha256:bed5eaa83dce8f654fd931ac6b1c4de67fef4482b3270a5d98ae901a4b48d35e\r\ndeleted: sha256:4378b6ba3aa966c9d3d45efb1c97a87a79e2ccae62acf898e20ab7712b254726\r\ndeleted: sha256:cf1297c9d105cb8049c0f02f12a3c5a1c7c679f30a1de64c5f97b4c006cdc564\r\ndeleted: sha256:7a0d5c3393a6fb45b7436dee209a214e1d7d3497b4ed11c963c0de19c2173b3d\r\ndeleted: sha256:68d7ba65f4836161cd7e568374ad6eb90a1fbdbd807691f47b55dfd85222910e\r\ndeleted: sha256:942b063c301eb3a3581299227847df70c896991a18216541c4bafb41a4263ffb\r\nuntagged: ros@sha256:65beaaee344167f62b4ff87373d84faa27e1ea73b5de15f1a59646bea87de4d2\r\ndeleted: sha256:d1dc7d553defc3476d6d036001a2ebef1c69198b71864342ba12919988328c4a\r\ndeleted: sha256:fcb03701ef491fd30f750ea7c0697219e7efb79499394da89af966fb7f973991\r\ndeleted: sha256:108a51d95fa73e3c488d196b6c0e05e502746f88fd19a9f01f417044673f5e89\r\ndeleted: sha256:30dfd34b65d0c2cdf59cce36ff380adf6e01d41441d39824cea4b1407e060169\r\ndeleted: sha256:c23e51d5095f6c9180648792b4036e4538b51eeee815628885a23ca76ed04195\r\ndeleted: sha256:77f7733c23042efa6d253941dc786e0fe7b641e7622d1ec9b215e9ef8abcd743\r\ndeleted: sha256:e52184f9949df47092392cb61725debef580d6d20cb86518da7a98b946967c8a\r\ndeleted: sha256:19553373bc3b429fbfedb19ee24f9335856b7f0ed8beea7baaed31767a784bb9\r\ndeleted: sha256:d4ebf66ca37317b8fcd9ca3450e2707674b947c5f1751f62894e6869c0120343\r\ndeleted: sha256:0d590595a73a77a32952a1ac40fc91c8a0c7b965059e22f89deaac010c951d4b\r\ndeleted: sha256:12ebadd02095a97092b2327a681c7beffc761f73c544e077967f88f8388807f4\r\n\r\nTotal reclaimed space: 4.557GB\r\n\r\nubuntu@ip-192-168-22-5:~$ docker images\r\nREPOSITORY                   TAG                       IMAGE ID       CREATED       SIZE\r\nros                          galactic                  775c4b4329a0   7 days ago    625MB\r\nubuntu                       20.04                     9f4877540c73   7 days ago    65.6MB\r\nautoware/model-zoo-tvm-cli   bleedingedge              2c1d92d7cf06   6 weeks ago   3.32GB\r\nautoware/model-zoo-tvm-cli   bleedingedge-arm64        2c1d92d7cf06   6 weeks ago   3.32GB\r\nautoware/model-zoo-tvm-cli   bleedingedge-cuda         051076320a77   6 weeks ago   7.1GB\r\nautoware/model-zoo-tvm-cli   bleedingedge-cuda-arm64   051076320a77   6 weeks ago   7.1GB\r\nmoby/buildkit                buildx-stable-1           cb9b18fdb708   8 weeks ago   134MB\r\n\r\nubuntu@ip-192-168-22-5:~$ df -h /\r\nFilesystem      Size  Used Avail Use% Mounted on\r\n/dev/root        29G   20G  9.0G  70% /\r\n\r\n```\r\n</details>\r\n\r\nNow we have 9.0G space left. I could remove these images too but they would get redownloaded anyway probably.\r\n\r\nWe should probably look into https://docs.github.com/en/actions/hosting-your-own-runners/autoscaling-with-self-hosted-runners for autoscaling since right now all arm jobs go into this specific runner.""}, {'user_id': 'xmfcx', 'created_at': '2022-01-14T18:15:10Z', 'comment_text': ""Also for x86_64 jobs we are using [GitHub-hosted runners](https://docs.github.com/en/actions/using-github-hosted-runners/about-github-hosted-runners):\r\n\r\n![chrome_2022-01-14_21-12-13](https://user-images.githubusercontent.com/10751153/149564595-be89d035-18b0-478c-ae7b-1ae14b96fe9a.png)\r\n\r\nHardware specification for Windows and Linux virtual machines:\r\n\r\n2-core CPU\r\n7 GB of RAM memory\r\n14 GB of SSD disk space\r\n \r\nAnd I think these machines probably won't be enough for building the Autoware and we will need to look into self-hosted ephemeral runners for these too.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-15T04:44:41Z', 'comment_text': ""@xmfcx Thank you for your detailed report!\r\n\r\n> Now we have 9.0G space left. I could remove these images too but they would get redownloaded anyway probably.\r\n\r\nHmm, it's too small... :cry: \r\nI want at least 30GB of free space, is it possible to extend the storage size of the VM?\r\n\r\n> Hardware specification for Windows and Linux virtual machines:\r\n\r\nRegarding GitHub-hosted runners, I guess it's minimum requirements.\r\nThe actual storage space can be seen [here](https://github.com/autowarefoundation/autoware/runs/4777125097?check_suite_focus=true#step:3:23).\r\n\r\n> And I think these machines probably won't be enough for building the Autoware and we will need to look into self-hosted ephemeral runners for these too.\r\n\r\nAnyway, if there's no problem with the cost, it's nice.""}, {'user_id': 'xmfcx', 'created_at': '2022-01-15T11:32:41Z', 'comment_text': ""> @xmfcx Thank you for your detailed report!\r\n> \r\n> > Now we have 9.0G space left. I could remove these images too but they would get redownloaded anyway probably.\r\n> \r\n> Hmm, it's too small... 😢 I want at least 30GB of free space, is it possible to extend the storage size of the VM?\r\n\r\n@kenji-miyake I've increased the storage by 30GB, now we have 39GB empty space.\r\n\r\n```bash\r\nubuntu@ip-192-168-22-5:~$ df -h\r\nFilesystem       Size  Used Avail Use% Mounted on\r\n/dev/root         58G   20G   39G  35% /\r\n```""}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-18T07:38:32Z', 'comment_text': 'I confirmed that the CI is fixed in https://github.com/autowarefoundation/autoware/pull/8#issuecomment-1015132292.\r\n\r\nThank you @xmfcx !'}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-18T17:55:27Z', 'comment_text': ""@xmfcx I'm sorry but it seems we need a bit more space. :cry: \r\nhttps://github.com/autowarefoundation/autoware/actions/runs/1712036308\r\n\r\n> You are running out of disk space. The runner will stop working when the machine runs out of disk space. Free space left: 60 MB\r\n\r\nSeeing this result, we need 55GB+ free space? :thinking: \r\nhttps://github.com/autowarefoundation/autoware/actions/runs/1683139813\r\nhttps://github.com/autowarefoundation/autoware/runs/4777125097?check_suite_focus=true#step:3:1110\r\n\r\n> docker-build-and-push-amd64\r\nYou are running out of disk space. The runner will stop working when the machine runs out of disk space. Free space left: 36 MB\r\n\r\n> Filesystem      Size  Used Avail Use% Mounted on\r\n/dev/root        84G   30G   55G  35% /\r\n\r\nI'll investigate more.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-19T02:18:33Z', 'comment_text': 'I measured the storage usage before/after building Autoware Docker images. It used `44GB` for `amd64`.\r\nhttps://github.com/autowarefoundation/autoware/runs/4857291024?check_suite_focus=true\r\n\r\n![image](https://user-images.githubusercontent.com/31987104/150050900-c916e293-9a2a-412b-9d3f-1841f86a6b53.png)\r\n'}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-19T02:24:45Z', 'comment_text': '@xmfcx Is it possible to add more 10~20GB space...?\r\nOr if we drop building `prebuilt` images, probably the current space is enough.'}, {'user_id': 'xmfcx', 'created_at': '2022-01-19T03:05:23Z', 'comment_text': ""> @xmfcx Is it possible to add more 10~20GB space...? Or if we drop building `prebuilt` images, probably the current space is enough.\r\n\r\nWe could add but I think we should first try to reduce the space we are using. This is ok for single runner but for parallel runners it'll cost too much, not scalable. In autoware.auto 30gb total space for entire machine was enough. ""}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-19T03:51:34Z', 'comment_text': '> We could add but I think we should first try to reduce the space we are using.\r\n\r\nWhat do you think we can specifically do in order to save the space?\r\n\r\n> In autoware.auto 30gb total space for entire machine was enough.\r\n\r\nYes, but the current `autoware.universe` depends on CUDA, which uses additional 10GB+. :cry: '}, {'user_id': 'xmfcx', 'created_at': '2022-01-19T07:54:20Z', 'comment_text': ""We won't use cuda on CI, we should make it optional. ""}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-19T07:57:29Z', 'comment_text': ""If so, we can't check the build of some perception modules in `autoware.universe`, is that okay?\r\nAlso, could you tell me why do you think making it optional is good?""}, {'user_id': 'xmfcx', 'created_at': '2022-01-19T08:01:36Z', 'comment_text': ""> If so, we can't check the build of some perception modules in `autoware.universe`, is that okay? Also, could you tell me why do you think making it optional is good?\r\n\r\nThe CI machines don't have Nvidia gpus and CUDA only works on nvidia gpus so we couldn't check them anyway.\r\n\r\nInstances with gpus are much more expensive, we could set them to be checked with lower frequency if needed. ""}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-19T08:04:28Z', 'comment_text': ""@xmfcx \r\n> The CI machines don't have Nvidia gpus and CUDA only works on nvidia gpus so we couldn't check them anyway.\r\n\r\nYes, we can't check the runtime behavior, but I think we can check the build.\r\n\r\n> Instances with gpus are much more expensive, we could set them to be checked with lower frequency if needed.\r\n\r\nWe don't need GPUs.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-19T08:41:29Z', 'comment_text': '@xmfcx So considering that, can we increase the space or cannot in any case?'}, {'user_id': 'xmfcx', 'created_at': '2022-01-19T14:34:40Z', 'comment_text': ""@kenji-miyake right now it has 60GB size, will increase it to 80GB. Since it is only a single machine, it shouldn't be a problem hopefully.""}, {'user_id': 'xmfcx', 'created_at': '2022-01-19T14:43:19Z', 'comment_text': '@kenji-miyake Increased it, current configuration:\r\n```bash\r\nFilesystem       Size  Used Avail Use% Mounted on\r\n/dev/root         78G   46G   33G  59% /\r\n```'}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-19T15:25:56Z', 'comment_text': ""Thank you! But it seems there is another issue... :cry: I'll investigate and fix it.\r\nhttps://github.com/autowarefoundation/autoware/actions/runs/1714127510""}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-19T16:01:16Z', 'comment_text': '```\r\nroot@ip-192-168-22-5:/var/lib/docker# du -sh *\r\n1.6M    buildkit\r\n244K    containers\r\n26M     image\r\n76K     network\r\n24G     overlay2\r\n16K     plugins\r\n4.0K    runtimes\r\n4.0K    swarm\r\n6.8G    tmp\r\n4.0K    trust\r\n38G     volumes\r\n```'}, {'user_id': 'xmfcx', 'created_at': '2022-01-19T16:03:12Z', 'comment_text': ""> ```\r\n> root@ip-192-168-22-5:/var/lib/docker# du -sh *\r\n> 1.6M    buildkit\r\n> 244K    containers\r\n> 26M     image\r\n> 76K     network\r\n> 24G     overlay2\r\n> 16K     plugins\r\n> 4.0K    runtimes\r\n> 4.0K    swarm\r\n> 6.8G    tmp\r\n> 4.0K    trust\r\n> 38G     volumes\r\n> ```\r\n\r\nYeah, I've also stated it in https://github.com/autowarefoundation/autoware.ai/issues/2412 in collapsed logs.""}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-19T16:05:08Z', 'comment_text': 'Oh, yes it was folded, sorry.\r\n\r\nAnd after `docker system prune --all`\r\n\r\n```\r\nroot@ip-192-168-22-5:/var/lib/docker# du -sh *\r\n1.6M    buildkit\r\n244K    containers\r\n3.1M    image\r\n76K     network\r\n906M    overlay2\r\n16K     plugins\r\n4.0K    runtimes\r\n4.0K    swarm\r\n4.0K    tmp\r\n4.0K    trust\r\n24G     volumes\r\n```'}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-19T16:16:09Z', 'comment_text': '```\r\nroot@ip-192-168-22-5:/var/lib/docker# docker ps\r\nCONTAINER ID   IMAGE                           COMMAND                  CREATED        STATUS        PORTS     NAMES\r\n7803dfa32a78   moby/buildkit:buildx-stable-1   ""buildkitd --allow-i…""   15 hours ago   Up 15 hours             buildx_buildkit_builder-b4526839-5106-4cdc-acdd-f9b9f0621fa00\r\n6375c66e5d44   moby/buildkit:buildx-stable-1   ""buildkitd --allow-i…""   16 hours ago   Up 16 hours             buildx_buildkit_builder-40b5c38f-e9f0-4443-9284-3a00cfa622280\r\nee72b8df7fe6   moby/buildkit:buildx-stable-1   ""buildkitd --allow-i…""   22 hours ago   Up 22 hours             buildx_buildkit_builder-3db86ac2-f685-4338-a80e-3115c89fb7ff0\r\nfa5f61ca1c6e   moby/buildkit:buildx-stable-1   ""buildkitd --allow-i…""   23 hours ago   Up 23 hours             buildx_buildkit_builder-201962b3-ef56-49fc-842b-51436675fc520\r\n0401dfb53bfd   moby/buildkit:buildx-stable-1   ""buildkitd --allow-i…""   30 hours ago   Up 30 hours             buildx_buildkit_builder-10beb027-0751-4fcd-8071-9c9050145b870\r\n```\r\n\r\nSince it seemed that old containers are left, I stopped all containers and ran `docker volume prune`.\r\n\r\nAfter that,\r\n\r\n```\r\nroot@ip-192-168-22-5:/var/lib/docker# df -h\r\nFilesystem       Size  Used Avail Use% Mounted on\r\n/dev/root         78G   10G   68G  13% /\r\ndevtmpfs         7.7G     0  7.7G   0% /dev\r\ntmpfs            7.8G     0  7.8G   0% /dev/shm\r\ntmpfs            1.6G 1004K  1.6G   1% /run\r\ntmpfs            5.0M     0  5.0M   0% /run/lock\r\ntmpfs            7.8G     0  7.8G   0% /sys/fs/cgroup\r\n/dev/nvme0n1p15   98M  290K   98M   1% /boot/efi\r\n/dev/loop1        30M   30M     0 100% /snap/amazon-ssm-agent/3553\r\n/dev/loop2        22M   22M     0 100% /snap/amazon-ssm-agent/4047\r\n/dev/loop6        89M   89M     0 100% /snap/core/11803\r\n/dev/loop11       89M   89M     0 100% /snap/core/11996\r\n/dev/loop7        61M   61M     0 100% /snap/lxd/21804\r\n/dev/loop4        61M   61M     0 100% /snap/lxd/21843\r\n/dev/loop8        58M   58M     0 100% /snap/core20/1244\r\n/dev/loop9        49M   49M     0 100% /snap/core18/2252\r\n/dev/loop0        58M   58M     0 100% /snap/core20/1274\r\n/dev/loop10       49M   49M     0 100% /snap/core18/2289\r\ntmpfs            1.6G     0  1.6G   0% /run/user/1000\r\n```\r\n\r\nTo avoid such problems, we should try ephemeral runners as you said.'}, {'user_id': 'kenji-miyake', 'created_at': '2022-01-20T04:40:44Z', 'comment_text': ""@xmfcx Succeeded!\r\nhttps://github.com/autowarefoundation/autoware/runs/4870569220?check_suite_focus=true\r\n\r\nIt used about 46GB.\r\n\r\n![image](https://user-images.githubusercontent.com/31987104/150274785-84b256c1-b25f-49bb-8bb1-cdca5f9ab44c.png)\r\n\r\n\r\nI'll try some more times to confirm there isn't an old and big cache left.\r\n\r\nIt seems to be cleaned up so far.\r\nhttps://github.com/autowarefoundation/autoware/runs/4877651871?check_suite_focus=true\r\n\r\n![image](https://user-images.githubusercontent.com/31987104/150275044-ed135882-c20c-4621-8e7b-3df69d585eaf.png)""}]"
